(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,n){"use strict";t.exports=n(217)},function(t,e,n){"use strict";(function(t,r,i,o){n.d(e,"a",function(){return xt}),n.d(e,"b",function(){return Tt}),n.d(e,"c",function(){return uu}),n.d(e,"d",function(){return gc}),n.d(e,"e",function(){return Js}),n.d(e,"f",function(){return oh}),n.d(e,"g",function(){return gs}),n.d(e,"h",function(){return On}),n.d(e,"i",function(){return $u}),n.d(e,"j",function(){return Zu}),n.d(e,"k",function(){return hu}),n.d(e,"l",function(){return ws}),n.d(e,"m",function(){return Jn}),n.d(e,"n",function(){return _n}),n.d(e,"o",function(){return Ml}),n.d(e,"p",function(){return nh}),n.d(e,"q",function(){return oc}),n.d(e,"r",function(){return Ac}),n.d(e,"s",function(){return vc}),n.d(e,"t",function(){return Eu}),n.d(e,"u",function(){return Cs}),n.d(e,"v",function(){return nr}),n.d(e,"w",function(){return Vc}),n.d(e,"x",function(){return fr}),n.d(e,"y",function(){return gn}),n.d(e,"z",function(){return nc}),n.d(e,"A",function(){return Rs}),n.d(e,"B",function(){return wc}),n.d(e,"C",function(){return _c}),n.d(e,"D",function(){return Fr}),n.d(e,"E",function(){return pr}),n.d(e,"F",function(){return Ou}),n.d(e,"G",function(){return pn}),n.d(e,"H",function(){return mn}),n.d(e,"I",function(){return yn}),n.d(e,"J",function(){return bn}),n.d(e,"K",function(){return wn}),n.d(e,"L",function(){return Ge}),n.d(e,"M",function(){return vr}),n.d(e,"N",function(){return Wc}),n.d(e,"O",function(){return mr}),n.d(e,"P",function(){return En});var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=function(){function t(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(t,e){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+e+"."),this.platformName=t,this.platform=e},t.prototype.registerFlag=function(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){var r=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+r+"."),this.set(t,r)}},t.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},t.prototype.getNumber=function(t){return this.get(t)},t.prototype.getBool=function(t){return this.get(t)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){if(null==this.flagRegistry[t])throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)},t.prototype.evaluateFlag=function(t){if(null==this.flagRegistry[t])throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},t.prototype.setFlags=function(t){this.flags=Object.assign({},t)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var t=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var e,n,r=(e=this.global.location.search,n={},e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}(n,e[0],e[1]),e.join("=")}),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach(function(e){var n=e.split(":"),r=n[0],i=n[1];t.urlFlags[r]=function(t,e){if("true"===(e=e.toLowerCase())||"false"===e)return"true"===e;if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}(r,i)})}},t}();function f(){return h}var h=null,d=new Map,p=new Map;function v(t,e){var n=b(t,e);return d.get(n)}function g(t){for(var e=d.entries(),n=[];;){var r=e.next(),i=r.done,o=r.value;if(i)break;var a=o[0],s=o[1];a.split("_")[0]===t&&n.push(s)}return n}function m(t){var e=t.kernelName,n=t.backendName,r=b(e,n);if(d.has(r))throw new Error("The kernel '"+e+"' for backend '"+n+"' is already registered");d.set(r,t)}function y(t){var e=t.kernelName;p.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),p.set(e,t)}function b(t,e){return e+"_"+t}function w(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function x(t,e,n){return Math.max(t,Math.min(e,n))}function E(t){return t%2==0?t:t+1}function _(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function k(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function S(t,e,n){void 0===n&&(n=""),k(I(t,e),function(){return n+" Shapes "+t+" and "+e+" must match"})}function C(t){k(null!=t,function(){return"The input to the tensor constructor must be a non-null value."})}function O(t,e,n){if(void 0===e&&(e=[]),void 0===n&&(n=!1),null==e&&(e=[]),Array.isArray(t)||W(t)&&!n)for(var r=0;r<t.length;++r)O(t[r],e,n);else e.push(t);return e}function T(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function I(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function R(t){return t%1==0}function A(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function P(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function N(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function D(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise(function(r,i){var o=0;!function a(){if(t())r();else{var s=e(++o);null!=n&&o>=n?i():setTimeout(a,s)}}()})}function M(t,e){for(var n=1,r=-1,i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(-1===t[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(t[i]<0)throw Error("Shapes can not be < 0. Found "+t[i]+" at dim "+i);if(-1===r){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(0===n)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var o=t.slice();return o[r]=e/n,o}function j(t,e){var n=e.length;return k((t=null==t?e.map(function(t,e){return e}):[].concat(t)).every(function(t){return t>=-n&&t<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t}),k(t.every(function(t){return R(t)}),function(){return"All values in axis param must be integers but got axis "+t}),t.map(function(t){return t<0?n+t:t})}function F(t,e){for(var n=[],r=[],i=null!=e&&Array.isArray(e)&&0===e.length,o=null==e||i?null:j(e,t).sort(),a=0,s=0;s<t.length;++s){if(null!=o){if(o[a]===s&&1!==t[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+t[s]+"' is not 1");(null==o[a]||o[a]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),o[a]<=s&&a++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function L(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function B(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type "+t);n=new Array(e)}return n}function V(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function U(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}function z(t,e){return"complex64"!==e&&("float32"!==e||"complex64"===t)&&("int32"!==e||"float32"===t||"complex64"===t)&&("bool"!==e||"bool"!==t)}function W(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function q(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function H(t){if(null==t)return 0;var e=0;return t.forEach(function(t){return e+=t.length}),e}function G(t){return"string"==typeof t||t instanceof String}function K(t){return"boolean"==typeof t}function X(t){return"number"==typeof t}function $(t){return Array.isArray(t)?$(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":X(t)?"float32":G(t)?"string":K(t)?"bool":"float32"}function Y(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Q(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function J(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function Z(t,e,n){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=O(t)),n&&V(t,e),function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),i=0;i<r.length;++i)0!==Math.round(t[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+e)}function tt(t,e){if(0===t.length)return e[0];var n=t.reduce(function(t,e){return t*e});if(0===n)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size.");return function t(e,n,r){var i=new Array;if(1===n.length)for(var o=n[0],a=0;a<o;a++)i[a]=r[e+a];else{o=n[0];var s=n.slice(1),u=s.reduce(function(t,e){return t*e});for(a=0;a<o;a++)i[a]=t(e+a*u,s,r)}return i}(0,t,e)}function et(t,e){for(var n=nt(t,e),r=0;r<n.length;r++)n[r]=1;return n}function nt(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function rt(){return f().platform.now()}function it(t){t.forEach(function(e){k(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."})})}function ot(t,e){return void 0===e&&(e="utf-8"),e=e||"utf-8",f().platform.encode(t,e)}function at(t,e){return void 0===e&&(e="utf-8"),e=e||"utf-8",f().platform.decode(t,e)}function st(t,e,n){if(0===e)return 0;if(1===e)return t[0];for(var r=t[t.length-1],i=0;i<t.length-1;++i)r+=n[i]*t[i];return r}function ut(t,e,n){if(0===e)return[];if(1===e)return[t];for(var r=new Array(e),i=0;i<r.length-1;++i)r[i]=Math.floor(t/n[i]),t-=r[i]*n[i];return r[r.length-1]=t,r}Object.freeze({shuffle:w,clamp:x,nearestLargerEven:E,sum:_,randUniform:function(t,e){var n=Math.random();return e*n+(1-n)*t},distSquared:function(t,e){for(var n=0,r=0;r<t.length;r++){var i=Number(t[r])-Number(e[r]);n+=i*i}return n},assert:k,assertShapesMatch:S,assertNonNull:C,flatten:O,sizeFromShape:T,isScalarShape:function(t){return 0===t.length},arraysEqual:I,isInt:R,tanh:A,sizeToSquarishShape:P,createShuffledIndices:function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return w(e),e},rightPad:N,repeatedTry:D,inferFromImplicitShape:M,parseAxisParam:j,squeezeShape:F,getTypedArrayFromDType:L,getArrayFromDType:B,checkConversionForErrors:V,isValidDtype:U,hasEncodingLoss:z,isTypedArray:W,bytesPerElement:q,bytesFromStringArray:H,isString:G,isBoolean:K,isNumber:X,inferDtype:$,isFunction:Y,nearestDivisor:Q,computeStrides:J,toTypedArray:Z,toNestedArray:tt,makeOnesTypedArray:et,makeZerosTypedArray:nt,now:rt,assertNonNegativeIntegerDimensions:it,fetch:function(t,e){return f().platform.fetch(t,e)},encodeString:ot,decodeString:at,locToIndex:st,indexToLoc:ut});var ct=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new lt)}return t.prototype.profileKernel=function(t,e,n){var r,i=this,o=this.backendTimer.time(function(){r=n()});return r.forEach(function(n){n.data().then(function(r){!function(t,e,n){if("float32"!==e)return!1;for(var r=0;r<t.length;r++){var i=t[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,t),o.then(function(o){var a="";null!=o.getExtraProfileInfo&&(a=o.getExtraProfileInfo()),i.logger.logKernelProfile(t,n,r,o.kernelMs,e,a)})})}),r},t}(),lt=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,r,i,o){var a="number"==typeof r?N(r+"ms",9):r.error,s=N(t,25),u=e.rank,c=e.size,l=N(e.shape.toString(),14),f="";for(var h in i){var d=i[h].shape||e.shape,p=d.length;f+=h+": "+p+"D "+(p>0?d:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+l+"\t%c"+c+"\t%c"+f+"\t%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}(),ft=20,ht=3,dt=7;function pt(t,e,n){return N(Array.isArray(t)?parseFloat(t[0].toFixed(dt))+" + "+parseFloat(t[1].toFixed(dt))+"j":G(t)?"'"+t+"'":"bool"===n?vt(t):parseFloat(t.toFixed(dt)).toString(),e)}function vt(t){return 0===t?"false":"true"}function gt(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var mt=function(){function t(t,e,n){var r=this;if(this.dtype=e,this.shape=t.slice(),this.size=T(t),null!=n){var i=n.length;k(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||B(e,this.size),this.strides=J(t)}return t.prototype.set=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),k(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+e.rank+")"});var i=this.locToIndex(n);this.values[i]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r];if(o<0||o>=this.shape[n]){var a="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=t[t.length-1],u=0;u<t.length-1;++u)s+=this.strides[u]*t[u];return this.values[s]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return yt().makeTensor(this.values,this.shape,this.dtype)},t}(),yt=null,bt=null,wt=null,xt=function(){function t(t,e,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=T(t),this.strides=J(t),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),k(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.as5D=function(t,e,n,r,i){return this.throwIfDisposed(),this.reshape([t,e,n,r,i])},t.prototype.asType=function(t){return this.throwIfDisposed(),bt.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,bt.buffer(this.shape,this.dtype,t)]}})})},t.prototype.bufferSync=function(){return bt.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,tt(this.shape,t)]}})})},t.prototype.arraySync=function(){return tt(this.shape,this.dataSync())},t.prototype.data=function(){return u(this,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),t=yt().read(this.dataId),"string"!==this.dtype?[3,2]:[4,t];case 1:e=n.sent();try{return[2,e.map(function(t){return at(t)})]}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,t]}})})},t.prototype.dataSync=function(){this.throwIfDisposed();var t=yt().readSync(this.dataId);if("string"===this.dtype)try{return t.map(function(t){return at(t)})}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},t.prototype.bytes=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,yt().read(this.dataId)];case 1:return t=e.sent(),"string"===this.dtype?[2,t]:[2,new Uint8Array(t.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(yt().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),bt.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),bt.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),bt.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),bt.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),bt.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),bt.clone(this)},t.prototype.oneHot=function(t,e,n){return this.throwIfDisposed(),bt.oneHot(this,t,e,n)},t.prototype.toString=function(t){return void 0===t&&(t=!1),function(t,e,n,r){var i=J(e),o=function(t,e,n,r){var i=T(e),o=r[r.length-1],a=new Array(o).fill(0),s=e.length,u="complex64"===n?gt(t):t;if(s>1)for(var c=0;c<i/o;c++)for(var l=c*o,f=0;f<o;f++)a[f]=Math.max(a[f],pt(u[l+f],0,n).length);return a}(t,e,n,i),a=e.length,s=function t(e,n,r,i,o,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c)return"complex64"===r?[pt(gt(e)[0],0,r)]:"bool"===r?[vt(e[0])]:[e[0].toString()];if(1===c){if(u>ft){var l=ht*s,f=Array.from(e.slice(0,l)),h=Array.from(e.slice((u-ht)*s,u*s));return"complex64"===r&&(f=gt(f),h=gt(h)),["["+f.map(function(t,e){return pt(t,o[e],r)}).join(", ")+", ..., "+h.map(function(t,e){return pt(t,o[u-ht+e],r)}).join(", ")+"]"]}return["["+("complex64"===r?gt(e):Array.from(e)).map(function(t,e){return pt(t,o[e],r)}).join(", ")+"]"]}var d=n.slice(1),p=i.slice(1),v=i[0]*s,g=[];if(u>ft){for(var m=0;m<ht;m++){var y=(b=m*v)+v;g.push.apply(g,t(e.slice(b,y),d,r,p,o,!1))}for(g.push("..."),m=u-ht;m<u;m++)y=(b=m*v)+v,g.push.apply(g,t(e.slice(b,y),d,r,p,o,m===u-1))}else for(m=0;m<u;m++){var b;y=(b=m*v)+v,g.push.apply(g,t(e.slice(b,y),d,r,p,o,m===u-1))}var w=2===c?",":"";for(g[0]="["+g[0]+w,m=1;m<g.length-1;m++)g[m]=" "+g[m]+w;var x=",\n";for(m=2;m<c;m++)x+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(a?"":x),g}(t,e,n,i,o),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+e+"]"),u.push("  values:")),u.push(s.map(function(t){return"    "+t}).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),bt.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),bt.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),bt.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),bt.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),bt.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),bt.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),bt.reverse(this,t)},t.prototype.concat=function(e,n){return void 0===n&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),bt.concat([this].concat(e),n)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),bt.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),bt.stack([this,t],e)},t.prototype.unstack=function(t){return void 0===t&&(t=0),bt.unstack(this,t)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),bt.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,i){return void 0===n&&(n=.001),wt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,e,i,r,n)},t.prototype.batchNorm=function(t,e,n,r,i){return void 0===i&&(i=.001),this.throwIfDisposed(),bt.batchNorm(this,t,e,n,r,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.sum(this,t,e)},t.prototype.prod=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.prod(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),bt.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),bt.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),bt.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),bt.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),bt.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),bt.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),bt.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),bt.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),bt.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),bt.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),bt.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),bt.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),bt.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),bt.div(this,t)},t.prototype.divNoNan=function(t){return this.throwIfDisposed(),bt.divNoNan(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),bt.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),bt.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),bt.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),bt.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),bt.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),bt.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),bt.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),bt.modStrict(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),bt.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),bt.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),bt.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),bt.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),bt.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),bt.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),bt.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),bt.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),bt.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),bt.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),bt.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),bt.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),bt.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),bt.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),bt.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),bt.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),bt.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),bt.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),bt.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),bt.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),bt.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),bt.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),bt.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),bt.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),bt.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),bt.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),bt.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),bt.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),bt.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),bt.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),bt.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),bt.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),bt.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),bt.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),bt.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),bt.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),bt.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),bt.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),bt.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),bt.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),bt.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),bt.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),bt.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),bt.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),bt.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),bt.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),bt.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),bt.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),bt.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),bt.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),bt.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),bt.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),bt.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),bt.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),bt.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),bt.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),bt.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),bt.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),bt.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),bt.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),bt.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),bt.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),bt.softmax(this,t)},t.prototype.logSoftmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),bt.logSoftmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),bt.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),bt.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,i,o){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),bt.conv1d(this,t,e,n,r,i,o)},t.prototype.conv2d=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),bt.conv2d(this,t,e,n,r,i,o)},t.prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),bt.conv2dTranspose(this,t,e,n,r,i)},t.prototype.depthwiseConv2D=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),bt.depthwiseConv2d(this,t,e,n,r,i,o)},t.prototype.separableConv2d=function(t,e,n,r,i,o){return void 0===i&&(i=[1,1]),void 0===o&&(o="NHWC"),this.throwIfDisposed(),bt.separableConv2d(this,t,e,n,r,i,o)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),bt.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),bt.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),bt.localResponseNormalization(this,t,e,n,r)},t.prototype.pool=function(t,e,n,r,i){return this.throwIfDisposed(),bt.pool(this,t,e,n,r,i)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),yt().makeVariable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),bt.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),bt.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),bt.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),bt.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,n,r,i,o,a,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),bt.stridedSlice(this,t,e,n,r,i,o,a,s)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),bt.depthToSpace(this,t,e)},t.prototype.fft=function(){return this.throwIfDisposed(),bt.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),bt.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),bt.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),bt.spectral.irfft(this)},t}();Object.defineProperty(xt,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.dataId&&null!=t.shape&&null!=t.dtype}});var Et,_t,kt,St,Ct,Ot,Tt=function(t){function e(e,n,r,i){var o=t.call(this,e.shape,e.dtype,e.dataId,i)||this;return o.trainable=n,o.name=r,o}return s(e,t),e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!I(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");yt().disposeTensor(this),this.dataId=t.dataId,yt().incRef(this,null)},e.prototype.dispose=function(){yt().disposeVariable(this),this.isDisposedInternal=!0},e}(xt);Object.defineProperty(Tt,Symbol.hasInstance,{value:function(t){return t instanceof xt&&null!=t.assign&&t.assign instanceof Function}}),(Ot=Et||(Et={})).R0="R0",Ot.R1="R1",Ot.R2="R2",Ot.R3="R3",Ot.R4="R4",Ot.R5="R5",Ot.R6="R6",function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(_t||(_t={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(kt||(kt={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(St||(St={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(Ct||(Ct={}));var It={float32:St,int32:_t,bool:kt,complex64:Ct};function Rt(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error("Can not upcast "+t+" with "+e)}return It[t][e]}function At(t){return Rt(t,"int32")}function Pt(t,e){if(t.dtype===e.dtype)return[t,e];var n=Rt(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Nt(t,e){k(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match"})}function Dt(t){var e=[];return function t(e,n,r){if(null!=e)if(e instanceof xt)n.push(e);else if(i=e,Array.isArray(i)||"object"==typeof i){var i,o=e;for(var a in o){var s=o[a];r.has(s)||(r.add(s),t(s,n,r))}}}(t,e,new Set),e}Object.freeze({makeTypesMatch:Pt,assertTypesMatch:Nt,isTensorInList:function(t,e){return e.some(function(e){return e.id===t.id})},getTensorsInContainer:Dt});var Mt,jt=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},t}(),Ft=function(){function t(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new jt}return t.prototype.ready=function(){return u(this,void 0,void 0,function(){var t,e,n;return c(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];t=this.getSortedBackends(),e=0,r.label=1;case 1:return e<t.length?(n=t[e],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return e++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var t=this.initializeBackendsAndReturnBest(),e=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+e+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;if(this.initializeBackend(t).asyncInit)return null}return this.registry[t]},t.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},t.prototype.registerBackend=function(t,e,n){return void 0===n&&(n=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:e,priority:n},!0)},t.prototype.setBackend=function(t){return u(this,void 0,void 0,function(){var e,n,r;return c(this,function(i){switch(i.label){case 0:if(null==this.registryFactory[t])throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,null!=this.registry[t]?[3,4]:(this.backendInstance=null,e=this.initializeBackend(t),n=e.success,e.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new ct(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var t=this;g(this.backendName).forEach(function(e){null!=e.setupFunc&&e.setupFunc(t.backendInstance)})},t.prototype.disposeRegisteredKernels=function(t){var e=this;g(t).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(e.registry[t])})},t.prototype.initializeBackend=function(t){var e=this,n=this.registryFactory[t];if(null==n)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,o=r.then(function(n){return!(i<e.pendingBackendInitId)&&(e.registry[t]=n,e.pendingBackendInit=null,!0)}).catch(function(n){return!(i<e.pendingBackendInitId)&&(e.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(n.stack||n.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(e){return console.warn("Initialization of backend "+t+" failed"),console.warn(e.stack||e.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var t=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(e,n){return t.registryFactory[n].priority-t.registryFactory[e].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),e=0;e<t.length;e++){var n=t[e],r=this.initializeBackend(n),i=r.success,o=r.asyncInit;if(o||i)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(t,e){var n=this.state.tensorInfo.get(e),r=n.backend,i=this.readSync(e);r.disposeData(e),n.backend=t,t.move(e,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(t,e){var n,r=this,i=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun(function(){return r.startScope(i)},function(){return r.endScope(n)},function(){return(n=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},t.prototype.scopedRun=function(t,e,n){t();try{var r=n();return e(),r}catch(t){throw e(),t}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(t){var e=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[e],function(t){return{x:function(){return t.toFloat()}}},[]),e},t.prototype.runKernel=function(t,e,n,r,i){return this.runKernelFunc(null,e,null,t,n,r,i)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(t,e,n){var r=this.backend.numDataIds(),i=0;n.forEach(function(t){i+="complex64"===t.dtype?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-e-i-o;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+t+"'")},t.prototype.runKernelFunc=function(t,e,n,r,i,o,a){var s,u=this;void 0===o&&(o=[]),void 0===a&&(a=[]);var c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,h=function(t){l&&(c=t.map(function(t){return u.keep(u.clone(t))}))},d=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var g,m=v(r,this.backendName);return f=null!=m?function(){var t=u.backend.numDataIds();g=m.kernelFunc({inputs:e,attrs:i,backend:u.backend});var n=Array.isArray(g)?g:[g];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n);var s=n.map(function(t){var e=t.dataId,n=t.shape,r=t.dtype;return u.makeTensorFromDataId(e,n,r)}),c=s.filter(function(t,e){return a[e]});return h((o||[]).slice().concat(c)),s}:function(){var e=u.backend.numDataIds();g=u.tidy(function(){return t(u.backend,h)});var n=Array.isArray(g)?g:[g];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n),n},this.scopedRun(function(){return u.state.kernelDepth++},function(){return u.state.kernelDepth--},function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,e,function(){return f()}):f()}),l&&this.addTapeNode(r,e,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-d,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map(function(t){return e[t].shape}),outputShapes:s.map(function(t){return t.shape})}),Array.isArray(g)?s:s[0]},t.prototype.makeTensor=function(t,e,n,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=t;"string"===n&&G(t[0])&&(i=t.map(function(t){return ot(t)}));var o=r.write(i,e,n),a=new xt(e,n,o,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(o),u=H(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return a},t.prototype.makeTensorFromDataId=function(t,e,n,r){var i=new xt(e,n=n||"float32",t,this.nextTensorId());return this.incRef(i,r),i},t.prototype.makeVariable=function(t,e,n,r){void 0===e&&(e=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.asType(r));var i=new Tt(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},t.prototype.incRef=function(t,e){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(r=t.size*q(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof Tt||this.track(t)},t.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var e=this.state.registeredVariables[t];this.disposeVariable(e)}},t.prototype.disposeVariable=function(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},t.prototype.profile=function(t){return u(this,void 0,void 0,function(){var e,n;return c(this,function(r){return this.state.profiling=!0,e=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(t){return t.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},t.prototype.addTapeNode=function(t,e,n,r,i){var o=this,a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:i},s=function(t){return p.get(t)}(t);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(t){return t=t.map(function(t,e){if(null==t){var r=n[e],i=nt(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return t}),r(t.length>1?t:t[0],i)}),this.state.activeTape.push(a)},t.prototype.keep=function(t){return t.kept=!0,t},t.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(t){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e},t.prototype.endScope=function(t){for(var e=this,n=Dt(t),r=new Set(n.map(function(t){return t.id})),i=0;i<this.state.activeScope.track.length;i++){var o=this.state.activeScope.track[i];o.kept||r.has(o.id)||o.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(t){t.kept||t.scopeId!==a.id||e.track(t)})},t.prototype.gradients=function(t,e,n,r){var i=this;if(void 0===r&&(r=!1),k(e.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",t)});k(o instanceof xt,function(){return"The result y returned by f() must be a tensor."});var a=function(t,e,n){for(var r={},i={},o=0;o<e.length;o++)r[e[o].id]=!0;for(o=0;o<t.length;o++){var a=(p=t[o]).inputs;for(var s in a){for(var u=a[s],c=!1,l=0;l<e.length;l++)if(r[u.id]){p.outputs.forEach(function(t){return r[t.id]=!0}),c=!0,i[p.id]=!0;break}if(c)break}}var f={};f[n.id]=!0;var h={};for(o=t.length-1;o>=0;o--)for(a=(p=t[o]).inputs,l=0;l<p.outputs.length;l++)if(f[p.outputs[l].id]){for(var s in a)f[a[s].id]=!0,h[p.id]=!0;break}var d=[];for(o=0;o<t.length;o++){var p;if(i[(p=t[o]).id]&&h[p.id]){var v={};for(var s in p.inputs){var g=p.inputs[s];r[g.id]&&(v[s]=g)}var m=Object.assign({},p);m.inputs=v,m.outputs=p.outputs,d.push(m)}}return d}(this.state.activeTape,e,o);if(!r&&0===a.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var t,r,s={};s[o.id]=null==n?(r=et(T(t=o.shape),"float32"),Lt.makeTensor(r,t,"float32")):n,function(t,e,n){for(var r=function(r){var i=e[r],o=[];if(i.outputs.forEach(function(e){var n=t[e.id];null!=n?o.push(n):o.push(null)}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var a=i.gradient(o),s=function(e){if(!(e in a))throw new Error("Cannot backprop through input "+e+". Available gradients found: "+Object.keys(a)+".");var r=n(function(){return a[e]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+e+" must have 'float32' dtype, but has '"+r.dtype+"'");var o=i.inputs[e];if(!I(r.shape,o.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+e+"' has shape '"+r.shape+"', which does not match the shape of the input '"+o.shape+"'");if(null==t[o.id])t[o.id]=r;else{var s=t[o.id];t[o.id]=s.add(r),s.dispose()}};for(var u in i.inputs)s(u)},i=e.length-1;i>=0;i--)r(i)}(s,a,function(t){return i.tidy(t)});var u=e.map(function(t){return s[t.id]});return 0===i.state.gradientDepth&&(i.state.activeTape.forEach(function(t){for(var e=0,n=t.saved;e<n.length;e++)n[e].dispose()}),i.state.activeTape=null),{value:o,grads:u}})},t.prototype.customGrad=function(t){var e=this;return k(Y(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];k(r.every(function(t){return t instanceof xt}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return r.forEach(function(t,e){o[e]=t}),e.runKernelFunc(function(e,i){return k((n=t.apply(void 0,r.concat([i]))).value instanceof xt,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),k(Y(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},o,function(t,e){var i=n.gradFunc(t,e),o=Array.isArray(i)?i:[i];k(o.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),k(o.every(function(t){return t instanceof xt}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var a={};return o.forEach(function(t,e){a[e]=function(){return t}}),a})}},t.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},t.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},t.prototype.time=function(t){return u(this,void 0,void 0,function(){var e,n;return c(this,function(r){switch(r.label){case 0:return e=rt(),[4,this.backend.time(t)];case 1:return(n=r.sent()).wallMs=rt()-e,[2,n]}})})},t.prototype.track=function(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new jt,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}(),Lt=function(){var e=function(){if(null==Mt){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof t)e=t;else if("undefined"!=typeof r)e=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Mt=e}return Mt}();if(null==e._tfengine){var n=new l(e);e._tfengine=new Ft(n)}return function(t){h=t}(e._tfengine.ENV),yt=function(){return e._tfengine},e._tfengine}();function Bt(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Vt=f();Vt.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Vt.registerFlag("IS_BROWSER",function(){return Bt()}),Vt.registerFlag("IS_NODE",function(){return"undefined"!=typeof r&&void 0!==r.versions&&void 0!==r.versions.node}),Vt.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Vt.registerFlag("PROD",function(){return!1}),Vt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Vt.getBool("DEBUG")}),Vt.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Vt.registerFlag("IS_TEST",function(){return!1});var Ut,zt,Wt,qt={},Ht={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Gt(t,e){qt[t]=e}function Kt(t){t in qt||(qt[t]=function(t){if(1!==t&&2!==t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=function(t){if("undefined"!=typeof OffscreenCanvas&&2===t)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(t);return e.addEventListener("webglcontextlost",function(e){e.preventDefault(),delete qt[t]},!1),1===t?e.getContext("webgl",Ht)||e.getContext("experimental-webgl",Ht):e.getContext("webgl2",Ht)}(t));var e=qt[t];return e.isContextLost()?(delete qt[t],Kt(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),qt[t])}function Xt(t,e){return[e,t]}function $t(t){var e=T(t);return P(Math.ceil(e/4))}function Yt(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Qt(t,e){var n,r,i,o,a,s,u,c,l,h=t;return 2===f().getNumber("WEBGL_VERSION")?(n=h.R32F,r=h.R16F,i=h.RGBA16F,o=h.RGBA32F,a=h.RED,s=4,u=1,c=h.HALF_FLOAT,l=h.FLOAT):(n=t.RGBA,r=t.RGBA,i=t.RGBA,o=h.RGBA,a=t.RGBA,s=4,u=4,c=null!=e?e.HALF_FLOAT_OES:null,l=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:l}}function Jt(t,e,n){var r=n();return e&&function(t){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+ne(t,e))}(t),r}!function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"}(Ut||(Ut={})),function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(zt||(zt={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Wt||(Wt={}));var Zt=5.96e-8,te=65504;function ee(t){return!!(f().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===t||Zt<Math.abs(t)&&Math.abs(t)<te)}function ne(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function re(t,e,n){return Ce(t,e,function(){return t.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function ie(t,e,n){var r=Ce(t,e,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Jt(t,e,function(){return t.shaderSource(r,n)}),Jt(t,e,function(){return t.compileShader(r)}),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function oe(t,e,n){var r=Ce(t,e,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Jt(t,e,function(){return t.shaderSource(r,n)}),Jt(t,e,function(){return t.compileShader(r)}),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw function(t,e){var n=ue.exec(e);if(null==n)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var r=+n[1],i=t.split("\n"),o=i.length.toString().length+2,a=i.map(function(t,e){return N((e+1).toString(),o)+t}),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var c=a.slice(0,r-1),l=a.slice(r-1,r),f=a.slice(r);console.log(c.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+N(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var ae,se,ue=/ERROR: [0-9]+:([0-9]+):/g;function ce(t,e){return Ce(t,e,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function le(t,e,n){if(Jt(t,e,function(){return t.linkProgram(n)}),!1===t.getProgramParameter(n,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function fe(t,e,n){if(Jt(t,e,function(){return t.validateProgram(n)}),!1===t.getProgramParameter(n,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function he(t,e,n){var r=Ce(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Jt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),Jt(t,e,function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function de(t,e,n){var r=Ce(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Jt(t,e,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)}),Jt(t,e,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function pe(t,e){return Ce(t,e,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function ve(t,e){var n=f().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n)throw r="["+t+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function ge(t,e){return Ce(t,e,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function me(t,e,n,r,i,o,a,s){var u=t.getAttribLocation(n,r);return-1!==u&&(Jt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,i)}),Jt(t,e,function(){return t.vertexAttribPointer(u,o,t.FLOAT,!1,a,s)}),Jt(t,e,function(){return t.enableVertexAttribArray(u)}),!0)}function ye(t,e,n,r){Oe(t,r),Jt(t,e,function(){return t.activeTexture(t.TEXTURE0+r)}),Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)})}function be(t,e,n,r){return Ce(t,e,function(){return t.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function we(t,e,n){return t.getUniformLocation(e,n)}function xe(t,e,n,r,i,o){Jt(t,e,function(){return ye(t,e,r,o)}),Jt(t,e,function(){return t.uniform1i(i,o)})}function Ee(t,e,n,r){Jt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)}),Jt(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)})}function _e(t,e,n){Jt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),Jt(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function ke(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Se(t,e))}function Se(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Ce(t,e,n,r){var i=Jt(t,e,function(){return n()});if(null==i)throw new Error(r);return i}function Oe(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Te(t,e){return void 0===e&&(e=2),T(t.slice(0,t.length-e))}function Ie(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function Re(t){var e=[1,1,1];return 0===t.length||1===t.length&&1===t[0]||(e=[Te(t)].concat(Ie(t))),e}function Ae(t,e){var n;void 0===e&&(e=!1);var r=f().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,1===(t=t.map(function(e,n){return n>=t.length-2?E(t[n]):t[n]})).length&&(t=[2,t[0]])),2!==t.length){var i=F(t);t=i.newShape}var o=T(t);if(t.length<=1&&o<=r)return[1,o];if(2===t.length&&t[0]<=r&&t[1]<=r)return t;if(3===t.length&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(3===t.length&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(4===t.length&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(4===t.length&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var a=Te(t),s=2,u=2;return t.length&&(s=(n=Ie(t))[0],u=n[1]),P(o=a*(s/2)*(u/2)).map(function(t){return 2*t})}return P(o)}function Pe(t){return t%2==0}function Ne(t,e){if(I(t=t.slice(-2),e=e.slice(-2)))return!0;if(!t.length||!e.length)return!0;if(0===t[0]||0===t[1]||0===e[0]||0===e[1])return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r)return!0;if(Pe(n)&&Pe(r)&&(1===t[0]||1===e[0]))return!0}return t[1]===e[1]&&Pe(t[0])&&Pe(e[0])}function De(t){if(null==ae){var e=Kt(t);ae=e.getParameter(e.MAX_TEXTURE_SIZE)}return ae}function Me(t){if(null==se){var e=Kt(t);se=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,se)}function je(t){if(0===t)return 0;var e=Kt(t);return Fe(e,"EXT_disjoint_timer_query_webgl2")&&2===t?2:Fe(e,"EXT_disjoint_timer_query")?1:0}function Fe(t,e){return null!=t.getExtension(e)}function Le(t){try{if(null!=Kt(t))return!0}catch(t){return!1}return!1}function Be(t){if(0===t)return!1;var e=Kt(t);if(1===t){if(!Fe(e,"OES_texture_float"))return!1}else if(!Fe(e,"EXT_color_buffer_float"))return!1;return Ue(e)}function Ve(t){if(0===t)return!1;var e=Kt(t);if(1!==t){if(Fe(e,"EXT_color_buffer_float"))return Ue(e);if(Fe(e,"EXT_color_buffer_half_float")){var n=e.getExtension("EXT_color_buffer_half_float");return function(t,e){var n=Qt(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(i),o}(e,n)}return!1}return!!Fe(e,"OES_texture_float")&&!!Fe(e,"WEBGL_color_buffer_float")&&Ue(e)}function Ue(t){var e=Qt(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),i}function ze(t){return 2===t&&null!=Kt(t).fenceSync}var We=Object.freeze({callAndCheck:Jt,canBeRepresented:ee,getWebGLErrorMessage:ne,getExtensionOrThrow:re,createVertexShader:ie,createFragmentShader:oe,createProgram:ce,linkProgram:le,validateProgram:fe,createStaticVertexBuffer:he,createStaticIndexBuffer:de,getNumChannels:function(){return 2===f().getNumber("WEBGL_VERSION")?1:4},createTexture:pe,validateTextureSize:ve,createFramebuffer:ge,bindVertexBufferToProgramAttribute:me,bindTextureUnit:ye,unbindTextureUnit:function(t,e,n){Oe(t,n),Jt(t,e,function(){return t.activeTexture(t.TEXTURE0+n)}),Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:be,getProgramUniformLocation:we,bindTextureToProgramUniformSampler:xe,bindCanvasToFramebuffer:function(t,e){Jt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Jt(t,e,function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)}),Jt(t,e,function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)})},bindColorTextureToFramebuffer:Ee,unbindColorTextureFromFramebuffer:_e,validateFramebuffer:ke,getFramebufferErrorMessage:Se,getBatchDim:Te,getRowsCols:Ie,getShapeAs3D:Re,getTextureShapeFromLogicalShape:Ae,isReshapeFree:Ne,getWebGLMaxTextureSize:De,resetMaxTextureSize:function(){ae=null},resetMaxTexturesInShader:function(){se=null},getMaxTexturesInShader:Me,getWebGLDisjointQueryTimerVersion:je,hasExtension:Fe,isWebGLVersionEnabled:Le,isCapableOfRenderingToFloatTexture:Be,isDownloadFloatTextureEnabled:Ve,isWebGLFenceEnabled:ze}),qe=f();function He(t){f().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Ge(t,e){return Lt.tidy(t,e)}function Ke(t){Dt(t).forEach(function(t){return t.dispose()})}function Xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];f().getBool("IS_TEST")||console.warn.apply(console,t)}function $e(t,e){var n=t;if(W(t))return"string"===e?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||W(n)&&"string"!==e;)r.push(n.length),n=n[0];return Array.isArray(t)&&f().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function t(e,n,r){if(r=r||[],Array.isArray(e)||W(e)){k(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+e.length+" elements"}),k(e.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+e.length+" elements"});for(var i=n.slice(1),o=0;o<e.length;++o)t(e[o],i,r.concat(o))}else k(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(t,r,[]),r}function Ye(t,e,n,r){if(null!=t&&("numeric"!==t&&t!==e||"numeric"===t&&"string"===e))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function Qe(t,e,n,r){if(void 0===r&&(r="numeric"),t instanceof xt)return Ye(r,t.dtype,e,n),t;var i=$(t);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),Ye(r,i,e,n),null==t||!W(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t){var o=null==t?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+o+"'")}var a=$e(t,i);W(t)||Array.isArray(t)||(t=[t]);var s="string"!==i?Z(t,i,f().getBool("DEBUG")):O(t,[],!0);return Lt.makeTensor(s,a,i)}function Je(t,e,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map(function(t,r){return Qe(t,e+"["+r+"]",n)},r)}function Ze(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function tn(t,e,n){for(var r=t.length+e.length,i=[],o=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(t[o++]):i.push(e[a++]);return i}function en(t,e){for(var n=[],r=t.length,i=0;i<r;i++)-1===e.indexOf(i)&&n.push(t[i]);return[n,e.map(function(e){return t[e]})]}function nn(t,e){return tn(t,e.map(function(t){return 1}),e)}function rn(t,e,n){k(Ze(e,n),function(){return t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input."})}function on(t,e){if(Ze(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach(function(t){return n.push(t)}),n}function an(t){return t.map(function(t,e){return[e,t]}).sort(function(t,e){return t[1]-e[1]}).map(function(t){return t[0]})}function sn(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function un(t,e){var n=t[0].length;t.forEach(function(t,e){k(t.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+e+"] must be the same as the rank of the rest ("+n+")"})}),k(e>=0&&e<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=t[0];t.forEach(function(t,i){for(var o=0;o<n;o++)k(o===e||t[o]===r[o],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+t+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function cn(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function ln(t){var e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Lt.startScope(n);try{var i=r.apply(void 0,t);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Lt.endScope(i),i}catch(t){throw Lt.endScope(null),t}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}qe.registerFlag("HAS_WEBGL",function(){return qe.getNumber("WEBGL_VERSION")>0}),qe.registerFlag("WEBGL_VERSION",function(){return Le(2)?2:Le(1)?1:0}),qe.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===qe.get("WEBGL_VERSION")}),qe.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),qe.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),qe.registerFlag("WEBGL_PACK",function(){return qe.getBool("HAS_WEBGL")}),qe.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_PACK_CLIP",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),qe.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_PACK_REDUCE",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_LAZILY_UNPACK",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_CONV_IM2COL",function(){return qe.getBool("WEBGL_PACK")}),qe.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return De(qe.getNumber("WEBGL_VERSION"))}),qe.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return Me(qe.getNumber("WEBGL_VERSION"))}),qe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var t=qe.getNumber("WEBGL_VERSION");return 0===t?0:je(t)}),qe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return qe.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t}),qe.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Be(qe.getNumber("WEBGL_VERSION"))}),qe.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!qe.getBool("WEBGL_FORCE_F16_TEXTURES")&&qe.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),qe.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return Ve(qe.getNumber("WEBGL_VERSION"))}),qe.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return ze(qe.getNumber("WEBGL_VERSION"))}),qe.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return qe.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),wt=He;var fn=ln({complex_:function(t,e){var n=Qe(t,"real","complex"),r=Qe(e,"imag","complex");return S(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Lt.runKernelFunc(function(t){return t.complex(n,r)},{$real:n,$imag:r})}}),hn=ln({real_:function(t){var e=Qe(t,"input","real");return Lt.runKernelFunc(function(t){return t.real(e)},{$input:e})}}),dn=ln({imag_:function(t){var e=Qe(t,"input","imag");return Lt.runKernelFunc(function(t){return t.imag(e)},{$input:e})}});function pn(t,e,n){return vn(t,e,$e(t,n),n)}function vn(t,e,n,r){if(null==r&&(r=$(t)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!W(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=e){it(e);var i=T(e),o=T(n);k(i===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+i+" values but has "+o});for(var a=0;a<n.length;++a){var s=n[a],u=a!==n.length-1||s!==T(e.slice(a));k(n[a]===e[a]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+e+"). "})}}return W(t)||Array.isArray(t)||(t=[t]),e=e||n,t="string"!==r?Z(t,r,f().getBool("DEBUG")):O(t,[],!0),Lt.makeTensor(t,e,r)}function gn(t,e){if((W(t)&&"string"!==e||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===e&&W(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return vn(t,[],[],e)}function mn(t,e){C(t);var n=$e(t,e);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return vn(t,null,n,e)}function yn(t,e,n){if(C(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var r=$e(t,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return vn(t,e,r,n)}function bn(t,e,n){if(C(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var r=$e(t,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return vn(t,e,r,n)}function wn(t,e,n){if(C(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var r=$e(t,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return vn(t,e,r,n)}function xn(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=xn(t,"float32"),r=En(t,"float32");return fn(n,r)}var i=et(T(t),e);return Lt.makeTensor(i,t,e)}function En(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=En(t,"float32"),r=En(t,"float32");return fn(n,r)}var i=nt(T(t),e);return Lt.makeTensor(i,t,e)}function _n(t,e,n){return Lt.runKernelFunc(function(r){return r.fill(t,e,n)},{})}function kn(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return En([0],r);var i=nt(Math.abs(Math.ceil((e-t)/n)),r);e<t&&1===n&&(n=-1),i[0]=t;for(var o=1;o<i.length;o++)i[o]=i[o-1]+n;return mn(i,r)}var Sn=ln({onesLike_:function(t){var e=Qe(t,"x","onesLike");if("complex64"===e.dtype){var n=Sn(hn(e)),r=Cn(dn(e));return fn(n,r)}return Lt.runKernelFunc(function(t){return t.onesLike(e)},{$x:e},function(t,e){return{$x:function(){return Cn(t)}}})}}),Cn=ln({zerosLike_:function(t){var e=Qe(t,"x","zerosLike");return Lt.runKernelFunc(function(t){return t.zerosLike(e)},{$x:e},function(t,e){return{$x:function(){return Cn(t)}}})}}),On=ln({concat_:function(t,e){void 0===e&&(e=0),k(t.length>=1,function(){return"Pass at least one tensor to concat"});var n=Je(t,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(function(t){if("complex64"!==t.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+t.dtype+". ")}),e=j(e,n[0].shape)[0];var r=cn(n.map(function(t){return t.shape}),e);if(0===T(r))return pn([],r);if(1===(n=n.filter(function(t){return t.size>0})).length)return n[0];var i=n.map(function(t){return t.shape});un(i,e);var o=n,a={axis:e};return Lt.runKernelFunc(function(t){return t.concat(n,e)},o,function(t){var n=i.map(function(t){return t[e]});return Pn(t,n,e).map(function(t){return function(){return t}})},"Concat",a)}}),Tn=ln({concat1d_:function(t){return On(t,0)}}),In=ln({concat2d_:function(t,e){return On(t,e)}}),Rn=ln({concat3d_:function(t,e){return On(t,e)}}),An=ln({concat4d_:function(t,e){return On(t,e)}}),Pn=ln({split_:function(t,e,n){void 0===n&&(n=0);var r,i=Qe(t,"x","split");return n=j(n,i.shape)[0],"number"==typeof e?(k(i.shape[n]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(i.shape[n]/e)):(k(i.shape[n]===e.reduce(function(t,e){return t+e}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),Lt.runKernelFunc(function(t){return t.split(i,r,n)},{$x:i},function(t){return{$x:function(){return On(t,n)}}})}});function Nn(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var Dn=Nn(function(t){!function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new r(t),o=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.alea=o}(0,t)}),Mn=Nn(function(t){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xor128=o}(0,t)}),jn=Nn(function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xorwow=o}(0,t)}),Fn=Nn(function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&(o.x&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xorshift7=o}(0,t)}),Ln=Nn(function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&(o.X&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xor4096=o}(0,t)}),Bn=Nn(function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.tychei=o}(0,t)}),Vn=Nn(function(t){!function(e,r){var i,o=this,a=256,s=6,u="random",c=r.pow(a,s),l=r.pow(2,52),f=2*l,h=a-1;function d(t,n,h){var d=[],y=g(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,m(e)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(a):(t=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(t)),m(t)}catch(t){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,m(e)]}}():t,3),d),b=new p(d),w=function(){for(var t=b.g(s),e=c,n=0;t<l;)t=(t+n)*a,e*=a,n=b.g(1);for(;t>=f;)t/=2,e/=2,n>>>=1;return(t+n)/e};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,g(m(b.S),e),(n.pass||h||function(t,e,n,i){return i&&(i.S&&v(i,b),t.state=function(){return v(b,{})}),n?(r[u]=t,e):t})(w,y,"global"in n?n.global:this==r,n.state)}function p(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=h&o+t[i%n]+(e=s[i])],s[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,s=r.S;t--;)e=s[i=h&i+1],n=n*a+s[h&(s[i]=s[o=h&o+e])+(s[o]=e)];return r.i=i,r.j=o,n})(a)}function v(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function g(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(r["seed"+u]=d,g(r.random(),e),t.exports){t.exports=d;try{i=n(267)}catch(t){}}}([],Math)});Vn.alea=Dn,Vn.xor128=Mn,Vn.xorwow=jn,Vn.xorshift7=Fn,Vn.xor4096=Ln,Vn.tychei=Bn;var Un=Vn.alea,zn=function(){function t(t,e,n,r,i){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=Un(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var i=void 0,o=void 0,a=void 0;do{a=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}(),Wn=function(){function t(t,e,n,r){this.alpha=t,this.beta=1/e,this.dtype=n;var i=r||Math.random();this.randu=Un(i.toString()),this.randn=new zn(0,1,n,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var t,e,n,r,i,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,e=1-.331*(t=r*r)*t,n=.5*t+this.d*(1-o+Math.log(o)),(i=this.randu())<e||Math.log(i)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},t.prototype.convertValue=function(t){return"float32"===this.dtype?t:Math.round(t)},t}(),qn=function(){function t(t,e,n,r){var i=this;if(void 0===t&&(t=0),void 0===e&&(e=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=t,this.range=e-t,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+e+" <= 1 and dtype is not float");this.random=Un(r)}return t.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function Hn(t,e,n){return void 0===e&&(e="float32"),e=e||"float32",it(t),new mt(t,e,n)}var Gn=ln({batchToSpaceND_:function(t,e,n){var r=Qe(t,"x","batchToSpaceND"),i=e.reduce(function(t,e){return t*e});return k(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),k(n.length===e.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length}),k(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+i}),Lt.runKernelFunc(function(t){return t.batchToSpaceND(r,e,n)},{$x:r},function(t){return{$x:function(){return t.spaceToBatchND(e,n)}}})}}),Kn=ln({broadcastTo_:function(t,e){var n=Qe(t,"broadcastTo","x"),r=n.shape;if(e.some(function(t){return!(t>0)||t%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<n.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+n.rank+".");if(e.length>n.rank){for(var i=n.shape.slice();i.length<e.length;)i.unshift(1);n=n.reshape(i)}for(var o=Array.from(e),a=e.length-1;a>=0;a--)if(n.shape[a]===e[a])o[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var s=o.map(function(t,e){return t>1?e:-1}).filter(function(t){return t>=0});return 0===s.length?n.clone():Lt.runKernelFunc(function(t){return t.tile(n,o)},{input:n},function(t){return{input:function(){return t.sum(s,!0)}}})}}),Xn=ln({cast_:function(t,e){var n=Qe(t,"x","cast");if(!U(e))throw new Error("Failed to cast to unknown dtype "+e);if("string"===e&&"string"!==n.dtype||"string"!==e&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:e};return Lt.runKernelFunc(function(t){return t.cast(n,e)},{x:n},function(t){return{x:function(){return t.clone()}}},"Cast",r)}}),$n=ln({clone_:function(t){var e=Qe(t,"x","clone",null);return Lt.runKernelFunc(function(){return Lt.makeTensorFromDataId(e.dataId,e.shape,e.dtype)},{$x:e},function(t){return{$x:function(){return t.toFloat()}}})}}),Yn=ln({cumsum_:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Qe(t,"x","cumsum"),o=on([e|=0],i.rank),a=i;null!=o&&(a=i.transpose(o));var s=sn(1,i.rank)[0],u=Lt.runKernelFunc(function(t){return t.cumsum(a,s,n,r)},{permutedX:a},function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}});return null!=o&&(u=u.transpose(o)),u}}),Qn=ln({depthToSpace_:function(t,e,n){void 0===n&&(n="NHWC");var r=Qe(t,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return k(i*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+e+"  for depthToSpace with input shape\n      "+r.shape}),k(o*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+e+" for depthToSpace with input shape\n          "+r.shape}),k(a%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+a+" for depthToSpace with input shape "+r.shape}),Lt.runKernelFunc(function(t){return t.depthToSpace(r,e,n)},{$x:r})}}),Jn=ln({expandDims_:function(t,e){void 0===e&&(e=0);var n=Qe(t,"x","expandDims",null);k(e<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return e<0&&(k(-(n.rank+1)<=e,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),e=n.rank+e+1),r.splice(e,0,1),fr(n,r)}}),Zn=ln({eye_:function(t,e,n,r){void 0===r&&(r="float32"),null==e&&(e=t);for(var i=Hn([t,e],r),o=t<=e?t:e,a=0;a<o;++a)i.set(1,a,a);var s=i.toTensor().as2D(t,e);if(null==n)return s;if(1===n.length)return vr(Jn(s,0),[n[0],1,1]);if(2===n.length)return vr(Jn(Jn(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return vr(Jn(Jn(Jn(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),tr=ln({multinomial_:function(t,e,n,r){void 0===r&&(r=!1);var i=Qe(t,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?i.as2D(1,-1):i,u=Lt.runKernelFunc(function(t){return t.multinomial(s,r,e,n)},{logits2D:s});return 1===a?u.as1D():u}}),er=ln({oneHot_:function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var i=Qe(t,"indices","oneHot","int32"),o=i.shape.concat([e]);return i=i.flatten(),Lt.runKernelFunc(function(t){return t.oneHot(i,e,n,r)},{$indices:i},function(t){return{$indices:function(){return En(i.shape,"float32")}}}).reshape(o)}}),nr=ln({pad_:function(t,e,n){void 0===n&&(n=0);var r=Qe(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:e,constantValue:n};return Lt.runKernelFunc(function(t){return t.pad(r,e,n)},{x:r},function(t){var n=e.map(function(t){return t[0]});return{x:function(){return t.slice(n,r.shape)}}},"PadV2",i)}}),rr=ln({pad1d_:function(t,e,n){return void 0===n&&(n=0),k(2===e.length,function(){return"Invalid number of paddings. Must be length of 2."}),nr(t,[e],n)}}),ir=ln({pad2d_:function(t,e,n){return void 0===n&&(n=0),k(2===e.length&&2===e[0].length&&2===e[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),nr(t,e,n)}}),or=ln({pad3d_:function(t,e,n){return void 0===n&&(n=0),k(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),nr(t,e,n)}}),ar=ln({pad4d_:function(t,e,n){return void 0===n&&(n=0),k(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),nr(t,e,n)}}),sr=ln({rand_:function(t,e,n){var r=T(t),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=e();return Lt.makeTensor(i,t,n)}}),ur=ln({randomNormal_:function(t,e,n,r,i){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new zn(e,n,r,!1,i),a=Hn(t,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),cr=ln({randomGamma_:function(t,e,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var o=new Wn(e,n,r,i),a=Hn(t,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),lr=ln({randomUniform_:function(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var o=Hn(t,r),a=new qn(e,n,null,i),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),fr=ln({reshape_:function(t,e){var n=Qe(t,"x","reshape",null);e=M(e,n.size),k(n.size===T(e),function(){return"new shape and old shape must have the same number of elements."});var r={shape:e};return Lt.runKernelFunc(function(t){return t.reshape(n,e)},{x:n},function(t){return{x:function(){return t.reshape(n.shape)}}},"Reshape",r)}}),hr=ln({spaceToBatchND_:function(t,e,n){var r=Qe(t,"x","spaceToBatchND");return k(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),k(n.length===e.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length}),k(r.shape.reduce(function(t,r,i){return i>0&&i<=e.length?t&&(r+n[i-1][0]+n[i-1][1])%e[i-1]==0:t},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()}),Lt.runKernelFunc(function(t){return t.spaceToBatchND(r,e,n)},{$x:r},function(t){return{$x:function(){return t.batchToSpaceND(e,n)}}})}}),dr=ln({squeeze_:function(t,e){var n=Qe(t,"x","squeeze");return fr(n,F(n.shape,e).newShape)}}),pr=ln({stack_:function(t,e){void 0===e&&(e=0);var n=Je(t,"tensors","stack");if(k(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(e);var r=n[0].rank,i=n[0].shape,o=n[0].dtype;k(e<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(t){S(i,t.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(t){k(o===t.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=n.map(function(t){return t.expandDims(e)});return On(a,e)}}),vr=ln({tile_:function(t,e){var n=Qe(t,"x","tile",null);k(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."});var r=[n],i={reps:e};return Lt.runKernelFunc(function(t,r){var i=t.tile(n,e);return r([n]),i},{x:n},function(t,n){var r=n[0];return{x:function(){var n=Cn(r);if(1===r.rank)for(var i=0;i<e[0];++i)n=n.add(t.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(i=0;i<e[0];++i)for(var o=0;o<e[1];++o)n=n.add(t.slice([i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(i=0;i<e[0];++i)for(o=0;o<e[1];++o)for(var a=0;a<e[2];++a)n=n.add(t.slice([i*r.shape[0],o*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(i=0;i<e[0];++i)for(o=0;o<e[1];++o)for(a=0;a<e[2];++a)for(var s=0;s<e[3];++s)n=n.add(t.slice([i*r.shape[0],o*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}},"Tile",i,r)}}),gr=ln({truncatedNormal_:function(t,e,n,r,i){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new zn(e,n,r,!0,i),a=Hn(t,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),mr=ln({unstack_:function(t,e){void 0===e&&(e=0),e=e||0;var n=Qe(t,"x","unstack");k(e>=-n.shape.length&&e<n.shape.length,function(){return"Axis = "+e+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),e<0&&(e+=n.shape.length);var r={axis:e};return Lt.runKernelFunc(function(t){return t.unstack(n,e)},{x:n},function(t){return{x:function(){return pr(t,e)}}},"Unpack",r)}});function yr(t,e,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(e.slice(0))).push(t[0]/n),i=i.concat(t.slice(1));else{i=i.concat(t[0]);for(var o=e.length,a=0;a<o;++a)i=i.concat([t[a+1]/e[a],e[a]]);i=i.concat(t.slice(o+1))}return i}function br(t,e,n){void 0===n&&(n=!0);var r=[];if(n){r.push(e);for(var i=e+1;i<t;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{var o=[],a=[];for(i=1;i<t;++i)i>=2*e+1||i%2==1?a.push(i):o.push(i);r.push.apply(r,o),r.push(0),r.push.apply(r,a)}return r}function wr(t,e,n,r){void 0===r&&(r=!0);var i=[];r?i.push(t[0]/n):i.push(t[0]*n);for(var o=1;o<t.length;++o)o<=e.length?r?i.push(e[o-1]*t[o]):i.push(t[o]/e[o-1]):i.push(t[o]);return i}function xr(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function Er(t,e,n){for(var r=t.slice(0,1),i=0;i<n;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}function _r(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==e.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(0===t.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],i=1,o=0;o<n.length-1;++o)i*=n[o];var a=t.shape,s=n.slice();s.pop();var u=1;for(o=r;o<t.rank;++o)u*=a[o],s.push(a[o]);var c=J(t.shape).map(function(t){return t/u}).concat([1]).slice(0,r);return[s,i,u,c]}Object.freeze({prepareAndValidate:_r});var kr=30;function Sr(t){return t<=kr?t:Q(t,Math.floor(Math.sqrt(t)))}function Cr(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(o+" update.rank < "+i+". ");if(t.length<r+(n.rank-i))throw new Error(o+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+t.length-r)throw new Error(o+" update.rank != "+(i+t.length-r));for(var a=0;a<i;++a)if(n.shape[a]!==e.shape[a])throw new Error(o+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+e.shape[a]+").");for(a=0;a<n.rank-i;++a)if(n.shape[a+i]!==t[a+r])throw new Error(o+" updates.shape["+(a+i)+"] ("+n.shape[a+i]+") != shape["+(a+i)+"] ("+t[a+i]+")")}function Or(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==e.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===e.size)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(0===t.size)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}Cr(n,e,t)}function Tr(t,e,n){for(var r=e.shape.length,i=r>1?e.shape[r-1]:1,o=n.length,a=1,s=i;s<o;++s)a*=n[s];var u=i<1?1:i;return{sliceRank:i,numUpdates:T(e.shape)/u,sliceSize:a,strides:J(n.slice(0,i)).concat([1]),outputSize:T(n)}}Object.freeze({validateUpdateShape:Cr,validateInput:Or,calculateShapes:Tr});function Ir(t,e,n){k(t.rank===e.length,function(){return"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."}),k(t.rank===n.length,function(){return"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+")."});for(var r=function(r){k(e[r]+n[r]<=t.shape[r],function(){return"Error in slice"+t.rank+"D: begin["+r+"] + size["+r+"] ("+(e[r]+n[r])+") would overflow input.shape["+r+"] ("+t.shape[r]+")"})},i=0;i<t.rank;++i)r(i)}function Rr(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function Ar(t,e,n){for(var r=[],i=0;i<t.length;i++)r[i]=Math.ceil((e[i]-t[i])/n[i]);return r}function Pr(t,e,n,r,i){var o=e[i],a=n[i]||1;(t&1<<i||null==o)&&(o=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),x(0,o,s-1)}function Nr(t,e,n,r,i){var o=e[i],a=n[i]||1;(t&1<<i||null==o)&&(o=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),a>0?x(0,o,s):x(-1,o,s-1)}function Dr(t,e,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(e[i]>0||n[i]!==t[i])return!1;return!0}function Mr(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}Object.freeze({assertParamsValid:Ir,maskToAxes:Rr,computeOutShape:Ar,startForAxis:Pr,stopForAxis:Nr,isSliceContinous:Dr,computeFlatOffset:Mr});function jr(t){return Lt.customGrad(t)}var Fr=ln({softmax_:function(t,e){void 0===e&&(e=-1);var n=Qe(t,"logits","softmax","float32");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return Lt.runKernelFunc(function(t,r){var i=t.softmax(n,e);return r([i]),i},{logits:n},function(t,n){var r=n[0],i=t.mul(r);return{logits:function(){return i.sub(i.sum([e],!0).mul(r))}}},"Softmax",{dim:e},[],[!0])}}),Lr=ln({logSoftmax_:function(t,e){void 0===e&&(e=-1);var n=Qe(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return jr(function(t,n){var r=t.max(e,!0),i=t.sub(r),o=i.toFloat().sub(i.exp().sum(e,!0).log());return n([o]),{value:o,gradFunc:function(t,n){var r=n[0].exp();return t.sub(t.sum(e,!0).mul(r))}}})(n)}}),Br=function(){function t(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},t.prototype.set=function(t,e){this.dataIdsCount++,this.data.set(t,e)},t.prototype.has=function(t){return this.data.has(t)},t.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),Vr=function(){function t(){}return t.prototype.time=function(t){return Ur("time")},t.prototype.read=function(t){return Ur("read")},t.prototype.readSync=function(t){return Ur("readSync")},t.prototype.numDataIds=function(){return Ur("numDataIds")},t.prototype.disposeData=function(t){return Ur("disposeData")},t.prototype.write=function(t,e,n){return Ur("write")},t.prototype.move=function(t,e,n,r){return Ur("move")},t.prototype.memory=function(){return Ur("memory")},t.prototype.floatPrecision=function(){return Ur("floatPrecision")},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.batchMatMul=function(t,e,n,r){return Ur("batchMatMul")},t.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,Ur("fusedBatchMatMul")},t.prototype.slice=function(t,e,n){return Ur("slice")},t.prototype.stridedSlice=function(t,e,n,r){return Ur("stridedSlice")},t.prototype.unstack=function(t,e){return Ur("unstack")},t.prototype.reverse=function(t,e){return Ur("reverse")},t.prototype.concat=function(t,e){return Ur("concat")},t.prototype.neg=function(t){return Ur("neg")},t.prototype.add=function(t,e){return Ur("add")},t.prototype.addN=function(t){return Ur("addN")},t.prototype.subtract=function(t,e){return Ur("subtract")},t.prototype.multiply=function(t,e){return Ur("multiply")},t.prototype.realDivide=function(t,e){return Ur("realDivide")},t.prototype.floorDiv=function(t,e){return Ur("floorDiv")},t.prototype.sum=function(t,e){return Ur("sum")},t.prototype.prod=function(t,e){return Ur("prod")},t.prototype.unsortedSegmentSum=function(t,e,n){return Ur("unsortedSegmentSum")},t.prototype.argMin=function(t,e){return Ur("argMin")},t.prototype.argMax=function(t,e){return Ur("argMax")},t.prototype.equal=function(t,e){return Ur("equal")},t.prototype.notEqual=function(t,e){return Ur("notEqual")},t.prototype.less=function(t,e){return Ur("less")},t.prototype.lessEqual=function(t,e){return Ur("lessEqual")},t.prototype.greater=function(t,e){return Ur("greater")},t.prototype.greaterEqual=function(t,e){return Ur("greaterEqual")},t.prototype.logicalNot=function(t){return Ur("logicalNot")},t.prototype.logicalAnd=function(t,e){return Ur("logicalAnd")},t.prototype.logicalOr=function(t,e){return Ur("logicalOr")},t.prototype.where=function(t){return Ur("where")},t.prototype.select=function(t,e,n){return Ur("select")},t.prototype.topk=function(t,e,n){return Ur("topk")},t.prototype.min=function(t,e){return Ur("min")},t.prototype.minimum=function(t,e){return Ur("minimum")},t.prototype.mod=function(t,e){return Ur("mod")},t.prototype.max=function(t,e){return Ur("max")},t.prototype.maximum=function(t,e){return Ur("maximum")},t.prototype.all=function(t,e){return Ur("all")},t.prototype.any=function(t,e){return Ur("any")},t.prototype.squaredDifference=function(t,e){return Ur("squaredDifference")},t.prototype.ceil=function(t){return Ur("ceil")},t.prototype.floor=function(t){return Ur("floor")},t.prototype.round=function(t){return Ur("round")},t.prototype.sign=function(t){return Ur("sign")},t.prototype.isNaN=function(t){return Ur("isNaN")},t.prototype.isInf=function(t){return Ur("isInf")},t.prototype.isFinite=function(t){return Ur("isFinite")},t.prototype.pow=function(t,e){return Ur("pow")},t.prototype.exp=function(t){return Ur("exp")},t.prototype.expm1=function(t){return Ur("expm1")},t.prototype.softmax=function(t,e){return Ur("softmax")},t.prototype.log=function(t){return Ur("log")},t.prototype.log1p=function(t){return Ur("log1p")},t.prototype.sqrt=function(t){return Ur("sqrt")},t.prototype.rsqrt=function(t){return Ur("rsqrt")},t.prototype.square=function(t){return Ur("square")},t.prototype.reciprocal=function(t){return Ur("reciprocal")},t.prototype.relu=function(t){return Ur("relu")},t.prototype.relu6=function(t){return Ur("relu6")},t.prototype.prelu=function(t,e){return Ur("prelu")},t.prototype.elu=function(t){return Ur("elu")},t.prototype.eluDer=function(t,e){return Ur("eluDer")},t.prototype.selu=function(t){return Ur("selu")},t.prototype.int=function(t){return Ur("int")},t.prototype.clip=function(t,e,n){return Ur("clip")},t.prototype.abs=function(t){return Ur("abs")},t.prototype.complexAbs=function(t){return Ur("complexAbs")},t.prototype.sigmoid=function(t){return Ur("sigmoid")},t.prototype.softplus=function(t){return Ur("softplus")},t.prototype.sin=function(t){return Ur("sin")},t.prototype.cos=function(t){return Ur("cos")},t.prototype.tan=function(t){return Ur("tan")},t.prototype.asin=function(t){return Ur("asin")},t.prototype.acos=function(t){return Ur("acos")},t.prototype.atan=function(t){return Ur("atan")},t.prototype.atan2=function(t,e){return Ur("atan2")},t.prototype.sinh=function(t){return Ur("sinh")},t.prototype.cosh=function(t){return Ur("cosh")},t.prototype.tanh=function(t){return Ur("tanh")},t.prototype.asinh=function(t){return Ur("asinh")},t.prototype.acosh=function(t){return Ur("acosh")},t.prototype.atanh=function(t){return Ur("atanh")},t.prototype.erf=function(t){return Ur("erf")},t.prototype.step=function(t,e){return Ur("step")},t.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ur("fusedConv2d")},t.prototype.conv2d=function(t,e,n){return Ur("conv2d")},t.prototype.conv2dDerInput=function(t,e,n){return Ur("conv2dDerInput")},t.prototype.conv2dDerFilter=function(t,e,n){return Ur("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ur("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(t,e,n){return Ur("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(t,e,n){return Ur("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){return Ur("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(t,e,n){return Ur("conv3d")},t.prototype.conv3dDerInput=function(t,e,n){return Ur("conv3dDerInput")},t.prototype.conv3dDerFilter=function(t,e,n){return Ur("conv3dDerFilter")},t.prototype.maxPool=function(t,e){return Ur("maxPool")},t.prototype.maxPoolBackprop=function(t,e,n,r){return Ur("maxPoolBackprop")},t.prototype.avgPool=function(t,e){return Ur("avgPool")},t.prototype.avgPoolBackprop=function(t,e,n){return Ur("avgPoolBackprop")},t.prototype.avgPool3d=function(t,e){return Ur("avgPool3d")},t.prototype.avgPool3dBackprop=function(t,e,n){return Ur("avgPool3dBackprop")},t.prototype.maxPool3d=function(t,e){return Ur("maxPool3d")},t.prototype.maxPool3dBackprop=function(t,e,n,r){return Ur("maxPool3dBackprop")},t.prototype.reshape=function(t,e){return Ur("reshape")},t.prototype.cast=function(t,e){return Ur("cast")},t.prototype.tile=function(t,e){return Ur("tile")},t.prototype.pad=function(t,e,n){return Ur("pad")},t.prototype.transpose=function(t,e){return Ur("transpose")},t.prototype.gather=function(t,e,n){return Ur("gather")},t.prototype.gatherND=function(t,e){return Ur("gatherND")},t.prototype.scatterND=function(t,e,n){return Ur("scatterND")},t.prototype.batchToSpaceND=function(t,e,n){return Ur("batchToSpaceND")},t.prototype.spaceToBatchND=function(t,e,n){return Ur("spaceToBatchND")},t.prototype.resizeBilinear=function(t,e,n,r){return Ur("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(t,e,n){return Ur("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(t,e,n,r){return Ur("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){return Ur("resizeNearestNeighborBackprop")},t.prototype.batchNormalization=function(t,e,n,r,i,o){return Ur("batchNormalization")},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){return Ur("localResponseNormalization4D")},t.prototype.LRNGrad=function(t,e,n,r,i,o,a){return Ur("LRNGrad")},t.prototype.multinomial=function(t,e,n,r){return Ur("multinomial")},t.prototype.oneHot=function(t,e,n,r){return Ur("oneHot")},t.prototype.cumsum=function(t,e,n,r){return Ur("cumsum")},t.prototype.nonMaxSuppression=function(t,e,n,r,i){return Ur("nonMaxSuppression")},t.prototype.fft=function(t){return Ur("fft")},t.prototype.ifft=function(t){return Ur("ifft")},t.prototype.complex=function(t,e){return Ur("complex")},t.prototype.real=function(t){return Ur("real")},t.prototype.imag=function(t){return Ur("imag")},t.prototype.cropAndResize=function(t,e,n,r,i,o){return Ur("cropAndResize")},t.prototype.depthToSpace=function(t,e,n){return Ur("depthToSpace")},t.prototype.split=function(t,e,n){return Ur("split")},t.prototype.sparseToDense=function(t,e,n,r){return Ur("sparseToDense")},t.prototype.diag=function(t){return Ur("diag")},t.prototype.fill=function(t,e,n){return Ur("fill")},t.prototype.onesLike=function(t){return Ur("onesLike")},t.prototype.zerosLike=function(t){return Ur("zerosLike")},t.prototype.linspace=function(t,e,n){return Ur("linspace")},t.prototype.dispose=function(){return Ur("dispose")},t}();function Ur(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function zr(t,e){for(var n=t.length,r=[],i=0;i<n;i++){var o=n-1-i,a=t[o]||1;(e[e.length-1-i]||1)>1&&1===a&&r.unshift(o)}return r}function Wr(t,e){for(var n=[],r=0;r<e.length;r++){var i=t[t.length-r-1],o=e.length-r-1,a=e[o];(null==i||1===i&&a>1)&&n.unshift(o)}return n}function qr(t,e){for(var n=[],r=Math.max(t.length,e.length),i=0;i<r;i++){var o=t[t.length-i-1];null==o&&(o=1);var a=e[e.length-i-1];if(null==a&&(a=1),1===o)n.unshift(a);else if(1===a)n.unshift(o);else{if(o!==a)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(o)}}return n}function Hr(t,e,n,r,i,o,a){void 0===a&&(a="channelsLast");var s,u=Yr(e),c=u[0],l=u[1];if("channelsLast"===a)s=[c,l,t[3],t[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[c,l,t[1],t[1]]}return Kr(t,s,n,r,i,o,!1,a)}function Gr(t,e,n,r,i,o,a){void 0===a&&(a="NDHWC");var s,u,c=Qr(e),l=c[0],f=c[1],h=c[2];if("NDHWC"===a)u="channelsLast",s=[l,f,h,t[4],t[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[l,f,h,t[1],t[1]]}return Xr(t,s,n,r,i,!1,u,o)}function Kr(t,e,n,r,i,o,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],h=u[3];if("channelsLast"===s)c=t[0],l=t[1],f=t[2],h=t[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=t[0],h=t[1],l=t[2],f=t[3]}var d,p=e[0],v=e[1],g=e[3],m=Yr(n),y=m[0],b=m[1],w=Yr(r),x=w[0],E=w[1],_=Jr(p,x),S=Jr(v,E),C=function(t,e,n,r,i,o,a,s){var u,c,l;if("number"==typeof t){u={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var f=function(t,e,n,r,i){null==r&&(r=$r(t,e,n));var o=t[1],a=Zr((t[0]-e+2*r)/n+1,i);k(R(a),function(){return"The output # of rows ("+a+") must be an integer. Change the stride and/or zero pad parameters"});var s=Zr((o-e+2*r)/n+1,i);return k(R(s),function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"}),[a,s]}([e,n],o,r,t,s);c=f[0],l=f[1]}else if("same"===t){c=Math.ceil(e/r),l=Math.ceil(n/i);var h=Math.max(0,(c-1)*r+o-e),d=Math.max(0,(l-1)*i+a-n),p=Math.floor(h/2),v=h-p,g=Math.floor(d/2);u={top:p,bottom:v,left:g,right:d-g,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/r),l=Math.ceil((n-a+1)/i)}return{padInfo:u,outHeight:c,outWidth:l}}(i,l,f,y,b,_,S,o),O=C.padInfo,T=C.outHeight,I=C.outWidth,A=a?g*h:g;return"channelsFirst"===s?d=[c,A,T,I]:"channelsLast"===s&&(d=[c,T,I,A]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:f,inChannels:h,outHeight:T,outWidth:I,outChannels:A,padInfo:O,strideHeight:y,strideWidth:b,filterHeight:p,filterWidth:v,effectiveFilterHeight:_,effectiveFilterWidth:S,dilationHeight:x,dilationWidth:E,inShape:t,outShape:d,filterShape:e}}function Xr(t,e,n,r,i,o,a,s){void 0===o&&(o=!1),void 0===a&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],h=u[3],d=u[4];if("channelsLast"===a)c=t[0],l=t[1],f=t[2],h=t[3],d=t[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);c=t[0],d=t[1],l=t[2],f=t[3],h=t[4]}var p,v=e[0],g=e[1],m=e[2],y=e[4],b=Qr(n),w=b[0],x=b[1],E=b[2],_=Qr(r),S=_[0],C=_[1],O=_[2],T=Jr(v,S),I=Jr(g,C),A=Jr(m,O),P=function(t,e,n,r,i,o,a,s,u,c,l){var f,h,d,p;if("number"==typeof t){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};var v=function(t,e,n,r,i,o){null==i&&(i=$r(t,e,r));var a=t[1],s=t[2],u=Zr((t[0]-e+2*i)/r+1,o);k(R(u),function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"});var c=Zr((a-e+2*i)/r+1,o);k(R(c),function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"});var l=Zr((s-e+2*i)/r+1,o);return k(R(l),function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"}),[u,c,l,1]}([e,n,r,1],s,0,i,t,l);h=v[0],d=v[1],p=v[2]}else if("same"===t){var g=((h=Math.ceil(e/i))-1)*i+s-e,m=((d=Math.ceil(n/o))-1)*o+u-n,y=((p=Math.ceil(r/a))-1)*a+c-r,b=Math.floor(g/2),w=g-b,x=Math.floor(m/2),E=m-x,_=Math.floor(y/2);f={top:x,bottom:E,left:_,right:y-_,front:b,back:w,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((e-s+1)/i),d=Math.ceil((n-u+1)/o),p=Math.ceil((r-c+1)/a)}return{padInfo:f,outDepth:h,outHeight:d,outWidth:p}}(i,l,f,h,w,x,E,T,I,A,s),N=P.padInfo,D=P.outDepth,M=P.outHeight,j=P.outWidth,F=o?y*d:y;return"channelsFirst"===a?p=[c,F,D,M,j]:"channelsLast"===a&&(p=[c,D,M,j,F]),{batchSize:c,dataFormat:a,inDepth:l,inHeight:f,inWidth:h,inChannels:d,outDepth:D,outHeight:M,outWidth:j,outChannels:F,padInfo:N,strideDepth:w,strideHeight:x,strideWidth:E,filterDepth:v,filterHeight:g,filterWidth:m,effectiveFilterDepth:T,effectiveFilterHeight:I,effectiveFilterWidth:A,dilationDepth:S,dilationHeight:C,dilationWidth:O,inShape:t,outShape:p,filterShape:e}}function $r(t,e,n,r){void 0===r&&(r=1);var i=Jr(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}function Yr(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function Qr(t){return"number"==typeof t?[t,t,t]:t}function Jr(t,e){return e<=1?t:t+(t-1)*(e-1)}function Zr(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function ti(t){var e=Yr(t),n=e[0],r=e[1],i=e[2];return 1===n&&1===r&&1===i}function ei(t,e){return ti(t)||ti(e)}function ni(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function ri(t,e,n){if("complex64"===e){if("complex64"===t.dtype)return t.clone();var r=En(t.shape),i=t.toFloat(),o=n.complex(i,r);return r.dispose(),i.dispose(),o}if(!z(t.dtype,e))return Lt.makeTensorFromDataId(t.dataId,t.shape,e);if("complex64"===t.dtype){var a=n.real(t);return o=a.cast(e),a.dispose(),o}if("int32"===e)return n.int(t);if("bool"===e){var s=gn(0,t.dtype);return o=n.notEqual(t,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+e)}function ii(t,e){return Lt.makeTensorFromDataId(t.dataId,e,t.dtype)}function oi(t,e,n){var r=(e-t)/(n-1),i=nt(n,"float32");i[0]=t;for(var o=1;o<i.length;o++)i[o]=i[o-1]+r;return mn(i,"float32")}Object.freeze({castTensor:ri,reshapeTensor:ii,linspaceImpl:oi,upcastType:Rt,axesAreInnerMostDims:Ze,combineLocations:tn,computeOutAndReduceShapes:en,expandShapeToKeepDim:nn,assertAxesAreInnerMostDims:rn,getAxesPermutation:on,getUndoAxesPermutation:an,getInnerMostAxes:sn,getBroadcastDims:zr,getReductionAxes:Wr,assertAndGetBroadcastShape:qr,assertParamsConsistent:un,computeOutShape:cn,computePool2DInfo:Hr,computePool3DInfo:Gr,computeConv2DInfo:Kr,computeConv3DInfo:Xr,computeDefaultPad:$r,tupleValuesAreOne:ti,eitherStridesOrDilationsAreOne:ei,convertConv2DDataFormat:ni,PARALLELIZE_THRESHOLD:kr,computeOptimalWindowSize:Sr});function ai(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function si(t,e){return{real:t[2*e],imag:t[2*e+1]}}function ui(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function ci(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function li(t,e,n){var r=function(t,e,n){return function(t,e,n){for(var r=0,i=t.length,o=0,a=!1;r<i;){var s=n(e,t[o=r+(i-r>>>1)]);s>0?r=o+1:(i=o,a=!s)}return a?r:-r-1}(t,e,n||fi)}(t,e,n),i=r<0?-(r+1):r;t.splice(i,0,e)}function fi(t,e){return t>e?1:t<e?-1:0}function hi(t,e,n,r,i){return pi(t,e,n,r,i,0).selectedIndices}function di(t,e,n,r,i,o){var a=pi(t,e,n,r,i,o,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function pi(t,e,n,r,i,o,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var u=Array.from(e).map(function(t,e){return{score:t,boxIndex:e,suppressBeginIndex:0}}).filter(function(t){return t.score>i}).sort(mi),c=o>0?-.5/o:0,l=[],f=[];l.length<n&&u.length>0;){var h=u.pop(),d=h.score,p=h.boxIndex,v=h.suppressBeginIndex;if(d<i)break;for(var g=!1,m=l.length-1;m>=v;--m){var y=vi(t,p,l[m]);if(y>=r){g=!0;break}if(h.score=h.score*gi(r,c,y),h.score<=i)break}h.suppressBeginIndex=l.length,g||(h.score===d?(l.push(p),f.push(h.score)):h.score>i&&li(u,h,mi))}var b=l.length;return s&&(l.fill(0,b),f.fill(0,b)),{selectedIndices:mn(l,"int32"),selectedScores:mn(f,"float32"),numValidOutputs:gn(b,"int32")}}function vi(t,e,n){var r=t.subarray(4*e,4*e+4),i=t.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),d=(s-o)*(u-a),p=(f-c)*(h-l);if(d<=0||p<=0)return 0;var v=Math.max(o,c),g=Math.max(a,l),m=Math.min(s,f),y=Math.min(u,h),b=Math.max(m-v,0)*Math.max(y-g,0);return b/(d+p-b)}function gi(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function mi(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function yi(t,e,n){var r=new Array(t.rank).fill(0),i=t.shape.slice();return e.map(function(e){i[n]=e;var o=t.slice(r,i);return r[n]+=e,o})}function bi(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var i=Hn(n,t.dtype);for(r=0;r<i.values.length;++r){for(var o=i.indexToLoc(r),a=new Array(t.rank),s=0;s<a.length;s++)a[s]=o[s]%t.shape[s];var u=t.locToIndex(a);i.values[r]=t.values[u]}return i.toTensor()}function wi(t,e,n,r,i){for(var o=e[e.length-1],a=[t.length/o,o],s=a[0],u=a[1],c=L(n,s*r),l=L("int32",s*r),f=0;f<s;f++){for(var h=f*u,d=t.subarray(h,h+u),p=[],v=0;v<d.length;v++)p.push({value:d[v],index:v});p.sort(function(t,e){return e.value-t.value});var g=f*r,m=c.subarray(g,g+r),y=l.subarray(g,g+r);for(v=0;v<r;v++)m[v]=p[v].value,y[v]=p[v].index}var b=e.slice();return b[b.length-1]=r,[pn(c,b,n),pn(l,b,"int32")]}function xi(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var i=Hn(t,"int32"),o=Hn([n.length,t.length],"int32");for(r=0;r<n.length;r++){var a=i.indexToLoc(n[r]),s=r*t.length;o.values.set(a,s)}return o.toTensor()}var Ei=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map(function(t,e){return"T"+e});var n=[];this.variableNames.forEach(function(t){n.push("float v"+t+" = get"+t+"AtOutCoords();")});var r=this.variableNames.map(function(t){return"v"+t}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},_i=function(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map(function(t,e){return"T"+e});var n=[];this.variableNames.forEach(function(t){n.push("vec4 v"+t+" = get"+t+"AtOutCoords();")});var r=this.variableNames.map(function(t){return"v"+t}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},ki=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,i=t.batchSize,o=t.inSize,a=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];var s="max"===e?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function Si(t,e){return["x","y","z","w","u","v"].slice(0,e).map(function(e){return t+"."+e})}function Ci(t,e){return 1===e?[t]:Si(t,e)}function Oi(){var t,e,n,r,i,o,a,s,u,c;return 2===f().getNumber("WEBGL_VERSION")?(t="#version 300 es",e="in",n="out",r="in",i="texture",o="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",r="varying",i="texture2D",o="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:i,output:o,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function Ti(t,e,n){void 0===n&&(n="index");var r=J(e);return r.map(function(e,i){return"int "+t[i]+" = "+n+" / "+e+"; "+(i===r.length-1?"int "+t[i+1]+" = "+n+" - "+t[i]+" * "+e:"index -= "+t[i]+" * "+e)+";"}).join("")}function Ii(t){var e=J(t).map(function(t){return t.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+e[0]+" + coords.y * "+e[1]+" + coords.z;\n  }\n"}var Ri="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function Ai(t,e,n,r){var i=[];t.forEach(function(t){var e=T(t.shapeInfo.logicalShape);t.shapeInfo.isUniform?i.push("uniform float "+t.name+(e>1?"["+e+"]":"")+";"):(i.push("uniform sampler2D "+t.name+";"),i.push("uniform int offset"+t.name+";"))});var o,a,s=i.join("\n"),u=t.map(function(t){return function(t,e,n){void 0===n&&(n=!1);var r="";r+=n?function t(e){var n,r,i;switch(e.shapeInfo.logicalShape.length){case 0:return n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=Oi(),"\n    vec4 "+r+"() {\n      return "+i.texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=Oi();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+o.texture2D+"("+e+", uv);\n    }\n  "}(e);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape,o=i[0],a=i[1],s=Oi();if(null!=i&&I(e,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+o+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(e[1]/2);return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+c+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){var s=n.slice(1),u=Bi(e,s);return"\n        "+t(u)+"\n        vec4 "+i+"(int b, int row, int col) {\n          return "+i+"("+Vi(["b","row","col"],[1,2])+");\n        }\n      "}var c=a[0],l=a[1],f=Math.ceil(n[2]/2),h=f*Math.ceil(n[1]/2),d=Oi();return"\n    vec4 "+i+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+c+", "+l+", "+h+", "+f+", b, row, col);\n      return "+d.texture2D+"("+r+", uv);\n    }\n  "}(e);default:return function(t){for(var e=t.shapeInfo.logicalShape,n=e.length,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=t.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],s=a[0],u=a[1],c=Math.ceil(e[n-1]/2),l=c*Math.ceil(e[n-2]/2),f="int b, int row, int col",h="b * "+l+" + (row / 2) * "+c+" + (col / 2)",d=2;d<n-1;d++)f="int b"+d+", "+f,l*=e[n-d-1],h="b"+d+" * "+l+" + "+h;var p=Oi();return"\n    vec4 "+i+"("+f+") {\n      int index = "+h+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+p.texture2D+"("+r+", uv);\n    }\n  "}(e)}}(t):function t(e){var n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"float "+n+"() {return "+e+";}";var r=t.shapeInfo.texShape,i=r[0],o=r[1];if(1===i&&1===o)return"\n      float "+n+"() {\n        return sampleTexture("+e+", halfCR);\n      }\n    ";var a=t.shapeInfo.texShape,s=a[0],u=a[1],c=ji(e);return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+s+", "+u+", "+c+");\n      return sampleTexture("+e+", uv);\n    }\n  "}(e);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Fi(t)+"\n      }\n    ";var r=t.shapeInfo.texShape,i=r[0],o=r[1];if(1===o&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ";var a=ji(e);return 1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+i+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+o+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+o+", index + "+a+");\n      return sampleTexture("+e+", uv);\n    }\n  "}(e);case 2:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&I(n,o)){var a=o[0],s=o[1];return"\n    float "+i+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+a+".0);\n      return sampleTexture("+r+", uv);\n    }\n  "}var u=F(n),c=u.newShape,l=u.keptDims,f=c;if(f.length<n.length){var h=Bi(e,f);return"\n      "+t(h)+"\n      float "+i+"(int row, int col) {\n        return "+i+"("+Vi(["row","col"],l)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+n[1]+", 1)));\n        "+Fi(e)+"\n      }\n    ";var d=o[0],p=o[1],v=ji(r);return 1===p?"\n    float "+i+"(int row, int col) {\n      float index = dot(vec3(row, col, "+v+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===d?"\n    float "+i+"(int row, int col) {\n      float index = dot(vec3(row, col, "+v+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+p+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+i+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+n[1]+" + col + "+v+";\n    vec2 uv = uvFromFlat("+d+", "+p+", index);\n    return sampleTexture("+r+", uv);\n  }\n"}(e);case 3:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],a=n[2],s=F(n),u=s.newShape,c=s.keptDims,l=u;if(l.length<n.length){var f=Bi(e,l);return"\n        "+t(f)+"\n        float "+i+"(int row, int col, int depth) {\n          return "+i+"("+Vi(["row","col","depth"],c)+");\n        }\n      "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+o+", "+a+", 1)));\n        "+Fi(e)+"\n      }\n    ";var h=e.shapeInfo.texShape,d=h[0],p=h[1],v=e.shapeInfo.flatOffset;if(p===o&&null==v)return"\n        float "+i+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+p+".0, "+d+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ";if(p===a&&null==v)return"\n    float "+i+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+n[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+p+".0, "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ";var g=ji(r);return"\n      float "+i+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+o+" + col * "+a+" + depth + "+g+";\n        vec2 uv = uvFromFlat("+d+", "+p+", index);\n        return sampleTexture("+r+", uv);\n      }\n  "}(e);case 4:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],a=n[2]*o,s=n[1]*a,u=F(n),c=u.newShape,l=u.keptDims;if(c.length<n.length){var f=Bi(e,c);return"\n      "+t(f)+"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        return "+i+"("+Vi(["row","col","depth","depth2"],l)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+s+", "+a+", "+o+", 1)));\n        "+Fi(e)+"\n      }\n    ";var h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],v=d[1];if(v===s&&null==h)return"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+p+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";if(v===o&&null==h)return"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+n[1]*n[2]+", "+n[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+p+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";var g=ji(r);return"\n    float "+i+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" +\n          depth * "+o+" + depth2;\n      vec2 uv = uvFromFlat("+p+", "+v+", index + "+g+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);case 5:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[4],a=n[3]*o,s=n[2]*a,u=n[1]*s,c=F(n),l=c.newShape,f=c.keptDims;if(l.length<n.length){var h=Bi(e,l);return"\n      "+t(h)+"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+i+"("+Vi(["row","col","depth","depth2","depth3"],f)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+u+", "+s+", "+a+", "+o+")) +\n          depth3;\n        "+Fi(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,v=p[0],g=p[1];if(g===u&&null==d)return"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+s+", "+a+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+v+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";if(g===o&&null==d)return"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]+",\n               "+n[2]*n[3]+", "+n[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+v+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";var m=ji(r);return"\n    float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+u+" + col * "+s+" + depth * "+a+" +\n          depth2 * "+o+" + depth3 + "+m+";\n      vec2 uv = uvFromFlat("+v+", "+g+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);case 6:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=F(n),a=o.newShape,s=o.keptDims;if(a.length<n.length){var u=Bi(e,a);return"\n      "+t(u)+"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+i+"("+Vi(["row","col","depth","depth2","depth3","depth4"],s)+");\n      }\n    "}var c=n[5],l=n[4]*c,f=n[3]*l,h=n[2]*f,d=n[1]*h;if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+d+", "+h+", "+f+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+c+", 1)));\n        "+Fi(e)+"\n      }\n    ";var p=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,g=v[0],m=v[1];if(m===d&&null==p)return"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+h+", "+f+", "+l+", "+c+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";if(m===c&&null==p)return"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]*n[4]+",\n               "+n[2]*n[3]*n[4]+",\n               "+n[3]*n[4]+",\n               "+n[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";var y=ji(r);return"\n    float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+d+" + col * "+h+" + depth * "+f+" +\n          depth2 * "+l+" + depth3 * "+c+" + depth4 + "+y+";\n      vec2 uv = uvFromFlat("+g+", "+m+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);default:throw new Error(n.length+"-D input sampling is not yet supported")}}(t);var i=t.shapeInfo.logicalShape,o=e.logicalShape;return i.length<=o.length&&(r+=n?function(t,e){var n,r=t.name,i=r.charAt(0).toUpperCase()+r.slice(1),o="get"+i+"AtOutCoords",a=t.shapeInfo.logicalShape.length,s=e.logicalShape.length,u=zr(t.shapeInfo.logicalShape,e.logicalShape),c=Li(s),l=s-a,f=["x","y","z","w","u","v"];n=0===a?"":s<2&&u.length>=1?"coords = 0;":u.map(function(t){return"coords."+f[t+l]+" = 0;"}).join("\n");var h;h=s<2&&a>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords."+f[e+l]}).join(", ");var d="return outputValue;",p=1===T(t.shapeInfo.logicalShape),v=1===T(e.logicalShape);if(1!==a||p||v){if(p&&!v)d=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=a-2,m=a-1;u.indexOf(g)>-1&&u.indexOf(m)>-1?d="return vec4(outputValue.x);":u.indexOf(g)>-1?d="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(m)>-1&&(d="return vec4(outputValue.xx, outputValue.zz);")}}else d="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+o+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+h+");\n      "+d+"\n    }\n  "}(t,e):function(t,e){var n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",o=e.texShape,a=t.shapeInfo.texShape,s=t.shapeInfo.logicalShape.length,u=e.logicalShape.length;if(!t.shapeInfo.isUniform&&s===u&&null==t.shapeInfo.flatOffset&&I(a,o))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c=Li(u),l=zr(t.shapeInfo.logicalShape,e.logicalShape),f=u-s,h=["x","y","z","w","u","v"];return"\n    float "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+(0===s?"":u<2&&l.length>=1?"coords = 0;":l.map(function(t){return"coords."+h[t+f]+" = 0;"}).join("\n"))+"\n      return get"+r+"("+(u<2&&s>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords."+h[e+f]}).join(", "))+");\n    }\n  "}(t,e)),r}(t,e,r)}).join("\n"),c=e.texShape,l=Oi(),f="\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+l.texture2D+"(textureSampler, uv).r;\n    }\n  ",h=function(t){return t.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+t.varyingFs+" vec2 resultUV;\n    "+t.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+t.defineSpecialNaN+"\n    "+t.defineSpecialInf+"\n    "+t.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Pi+"\n    "+Ni+"\n    "+Di+"\n  "}(l);return e.isPacked?(o=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,e);case 2:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(I(t,e))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(t[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=t,r=e,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(o=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+o+");\n      int c = imod(index, "+o+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(t,e){for(var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),i=r*Math.ceil(t[t.length-2]/2),o=i,a="",s="b, r, c",u=2;u<t.length-1;u++)a="\n      int b"+u+" = index / "+(o*=t[t.length-u-1])+";\n      index -= b"+u+" * "+o+";\n    "+a,s="b"+u+", "+s;return"\n    ivec"+t.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+t.length+"("+s+");\n    }\n  "}(t,e)}var n,r,i,o,a}(e.logicalShape,c),a="\n    void setOutput(vec4 val) {\n      "+l.output+" = val;\n    }\n  "):(o=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){return I(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=e,r=Ti(["r","c","d"],t),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(t,e){var n=Ti(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(t,e);case 5:return function(t,e){var n=Ti(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(t,e);case 6:return function(t,e){var n=Ti(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}var n,r}(e.logicalShape,c),a="\n    void setOutput(float val) {\n      "+l.output+" = vec4(val, 0, 0, 0);\n    }\n  "),r&&(h+=Mi),[h,f,a,s,o,u,n].join("\n")}var Pi="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ni="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Di="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Mi="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function ji(t){return"offset"+t}function Fi(t){var e=t.name,n=T(t.shapeInfo.logicalShape);return n<2?"return "+e+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+e+"[i];\n      }\n    }\n  "}function Li(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function Bi(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Vi(t,e){return e.map(function(e){return t[e]}).join(", ")}var Ui=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,k(t.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var i=t[t.length-1],o=Math.ceil(i/e);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,c=u.length,l=Li(c),f=Ci("coords",c);if(1===o){var h=Li(s=c+1);a="\n        "+h+" sourceLocR = "+h+"("+f.join()+", 0);\n        ++"+f[c-1]+";\n        "+h+" sourceLocG = "+h+"("+f.join()+", 0);\n        ++"+f[c-2]+";\n        "+h+" sourceLocA = "+h+"("+f.join()+", 0);\n        --"+f[c-1]+";\n        "+h+" sourceLocB = "+h+"("+f.join()+", 0);\n        --"+f[c-2]+";"}else s=c,a="\n        "+l+" sourceLocR = coords;\n        ++"+f[c-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+f[c-2]+";\n        "+l+" sourceLocA = coords;\n        --"+f[c-1]+";\n        "+l+" sourceLocB = coords;\n        --"+f[c-2]+";";var d=["x","y","z","w","u","v"].slice(0,s),p="."+d[s-1],v=d.map(function(t){return"int "+t}),g=Ci("sourceLocR",s-1).concat("inIdx.r"),m=Ci("sourceLocG",s-1).concat("inIdx.g"),y=Ci("sourceLocB",s-1).concat("inIdx.b"),b=Ci("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",E="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+m.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",_=r?"":"\n      float getBestIndicesAChannel("+v.join()+") {\n        return getChannel(getBestIndicesA("+d.join()+"),\n                                          vec2("+d.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+v.join()+") {\n        return getChannel(getA("+d.join()+"),\n                               vec2("+d.slice(-2).join()+"));\n      }\n      "+_+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+f[c-1]+" < "+(u[c-1]-1)+";\n        bool hasNextRow = "+f[c-2]+" < "+(u[c-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+e+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+E+";\n\n        for (int i = 0; i < "+e+"; i++) {\n          inIdx = srcIdx;\n          "+x+"\n          vec4 candidate = "+E+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},zi=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=s-1-t.padInfo.top,l=u-1-t.padInfo.left,f=1/(e*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+o+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Wi=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,i=t.strideDepth,o=t.strideHeight,a=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,f=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=l-1-t.padInfo.front,p=f-1-t.padInfo.top,v=h-1-t.padInfo.left,g=1/(e*n*r);this.userCode="\n      const ivec3 pads = ivec3("+d+", "+p+", "+v+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+t.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qi=function(t,e,n,r,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],qr(t,e),qr(t,n);var a="0.0";null!=r&&(qr(t,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=i&&(qr(t,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Hi=function(t,e,n,r,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],qr(t,e),qr(t,n);var a="vec4(0.0)";null!=r&&(qr(t,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(qr(t,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},Gi=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=qr(e,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+t+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Ki="return a + b;",Xi="return a - b;",$i="return a * b;",Yi="return (a < 0.) ? b * a : a;",Qi=function(t,e,n){this.variableNames=["A","B"],this.outputShape=qr(e,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Ji="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Zi=function(t,e,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=qr(e,n);var i=this.outputShape.length,o="";if(r)if(0===i||1===T(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          "+Li(i)+" coords = getOutputCoords();\n        ",1===i)o+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=Ci("coords",i);o+="\n            bool nextRowOutOfBounds =\n              ("+a[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+a[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+o+"\n\n        setOutput(result);\n      }\n    "},to=function(){function t(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),eo=function(){function t(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),no=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},ro=function(t){this.outputShape=[],this.outputShape=cn(t,1),this.variableNames=t.map(function(t,e){return"T"+e});var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<e.length;n++){var i=e[n-1];r.push("else if (yC < "+e[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var o=e.length,a=e[e.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},io=function(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=cn(t,e);var n=this.outputShape,r=n.length,i=Li(r),o=Ci("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map(function(t,e){return"T"+e});var s=new Array(t.length-1);s[0]=t[0][e];for(var u=1;u<s.length;u++)s[u]=s[u-1]+t[u][e];var c=a[e],l=a.slice(-2),f=a.join(),h="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+l.join()+"));\n        }";for(u=1;u<s.length;u++){var d=s[u-1];h+="\n        if ("+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+oo(a,c,d)+"),\n            vec2("+oo(l,c,d)+"));\n        }"}var p=s.length,v=s[s.length-1];h+="\n        return getChannel(\n          getT"+p+"("+oo(a,c,v)+"),\n          vec2("+oo(l,c,v)+"));",this.userCode="\n      float getValue("+a.map(function(t){return"int "+t})+") {\n        "+h+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+o+"), 0., 0., 0.);\n\n        "+o[r-1]+" = "+o[r-1]+" + 1;\n        if ("+o[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+o+");\n        }\n\n        "+o[r-2]+" = "+o[r-2]+" + 1;\n        if ("+o[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+o+");\n        }\n\n        "+o[r-1]+" = "+o[r-1]+" - 1;\n        if ("+o[r-2]+" < "+n[r-2]+" &&\n            "+o[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+o+");\n        }\n        setOutput(result);\n      }\n    "};function oo(t,e,n){var r=t.indexOf(e);return t.map(function(t,e){return e===r?t+" - "+n:t}).join()}var ao=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              if ("+o+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},so=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,a=e-1-t.padInfo.top,s=n-1-t.padInfo.left,u=o?1:2,c=o?2:3,l=o?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n\n              if ("+o+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},uo=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,a=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yF = 0; yF < "+t.outDepth+"; yF++) {\n            int xF = wF + yF * "+e+" - "+i+";\n\n            if (xF < 0 || xF >= "+t.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+o+";\n\n              if (xR < 0 || xR >= "+t.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+t.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},co=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,i=t.strideDepth,o=t.strideHeight,a=t.strideWidth,s=e-1-t.padInfo.front,u=n-1-t.padInfo.top,c=r-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+e+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+t.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+e+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},lo=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},fo=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,o=e-1-t.padInfo.top,a=n-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ho=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.padInfo.top,o=t.padInfo.left,a=t.strideHeight,s=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,l=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),d=t.inChannels%4,p="channelsLast"===t.dataFormat,v=p?1:2,g=p?2:3,m=p?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+m+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+v+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===d)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+h+") *\n                    getW(wR, wC, "+h+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+h+", xR, xC) *\n                    getW(wR, wC, "+h+", d2);\n              }\n\n            } else if ("+(2===d)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===d)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2),\n                getW(wR, wC, "+h+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1),\n                  getX(batch, xR, xC, "+h+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC),\n                  getX(batch, "+h+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},po=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,a=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.filterDepth,f=t.filterHeight,h=t.filterWidth,d=4*Math.floor(t.inChannels/4),p=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+e+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+t.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+d+") *\n                  getW(wF, wR, wC, "+d+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1),\n                  getX(batch, xF, xR, xC, "+d+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2),\n                  getW(wF, wR, wC, "+d+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},vo=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.inHeight,o=t.inWidth,a=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,h=t.filterHeight,d=t.filterWidth,p=t.outChannels/t.inChannels,v="",g="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var m=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+m+"\n        "+g+"\n        setOutput(result);\n      }\n    "},go=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var i=t.inHeight,o=t.inWidth,a=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,h=t.filterHeight,d=t.filterWidth,p=d,v="int xR; int xC; int xCOffset;",g=0;g<h;g++)for(var m=0;m<d;m++)v+="\n          vec4 xTexelR"+g+"C"+2*m+" = vec4(0.);\n          vec4 wR"+g+"C"+m+" = vec4(0.);\n          vec4 xR"+g+"C"+m+" = vec4(0.);";for(g=0;g<h;g++)for(var y=0;y<p;y++){if(v+="\n          xR = xRCorner + "+g*l+";\n          xC = xCCorner + "+(m=2*y)*f+";\n        ",1===c){if(m<d&&(v+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    xTexelR"+g+"C"+m+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+m+" = vec4(previous.zw, xTexelR"+g+"C"+m+".xy);\n                } else {\n                  xR"+g+"C"+m+" = vec4(0, 0, xTexelR"+g+"C"+m+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+o+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = xTexelR"+g+"C"+m+";\n              ",m+1<d)){var b=s%2==0?E(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(v+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(v+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+o+") {\n                      xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+m+" = vec4(0.);\n                    }\n                  "),v+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".xy);\n                "):v+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(m+1)+" = xTexelR"+g+"C"+(m+2)+";\n                "}}else m<d&&(v+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(v+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+o+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n              ",m+1<d&&(v+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+o+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(m+1)+" = vec4(xTexelR"+g+"C"+(m+2)+".xy, final.xy);\n                ")):(v+="\n                if(xC >= 0 && xC < "+o+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".xy, xTexelR"+g+"C"+(m+2)+".xy);\n              ",m+1<d&&(v+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n                ")),v+="}");m<d&&(v+="\n            vec4 wTexelR"+g+"C"+m+" = getW("+g+", "+m+", d1, q);\n            wR"+g+"C"+m+" = vec4(wTexelR"+g+"C"+m+".xz, wTexelR"+g+"C"+m+".xz);\n          ",m+1<d&&(v+="\n              vec4 wTexelR"+g+"C"+(m+1)+" = getW("+g+", "+(m+1)+", d1, q);\n              wR"+g+"C"+(m+1)+" =\n                vec4(wTexelR"+g+"C"+(m+1)+".xz, wTexelR"+g+"C"+(m+1)+".xz);"))}for(g=0;g<h;g++)for(m=0;m<d;m++)v+="dotProd += xR"+g+"C"+m+" * wR"+g+"C"+m+";";var w="",x="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",x="result = activation(result);");var _=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+v+"\n\n        vec4 result = dotProd;\n        "+_+"\n        "+x+"\n        setOutput(result);\n      }\n    "},mo=function(t,e,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=t[0],a=t[1],s=t[2],u=t[3],c=e[0],l=n[0],f=n[1];this.outputShape=[c,l,f,u];var h="bilinear"===r?1:0,d=[a-1+".0",s-1+".0"],p=d[0],v=d[1],g=l>1?[""+(a-1)/(l-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],m=g[0],y=g[1],b=g[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+v+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+v],x=w[0],E=w[1],_=w[2];this.userCode="\n      const float height_ratio = float("+m+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+E+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+_+";\n        if( in_x < 0.0 || in_x > "+v+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+h+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},yo=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,i=t[t.length-1],o=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Li(r)+" coords = getOutputCoords();\n        int end = "+bo(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+bo(r,"coords")+" = idx;\n          val += getX("+function(t,e){if(1===r)return""+e;if(2===r)return e+".x, "+e+".y";if(3===r)return e+".x, "+e+".y, "+e+".z";if(4===r)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+r+" is not yet supported")}(0,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function bo(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var wo=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ut.DENSE;var e=$t(t),n=Oi();this.outputShape=t,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Ti(["r","c","d"],t)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},xo=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ut.DENSE;var e=$t(t),n=Oi();this.outputShape=t,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Ti(["r","c","d"],t)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Eo=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return t.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),_o=function(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},ko=function(t){this.variableNames=["A"],this.outTexUsage=zt.DOWNLOAD;var e=Oi();this.outputShape=t,this.userCode="\n      "+Ri+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+e.output+" = encode_float(x);\n      }\n    "},So=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=zt.DOWNLOAD;var e=Oi();this.outputShape=t,this.userCode="\n      "+Ri+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+e.output+" = encode_float(x);\n      }\n    "},Co=function(t,e,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Oi(),i=e[0],o=e[1];this.outputShape=t;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+Ii(t)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+o+";\n        int c = imod(flatIndex, "+o+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},Oo=function(t,e,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Oi(),i=e[0],o=e[1];this.outputShape=t;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+t[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+u+" < "+t[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+o+";\n              c = imod(flatIndex, "+o+");\n              uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Ii(t)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},To=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+t+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+o+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Io=function(){function t(t,e){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.valueLoc&&(e.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(e.valueLoc,t)}},t}(),Ro=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var i=Li(this.rank),o=function(t,e){var n=t.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],o=0;o<t.length;o++)o===e?i.push("int(getIndices("+r[o]+"))"):i.push(""+r[o]);return i.join()}(t,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Ao=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=Li(e.length),i=Li(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+o+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Po(t,e){var n=Oi();return ie(t,e,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function No(t,e){return he(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Do(t,e){return de(t,e,new Uint16Array([0,1,2,2,1,3]))}function Mo(t,e,n,r,i,o,a){ve(n,r);var s=pe(t,e),u=t.TEXTURE_2D;return Jt(t,e,function(){return t.bindTexture(u,s)}),Jt(t,e,function(){return t.texParameteri(u,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),Jt(t,e,function(){return t.texParameteri(u,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),Jt(t,e,function(){return t.texParameteri(u,t.TEXTURE_MIN_FILTER,t.NEAREST)}),Jt(t,e,function(){return t.texParameteri(u,t.TEXTURE_MAG_FILTER,t.NEAREST)}),Jt(t,e,function(){return t.texImage2D(u,0,i,n,r,0,o,a,null)}),Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)}),s}function jo(t,e,n,r,i){var o=Xt(n,r);return Mo(t,e,o[0],o[1],i.internalFormatFloat,i.textureFormatFloat,t.FLOAT)}function Fo(t,e,n,r,i){var o=Xt(n,r);return Mo(t,e,o[0],o[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function Lo(t,e,n,r,i){var o=Xt(n,r);return Mo(t,e,o[0],o[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function Bo(t,e,n,r,i){var o=Yt(n,r);return Mo(t,e,o[0],o[1],i.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function Vo(t,e,n,r,i){var o=Yt(n,r);return Mo(t,e,o[0],o[1],i.internalFormatPackedHalfFloat,t.RGBA,i.textureTypeHalfFloat)}function Uo(t,e,n,r){return Jt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),me(t,e,n,"clipSpacePos",r,3,20,0)&&me(t,e,n,"uv",r,2,20,12)}function zo(t,e,n,r,i,o,a){var s,u,c;Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),o instanceof Uint8Array?(s=new Uint8Array(r*i*4),u=t.UNSIGNED_BYTE,c=t.RGBA):(s=new Float32Array(r*i*4),u=t.FLOAT,c=a.internalFormatPackedFloat),s.set(o),Jt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,c,r,i,0,t.RGBA,u,s)}),Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function Wo(t,e,n,r){Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),r.data instanceof Uint8Array?Jt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)}):Jt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}),Jt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function qo(t,e,n,r,i){var o=t.createBuffer();Jt(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,o)});var a=16*n*r;return Jt(t,e,function(){return t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)}),Jt(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),Jt(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)}),o}function Ho(t,e,n){var r=t,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function Go(t,e,n,r,i){var o=Xt(n,r),a=o[0],s=o[1],u=new Uint8Array(n*r*4);return Jt(t,e,function(){return t.readPixels(0,0,a,s,i.downloadTextureFormat,t.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function Ko(t,e,n,r,i,o,a,s){var u=t,c=new Float32Array(function(t,e){var n=Yt(o,a);return n[0]*n[1]*4}());return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function Xo(t,e,n,r){var i=new Float32Array(n*r*4);return Jt(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,i)}),i}var $o=Object.freeze({createVertexShader:Po,createVertexBuffer:No,createIndexBuffer:Do,createFloat32MatrixTexture:jo,createFloat16MatrixTexture:Fo,createUnsignedBytesMatrixTexture:Lo,createPackedMatrixTexture:Bo,createFloat16PackedMatrixTexture:Vo,bindVertexProgramAttributeStreams:Uo,uploadDenseMatrixToTexture:zo,uploadPixelDataToTexture:Wo,createBufferFromOutputTexture:qo,downloadFloat32MatrixFromBuffer:Ho,downloadByteEncodedFloatMatrixFromOutputTexture:Go,downloadPackedMatrixFromBuffer:Ko,downloadMatrixFromPackedOutputTexture:Xo}),Yo=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=f().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,Gt(e,t)):this.gl=Kt(e);var n="WEBGL_color_buffer_float";if(1===f().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=re(this.gl,this.debug,"OES_texture_float"),Fe(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=re(this.gl,this.debug,"OES_texture_half_float");else if(f().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Fe(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=re(this.gl,this.debug,"EXT_color_buffer_half_float");else if(f().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Fe(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Fe(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=No(this.gl,this.debug),this.indexBuffer=Do(this.gl,this.debug),this.framebuffer=ge(this.gl,this.debug),this.textureConfig=Qt(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return f().getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Jt(e,this.debug,function(){return e.finish()}),Jt(e,this.debug,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Jt(e,this.debug,function(){return e.deleteFramebuffer(t.framebuffer)}),Jt(e,this.debug,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),Jt(e,this.debug,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),Jt(e,this.debug,function(){return e.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),jo(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),Fo(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),Lo(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),Wo(this.gl,this.debug,t,e)},t.prototype.uploadDenseMatrixToTexture=function(t,e,n,r){this.throwIfDisposed(),zo(this.gl,this.debug,t,e,n,r,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(t,e){return this.throwIfDisposed(),Vo(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),Bo(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(_e(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Jt(this.gl,this.debug,function(){return e.gl.deleteTexture(t)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return Go(r.gl,r.debug,e,n,r.textureConfig)})},t.prototype.downloadPackedMatrixFromBuffer=function(t,e,n,r,i,o){return Ko(this.gl,t,0,0,0,i,o,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(t,e){return Ho(this.gl,t,e)},t.prototype.createBufferFromTexture=function(t,e,n){this.bindTextureToFrameBuffer(t);var r=qo(this.gl,this.debug,e,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},t.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},t.prototype.createFence=function(t){var e,n,r=this;if(f().getBool("WEBGL_FENCE_API_ENABLED")){var i=t,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var t=i.clientWaitSync(o,0,0);return t===i.ALREADY_SIGNALED||t===i.CONDITION_SATISFIED},e=o}else f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(e,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:e,isFencePassed:n}},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return Xo(r.gl,r.debug,e,n)})},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=oe(e,this.debug,t),r=Po(e,this.debug),i=ce(e,this.debug);return Jt(e,this.debug,function(){return e.attachShader(i,r)}),Jt(e,this.debug,function(){return e.attachShader(i,n)}),le(e,this.debug,i),this.debug&&fe(e,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=Uo(e,this.debug,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&Jt(this.gl,this.debug,function(){return e.gl.deleteProgram(t)})},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&fe(this.gl,this.debug,this.program),Jt(this.gl,this.debug,function(){return e.gl.useProgram(t)})},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?be(this.gl,this.debug,t,e):we(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),Jt(this.gl,this.debug,function(){return n.gl.getAttribLocation(t,e)})},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),xe(this.gl,this.debug,this.program,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=Yt(e,n),i=r[0],o=r[1];this.setOutputMatrixTextureDriver(t,i,o)},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&fe(this.gl,this.debug,this.program),ke(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Jt(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Jt(this.gl,this.debug,function(){return t.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=re(this.gl,this.debug,2===f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(2===f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(2!==f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(t){return u(this,void 0,void 0,function(){var e=this;return c(this,function(n){switch(n.label){case 0:return[4,D(function(){return e.disposed||e.isQueryAvailable(t,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(t,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollFence=function(t){var e=this;return new Promise(function(n){e.addItemToPoll(function(){return t.isFencePassed()},function(){return n()})})},t.prototype.pollItems=function(){for(var t=function(t){for(var e=0;e<t.length&&t[e]();++e);return e-1}(this.itemsToPoll.map(function(t){return t.isDoneFn})),e=0;e<=t;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||D(function(){return n.pollItems(),0===n.itemsToPoll.length})},t.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),Ee(this.gl,this.debug,t,this.framebuffer),this.debug&&ke(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Ee(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&ke(this.gl)):_e(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.bindTextureToFrameBuffer(t);var n=e();return this.unbindTextureToFrameBuffer(),n},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;Ee(r,this.debug,t,this.framebuffer),this.debug&&ke(r),this.outputTexture=t,Jt(r,this.debug,function(){return r.viewport(0,0,e,n)}),Jt(r,this.debug,function(){return r.scissor(0,0,e,n)})},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var i=this;this.throwIfDisposed(),Jt(this.gl,this.debug,function(){return i.gl.scissor(t,e,n,r)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();function Qo(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(t,n){var r=t.logicalShape,i=e[n],o=i.shape;if(!I(r,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+o+" must match");if(!t.isUniform||!i.isUniform){var a=t.texShape,s=i.isUniform?null:i.texData.texShape;if(!I(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}})}var Jo=function(t,e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=n.filterWidth,i=n.inChannels,o=n.strideWidth,a=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,f=n.dataFormat,h=s.left,d=s.top,p=i*r,v=Oi(),g="channelsLast"===f,m=g?0:1,y=g?1:2,b="",w=0;w<=1;w++)for(var x=0;x<=1;x++)b+="\n          blockIndex = rc.y + "+x+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+t[1]+" && pos < "+t[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+a+" - "+d+";\n            d0 = offsetY + "+l+" * (pos / "+p+");\n\n            if(d0 < "+e[m]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+o+". - "+h+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+i+".));\n\n              if(d1 < "+e[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+v.output+" = result;\n      }\n    "},Zo=function(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[];var o,a=e,s=t[3]-1;this.outputShape=t;var u="float("+n+") + float("+r+") * sum";o=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+o+";\n        setOutput(val);\n      }\n    "},ta=function(t,e,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},ea=function(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,a=e,s=t[3]-1;this.outputShape=t;var u="float("+n+") + float("+r+") * sum";o=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+o+";\n        setOutput(result);\n      }\n    "},na=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideHeight,n=t.strideWidth,r=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,a=i-1-t.padInfo.top,s=o-1-t.padInfo.left,u=i*o-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+e+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+o+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+o+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ra=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=s-1-t.padInfo.front,f=u-1-t.padInfo.top,h=c-1-t.padInfo.left,d=s*u*c-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+f+", "+h+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+e+".0;\n\n          if (dyD < 0.0 || dyD >= "+t.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+o+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+d+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ia=function(t,e,n,r,i,o,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=n?t[1]:t[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],d="",p="";o&&(d=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+o+"\n        }":"vec4 activation(vec4 x) {\n          "+o+"\n        }",p="result = activation(result);");var v=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+d+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+h[0]+");\n          result += ("+f[1]+" * "+h[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+v+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},oa=function(){function t(t,e,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}},t}(),aa=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},sa=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var e=t.length;if(0===e)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Ci("rc",e),r=Li(e),i=function(t,e,n){if(1===t)return"rc > "+e[0];for(var r="",i=t-2;i<t;i++)r+=n[i]+" >= "+e[i],i<t-1&&(r+="||");return r}(e,t,n),o=function(t,e,n,r){if(1===t)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+e+";\n    bool rEdge = rp1 >= "+n+";\n  "}(e,t[t.length-1],t[t.length-2],n),a=function(t,e){var n=t.length,r=function(t,e){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var o=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),a=2;a<t;a++)o=e[e.length-1-a]+","+o;n.push(o)}return n}(n,e);return 1===n?"getA(rc),\n            rc + 1 >= "+t[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(t,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},ua=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});var r=t.length,i=Li(r),o=e.map(function(t){return t[0]}).join(","),a=e.map(function(e,n){return e[0]+t[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+o+");\n      "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ca=function(t,e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});for(var r=t.length,i=Li(r),o=e.map(function(t){return t[0]}).join(","),a=e.map(function(e,n){return e[0]+t[n]}).join(","),s=Ci("rc",r),u=Ci("source",r),c=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",d="",p=0,v=1===r?2:4;p<v;p++)d+="\n        "+f[p]+"\n        if ("+h+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+l+");\n        }\n      ";d+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+o+");\n      const "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+d+"\n        setOutput(result);\n      }\n    "},la=function(t,e,n){if(this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,i=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=t.padInfo.top,f=t.padInfo.left;this.outputShape=t.outShape;var h="avg"===e,d="0.0";if(h||(d="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+o+");\n        const ivec2 pads = ivec2("+l+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(p="avgValue / count");var v=4*Math.floor(r/4),g=r%4,m="\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+l+", "+f+");\n      const float initializationValue = "+d+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+d+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+v+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+m+"\n          }\n\n          int xC = xCCorner + "+v+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+m+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},fa=function(t,e,n){if(this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,i=t.strideDepth,o=t.strideHeight,a=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,f=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,v=t.padInfo.left;this.outputShape=t.outShape;var g="avg"===e,m="0.0";if(g||(m="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+o+", "+a+");\n        const ivec3 pads = ivec3("+d+", "+p+", "+v+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+l+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+t.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+f+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+t.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+h+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+t.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+f+" * "+h+" +\n                      wR * "+h+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(y="avgValue / count");var b=4*Math.floor(r/4),w=r%4,x="\n      if ("+g+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+d+", "+p+", "+v+");\n      const float initializationValue = "+m+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+m+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+t.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+x+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+x+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},ha=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,i=t.inSize,o=Math.ceil(i/n);this.outputShape=[r,o];var a="0.0",s="";"prod"===e?a="1.0":"min"===e?(a="1.0 / 1e-20",s="min"):"max"===e&&(a="-1.0 / 1e-20",s="max");var u=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?u="sumValue":"prod"===e?u="prodValue":"all"===e?u="allValue":"any"===e&&(u="anyValue");var c=4*Math.floor(n/4),l=n%4,f="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===e)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";"all"===e?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===e&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===l)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===l)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===l)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},da=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Ti(["r","c","d"],e)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Ii(t)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+t[1]+";\n        int cols = "+t[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},pa=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=t.shape,s=a[1],u=a[2],c=[n&&s>1?i-1:i,n&&u>1?o-1:o],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],h=c[1]/l[1],d=1/f,p=1/h,v=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},va=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[0],o=t[1],a=t[2],s=t[3];this.outputShape=[i,e,n,s];var u=[r&&e>1?o-1:o,r&&n>1?a-1:a],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ga=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=t[0],o=t[1],a=t[2],s=t[3];this.outputShape=[i,e,n,s];var u=[r&&e>1?o-1:o,r&&n>1?a-1:a],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+",\n          "+u[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+o+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},ma=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=t.shape,s=a[1],u=a[2],c=[n&&s>1?i-1:i,n&&u>1?o-1:o],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],h=c[1]/l[1],d=1/f,p=1/h,v=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},ya=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[0],o=t[1],a=t[2],s=t[3];this.outputShape=[i,e,n,s];var u=[r&&e>1?o-1:o,r&&n>1?a-1:a],c=[r&&e>1?e-1:e,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},ba=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,1!==n){var r=t.map(function(n,r){return function(n){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=Li(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      "},wa=function(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=t;var r=Ci("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],o=r[n-2]+" + 1 < "+this.outputShape[n-2],a=Li(n);function s(n){var r=t.map(function(r,i){return function(n,r){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+t[0]+" - rc - 1),\n            "+t[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+t[0]+" - (rc  + 1) - 1),\n                "+t[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+s(r.slice())+";\n          if("+i+"){\n            result.g = "+function(t){return t[n-1]="("+t[n-1]+" + 1)",s(t)}(r.slice())+";\n          }\n          if("+o+") {\n            result.b = "+function(t){return t[n-2]="("+t[n-2]+" + 1)",s(t)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(t){return t[n-1]="("+t[n-1]+" + 1)",t[n-2]="("+t[n-2]+" + 1)",s(t)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},xa=function(t,e,n,r,i,o,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Li(i.length),u=Li(o.length),c="";1===n?c="i":2===n&&(c="i, j");var l="getIndices("+c+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var h="getUpdates("+f+")",d=e>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+t+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+d+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+h+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Ea=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,i=t.inSize,o=t.numSegments,a=o*Math.ceil(i/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",l="";i%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},_a=function(t,e,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<e.length;u++)s.push(""+o[u]),u<t&&a.push(""+o[u]);r=a.join(),i=s.join()}var c=Li(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},ka=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e,n=Li(this.rank),r="uniform int start["+this.rank+"];",i=function(t){if(1===t)return"sourceLoc";if(t<=6)return Sa.slice(0,t).map(function(t){return"sourceLoc."+t}).join(",");throw Error("Slicing for rank "+t+" is not yet supported")}(this.rank);e="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+t.map(function(t,e){return"sourceLoc."+Sa[e]+" = start["+e+"] + coords."+Sa[e]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+e+"\n        setOutput(getSource("+i+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),Sa=["x","y","z","w","u","v"],Ca=function(){function t(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var e=Li(this.rank),n=Ci("coords",this.rank),r=Ci("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",o="getChannel(getSource("+r.join()+"), "+i+")",a="\n      result.x = "+o+";\n      if (++"+n[this.rank-1]+" < "+t[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+o+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+t[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+o+";\n        if (++"+n[this.rank-1]+" < "+t[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+o+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+e+"("+t.map(function(t,e){return"start["+e+"]"}).join()+");":t.map(function(t,e){return r[e]+" = "+n[e]+" + start["+e+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+e+" coords = getOutputCoords();\n        "+e+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),Oa=function(t,e,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=Li(n.length),o=Li(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map(function(t,e){return s++,1===n.length?"coords * strides["+e+"] + begin["+e+"]":"coords["+(s-1)+"] * strides["+e+"] + begin["+e+"]"}).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+t+");\n      "+i+" strides = "+i+"("+e+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},Ta=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e,n){var r,i=Ia(e,n),o=Ra(t,i,n);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[o].shift();return this.usedTextures[o].push(a),a}return this.numUsedTextures++,this.log(),i===Wt.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===Wt.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===Wt.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===Wt.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===Wt.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(r),r},t.prototype.releaseTexture=function(t,e,n,r){if(null!=this.freeTextures){var i=Ra(e,Ia(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],a=o.indexOf(t);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(a,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function Ia(t,e){if(t===zt.UPLOAD)return Wt.PACKED_2X2_FLOAT32;if(t===zt.RENDER||null==t)return function(t){return f().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Wt.PACKED_2X2_FLOAT32:Wt.UNPACKED_FLOAT32:t?Wt.PACKED_2X2_FLOAT16:Wt.UNPACKED_FLOAT16}(e);if(t===zt.DOWNLOAD||t===zt.PIXELS)return Wt.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function Ra(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}var Aa=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var i=Li(this.rank),o=function(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<t.length;i++)r.push("imod("+n[i]+", "+t[i]+")");return r.join()}(t);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Pa=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var i=Li(this.rank),o=function(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),i=0;i<t.length;i++)r[t[i]]=n[i];return r.join()}(e);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},Na=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=Li(this.rank),o=Si("rc",this.rank),a=new Array(this.rank);for(r=0;r<e.length;r++)a[e[r]]=o[r];var s="vec2("+a.slice(-2).join()+")",u="++"+o[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+u+") {\n        result[1] = "+c+";\n      }\n      --"+o[this.rank-1]+";\n      if(++"+o[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+u+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Da=1.7580993408473768,Ma=1.0507009873554805,ja=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Fa="if (isnan(x)) return x;",La="return x;",Ba="return abs(x);",Va=Fa+"\n  return (x < 0.0) ? 0.0 : x;\n",Ua=Fa+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",za="return (x >= 0.0) ? x : (exp(x) - 1.0);",Wa="return -x;",qa="return ceil(x);",Ha="return floor(x);",Ga="return exp(x);",Ka="return exp(x) - 1.0;",Xa="return x;",$a="return x;",Ya="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Qa="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Ja="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Za=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},ts=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var e=t.length,n=Ci("rc",e),r=Li(e),i=function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(e,n),o=n.slice(-2),a=e<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},es={};function ns(t,e){if(void 0===e&&(e=!1),"linear"===t)return e?$a:La;if("relu"===t)return e?Ya:Va;if("elu"===t)return e?Ja:za;if("relu6"===t)return e?Qa:Ua;if("prelu"===t)return e?Ji:Yi;throw new Error("Activation "+t+" has not been implemented for the WebGL backend.")}var rs=600,is=function(t){function e(e){var n,r=t.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!f().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){var i=Kt(f().getNumber("WEBGL_VERSION"));r.binaryCache=(n=f().getNumber("WEBGL_VERSION"))in es?es[n]:(es[n]={},es[n]),r.gpgpu=new Yo(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=e,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=e.gl.canvas;return r.textureManager=new Ta(r.gpgpu),r.numMBBeforeWarning=null==f().global.screen?1024:f().global.screen.height*f().global.screen.width*window.devicePixelRatio*rs/1024/1024,r.texData=new Br(r,Lt),r}return s(e,t),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(t,e,n){if(f().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===n&&null!=t)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:e,dtype:n,values:t,usage:zt.UPLOAD}),r},e.prototype.move=function(t,e,n,r){if(f().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:n,dtype:r,values:e,usage:zt.UPLOAD})},e.prototype.readSync=function(t){var e=this.texData.get(t),n=e.values,r=e.dtype,i=e.complexTensors,o=e.slice,a=e.shape,s=e.isPacked;if(null!=o){var u;u=s?new Za(a,Xa):new ja(a,Xa);var c=this.runWebGLProgram(u,[{dataId:t,shape:a,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(t);if("string"===r)return n;var f,h,d=null!=this.activeTimers;return d&&(f=rt()),h="complex64"===r?ai(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(t),d&&(this.downloadWaitMs+=rt()-f),this.convertAndCacheOnCPU(t,h)},e.prototype.read=function(t){return u(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,l,h,d,p,v,g,m,y,b,w,x,E,_,k;return c(this,function(c){switch(c.label){case 0:if(this.pendingRead.has(t))return e=this.pendingRead.get(t),[2,new Promise(function(t){return e.push(t)})];if(n=this.texData.get(t),r=n.values,i=n.shape,o=n.slice,a=n.dtype,s=n.complexTensors,u=n.isPacked,null!=o)return void 0,l=u?new Za(i,Xa):new ja(i,Xa),h=this.runWebGLProgram(l,[{dataId:t,shape:i,dtype:a}],a),d=this.read(h.dataId),this.disposeData(h.dataId),[2,d];if(null!=r)return[2,this.convertAndCacheOnCPU(t)];if(!f().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===f().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==a&&f().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(t),g=this.texData.get(v.dataId),p=(k=this.gpgpu).createBufferFromTexture.apply(k,[g.texture].concat($t(i)))),this.pendingRead.set(t,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:c.sent(),c.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=c.sent(),b=y[0],w=y[1],m=ai(b,w),[3,5];case 4:null==p?m=this.getValuesFromTexture(t):(x=T(i),m=this.gpgpu.downloadFloat32MatrixFromBuffer(p,x)),c.label=5;case 5:return null!=v&&this.disposeData(v.dataId),E=this.convertAndCacheOnCPU(t,m),_=this.pendingRead.get(t),this.pendingRead.delete(t),_.forEach(function(t){return t(E)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,E]}})})},e.prototype.checkNumericalProblems=function(t){if(null!=t)for(var e=0;e<t.length;e++){var n=t[e];if(!ee(n)){if(f().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},e.prototype.getValuesFromTexture=function(t){var e,n=this.texData.get(t),r=n.shape,i=n.dtype,o=n.isPacked,a=T(r);if(f().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(t),u=this.texData.get(s.dataId),c=(e=this.gpgpu).downloadMatrixFromPackedTexture.apply(e,[u.texture].concat($t(r))).subarray(0,a);return this.disposeData(s.dataId),c}var l=f().getBool("WEBGL_PACK")&&!0===o,h=l?Re(r):r,d=l?new So(h):new ko(h),p=this.runWebGLProgram(d,[{shape:h,dtype:i,dataId:t}],"float32"),v=this.texData.get(p.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,a);return this.disposeData(p.dataId),g},e.prototype.time=function(t){return u(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return c(this,function(u){switch(u.label){case 0:return e=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,t(),i=O(this.activeTimers.map(function(t){return t.query})).filter(function(t){return null!=t}),o=O(this.activeTimers.map(function(t){return t.name})).filter(function(t){return null!=t}),this.activeTimers=e,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=u.sent(),a.kernelMs=_(s),a.getExtraProfileInfo=function(){return s.map(function(t,e){return{name:o[e],ms:t}}).map(function(t){return t.name+": "+t.ms}).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:rt(),endMs:null}},e.prototype.endTimer=function(t){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=rt(),t)},e.prototype.getQueryTime=function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(n){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(e=t).endMs-e.startMs]})})},e.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var e=this.texData.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.texData.delete(t)}}},e.prototype.releaseGPUData=function(t){var e=this.texData.get(t),n=e.texture,r=e.dtype,i=e.texShape,o=e.usage,a=e.isPacked,s=e.slice,u=s&&s.origDataId||t,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,o,a)));var l=this.texData.get(t);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},e.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},e.prototype.getDataInfo=function(t){return this.texData.get(t)},e.prototype.getCPUBackend=function(){return f().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Lt.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(t,e){var n=this;return void 0===e&&(e=128),null!=this.getCPUBackend()&&t.every(function(t){return null==n.texData.get(t.dataId).texture&&t.size<e})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(t,e){var n=this.makeOutput(t.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Lt.keep(t.clone()),imag:Lt.keep(e.clone())},n},e.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,e,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,e,n);if(0===T(n))return pn([],n,t.dtype);var r=this.texData.get(t.dataId).isPacked,i=Dr(t.shape,e,n);if(r||!i){var o=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ca(n):new ka(n),a=o.getCustomSetupFunc(e);return this.compileAndRun(o,[t],null,a)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,e,n)},e.prototype.shallowSlice=function(t,e,n){var r=this.texData.get(t.dataId),i=this.makeOutput(n,t.dtype),o=this.texData.get(i.dataId);Object.assign(o,r),o.shape=n,o.dtype=t.dtype;var a=Mr(e,t.strides);r.slice&&(a+=r.slice.flatOffset),o.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||t.dataId};var s=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,s+1),i},e.prototype.stridedSlice=function(t,e,n,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,e,n,r);var i=Ar(e,n,r);if(i.some(function(t){return 0===t}))return pn([],i);var o=new Oa(e,r,i);return this.compileAndRun(o,[t])},e.prototype.reverse=function(t,e){var n=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wa(t.shape,e):new ba(t.shape,e);return this.compileAndRun(n,[t])},e.prototype.concat=function(t,e){if("complex64"===t[0].dtype){var n=t.map(function(t){return hn(t)}),r=t.map(function(t){return dn(t)});return fn(this.concat(n,e),this.concat(r,e))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,e);if(1===t.length)return t[0];if(t.length>f().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(t.length/2),o=this.concat(t.slice(0,i),e),a=this.concat(t.slice(i),e);return this.concat([o,a],e)}if(f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var s=new io(t.map(function(t){return t.shape}),e);return this.compileAndRun(s,t)}var u=cn(t.map(function(t){return t.shape}),e),c=t.map(function(t){return t.as2D(-1,T(t.shape.slice(e)))}),l=new ro(c.map(function(t){return t.shape}));return this.compileAndRun(l,c).reshape(u)},e.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Wa,t.dtype);var e=new ja(t.shape,Wa);return this.compileAndRun(e,[t])},e.prototype.batchMatMul=function(t,e,n,r){var i=n?t.shape[2]:t.shape[1],o=r?e.shape[1]:e.shape[2],a=n?t.shape[1]:t.shape[2],s=t.shape[0];if((1===i||1===o)&&a>1e3){n&&(t=t.transpose([0,2,1])),r&&(e=e.transpose([0,2,1]));var u=1===o?t:t.as3D(s,a,1),c=1===o?2:1,l=1===o?e.as3D(s,1,a):e;return this.multiply(u,l).sum(c,!0)}var f=Rt(t.dtype,e.dtype),h=new ia(t.shape,[s,i,o],n,r);return this.compileAndRun(h,[t,e],f)},e.prototype.fusedBatchMatMul=function(t){var e=t.a,n=t.b,r=t.transposeA,i=t.transposeB,o=t.bias,a=t.activation,s=t.preluActivationWeights,u=r?e.shape[2]:e.shape[1],c=i?n.shape[1]:n.shape[2],l=e.shape[0],f=Rt(e.dtype,n.dtype),h=null!=o,d=null!=s,p=a?ns(a,!0):null,v=new ia(e.shape,[l,u,c],r,i,h,p,d),g=[e,n];return o&&g.push(o),s&&g.push(s),this.compileAndRun(v,g,f)},e.prototype.multiply=function(t,e){if("complex64"===t.dtype){var n=this.texData.get(t.dataId),r=this.texData.get(e.dataId),i=new Gi("return areal * breal - aimag * bimag;",t.shape,e.shape),o=new Gi("return areal * bimag + aimag * breal;",t.shape,e.shape),a=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag),this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)],s=this.compileAndRun(i,a),u=this.compileAndRun(o,a),c=this.complex(s,u);return s.dispose(),u.dispose(),c}if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.multiply(t,e);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,$i,t.dtype);var l=new Qi($i,t.shape,e.shape);return this.compileAndRun(l,[t,e],t.dtype)},e.prototype.batchNormalization=function(t,e,n,r,i,o){var a=[t,e,n],s=null;null!=o&&(s=o.shape,a.push(o));var u=null;if(null!=i&&(u=i.shape,a.push(i)),f().getBool("WEBGL_PACK_NORMALIZATION")){var c=new Hi(t.shape,e.shape,n.shape,s,u,r);return this.compileAndRun(c,a)}var l=new qi(t.shape,e.shape,n.shape,s,u,r);return this.compileAndRun(l,a)},e.prototype.localResponseNormalization4D=function(t,e,n,r,i){var o=f().getBool("WEBGL_PACK_NORMALIZATION")?new ea(t.shape,e,n,r,i):new Zo(t.shape,e,n,r,i);return this.compileAndRun(o,[t])},e.prototype.LRNGrad=function(t,e,n,r,i,o,a){var s=new ta(e.shape,r,i,o,a);return this.compileAndRun(s,[e,n,t])},e.prototype.tile=function(t,e){if("string"===t.dtype){var n=this.readSync(t.dataId).map(function(t){return at(t)});return bi(Hn(t.shape,t.dtype,n),e)}var r=new Aa(t.shape,e);return this.compileAndRun(r,[t])},e.prototype.pad=function(t,e,n){var r=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ca(t.shape,e,n):new ua(t.shape,e,n);return this.compileAndRun(r,[t])},e.prototype.transpose=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,e);var n=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Na(t.shape,e):new Pa(t.shape,e);return this.compileAndRun(n,[t])},e.prototype.gather=function(t,e,n){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.gather(t,e,n);var r=new Ro(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},e.prototype.batchToSpaceND=function(t,e,n){k(t.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=e.reduce(function(t,e){return t*e}),i=yr(t.shape,e,r),o=br(i.length,e.length),a=wr(t.shape,e,r),s=xr(n,e.length),u=Er(a,n,e.length);return t.reshape(i).transpose(o).reshape(a).slice(s,u)},e.prototype.spaceToBatchND=function(t,e,n){k(t.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,n);for(var o=1+e.length;o<t.shape.length;++o)i.push([0,0]);var a=t.pad(i),s=yr(a.shape,e,r,!1),u=br(s.length,e.length,!1),c=wr(a.shape,e,r,!1);return a.reshape(s).transpose(u).reshape(c)},e.prototype.reduce=function(t,e,n){var r=t.shape[0],i=t.shape[1],o=Sr(i),a=new ha({windowSize:o,inSize:i,batchSize:r},e),s=this.compileAndRun(a,[t],n);return 1===s.shape[1]?s:this.reduce(s,e,n)},e.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],i=t.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var o=Sr(i),a=new ki({windowSize:o,inSize:i,batchSize:r},e,null==n),s=[t];null!=n&&s.push(n);var u=this.compileAndRun(a,s,"int32");return 1===u.shape[1]?u:this.argReduce(t,e,u)},e.prototype.argReducePacked=function(t,e,n){void 0===n&&(n=null);var r=null!=n?n.shape:t.shape,i=Sr(r[r.length-1]),o=new Ui(r,i,e,null==n),a=null==n?[t]:[t,n],s=this.compileAndRun(o,a,"int32");return s.rank===t.rank?this.argReducePacked(t,e,s):s},e.prototype.sum=function(t,e){rn("sum",e,t.rank);var n=en(t.shape,e),r=n[0],i=T(n[1]),o=t.as2D(-1,i),a=At(t.dtype);return this.reduce(o,"sum",a).reshape(r)},e.prototype.prod=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,e);var n=en(t.shape,e),r=n[0],i=T(n[1]),o=t.as2D(-1,i),a=At(t.dtype);return this.reduce(o,"prod",a).reshape(r)},e.prototype.unsortedSegmentSum=function(t,e,n){var r=0,i=on([r],t.rank),o=t;null!=i&&(o=t.transpose(i),r=sn(1,t.rank)[0]);var a=function(t,e,n){for(var r=[],i=t.length,o=0;o<i;o++)o!==e?r.push(t[o]):r.push(n);return r}(o.shape,r,n),s=T([o.shape[r]]),u=o.as2D(-1,s),c=At(t.dtype),l=this.segOpCompute(u,"unsortedSegmentSum",e,c,n).reshape(a);return null!=i&&(l=l.transpose(an(i))),l},e.prototype.segOpCompute=function(t,e,n,r,i){var o=t.shape[0],a=t.shape[1],s=function(t,e){var n,r=!1;for(t<=kr?(n=t,r=!0):n=Q(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=Q(t,n+1);return n}(a,i),u=new Ea({windowSize:s,inSize:a,batchSize:o,numSegments:i},e),c=this.compileAndRun(u,[t,n],r);return c.shape[1]===i?c:(n=kn(0,i).tile([a/s]),this.segOpCompute(c,e,n,r,i))},e.prototype.argMinMaxReduce=function(t,e,n){var r=[e];if(rn("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,t.rank),!f().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var i=en(t.shape,r),o=i[0],a=T(i[1]),s=t.as2D(-1,a);return this.argReduce(s,n).reshape(o)}return this.argReducePacked(t,n)},e.prototype.argMin=function(t,e){return this.argMinMaxReduce(t,e,"min")},e.prototype.argMax=function(t,e){return this.argMinMaxReduce(t,e,"max")},e.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var i=new yo(t.shape,n,r);return this.compileAndRun(i,[t])},e.prototype.equal=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(equal(a, b));\n","bool");var n=new Qi("return float(a == b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.notEqual=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Qi("return float(a != b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.less=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.less(t,e);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Qi("return float(a < b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.lessEqual=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Qi("return float(a <= b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.greater=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.greater(t,e);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Qi("return float(a > b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.greaterEqual=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Qi("return float(a >= b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.logicalNot=function(t){var e=new ja(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(e,[t])},e.prototype.logicalAnd=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Qi("return float(a >= 1.0 && b >= 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.logicalOr=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Qi("return float(a >= 1.0 || b >= 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},e.prototype.select=function(t,e,n){var r=new _a(t.rank,e.shape,e.rank);return this.compileAndRun(r,[t,e,n],Rt(e.dtype,n.dtype))},e.prototype.where=function(t){Xe("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var e=t.dataSync();return xi(t.shape,e)},e.prototype.topk=function(t,e,n){return wi(t.dataSync(),t.shape,t.dtype,e)},e.prototype.min=function(t,e){rn("min",e,t.rank);var n=en(t.shape,e),r=n[0],i=T(n[1]),o=t.as2D(-1,i);return this.reduce(o,"min",o.dtype).reshape(r)},e.prototype.minimum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.minimum(t,e);var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Qi("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},e.prototype.mod=function(t,e){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Qi("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},e.prototype.max=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,e);rn("max",e,t.rank);var n=en(t.shape,e),r=n[0],i=T(n[1]),o=t.as2D(-1,i);return this.reduce(o,"max",o.dtype).reshape(r)},e.prototype.maximum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.maximum(t,e);var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Qi("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},e.prototype.all=function(t,e){rn("all",e,t.rank);var n=en(t.shape,e),r=n[0],i=T(n[1]),o=t.as2D(-1,i);return this.reduce(o,"all",o.dtype).reshape(r)},e.prototype.any=function(t,e){rn("any",e,t.rank);var n=en(t.shape,e),r=n[0],i=T(n[1]),o=t.as2D(-1,i);return this.reduce(o,"any",o.dtype).reshape(r)},e.prototype.realDivide=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new Qi("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",t.shape,e.shape);return this.compileAndRun(n,[t,e],"float32")},e.prototype.floorDiv=function(t,e){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Qi("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",t.shape,e.shape);return this.compileAndRun(n,[t,e],"int32")},e.prototype.add=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,Ki);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.add(t,e);var n=Rt(t.dtype,e.dtype);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,Ki,n);var r=new Qi(Ki,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)},e.prototype.packedUnaryOp=function(t,e,n){var r=new Za(t.shape,e);return this.compileAndRun(r,[t],n)},e.prototype.packedBinaryOp=function(t,e,n,r,i){void 0===i&&(i=!1);var o=new Zi(n,t.shape,e.shape,i);return this.compileAndRun(o,[t,e],r)},e.prototype.complexSeparableBinaryOp=function(t,e,n){var r=this,i=this.texData.get(t.dataId),o=this.texData.get(e.dataId),a=[[i.complexTensors.real,o.complexTensors.real],[i.complexTensors.imag,o.complexTensors.imag]].map(function(i){var o=i[0],a=i[1],s=r.makeComplexComponentTensorInfo(t,o),u=r.makeComplexComponentTensorInfo(e,a),c=new Qi(n,t.shape,e.shape);return r.compileAndRun(c,[s,u],Rt(o.dtype,a.dtype))}),s=a[0],u=a[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},e.prototype.makeComplexComponentTensorInfo=function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}},e.prototype.addN=function(t){if(1===t.length)return t[0];if(t.length>f().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var e=Math.floor(t.length/2),n=this.addN(t.slice(0,e)),r=this.addN(t.slice(e));return this.addN([n,r])}var i=t.map(function(t){return t.dtype}).reduce(function(t,e){return Rt(t,e)}),o=t.map(function(t){return t.shape}),a=f().getBool("WEBGL_PACK")?new _i(t[0].shape,o):new Ei(t[0].shape,o);return this.compileAndRun(a,t,i)},e.prototype.subtract=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,Xi);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.subtract(t,e);var n=Rt(t.dtype,e.dtype);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,Xi,t.dtype);var r=new Qi(Xi,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)},e.prototype.pow=function(t,e){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Qi("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,e.shape),r=Rt(t.dtype,e.dtype);return this.compileAndRun(n,[t,e],r)},e.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,qa,t.dtype);var e=new ja(t.shape,qa);return this.compileAndRun(e,[t])},e.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Ha,t.dtype);var e=new ja(t.shape,Ha);return this.compileAndRun(e,[t])},e.prototype.sign=function(t){var e=new ja(t.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(e,[t])},e.prototype.isNaN=function(t){var e=new ja(t.shape,"return float(isnan(x));");return this.compileAndRun(e,[t],"bool")},e.prototype.isInf=function(t){var e=new ja(t.shape,"return float(isinf(x));");return this.compileAndRun(e,[t],"bool")},e.prototype.isFinite=function(t){var e=new ja(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(e,[t],"bool")},e.prototype.round=function(t){var e=new ja(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(e,[t])},e.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Ga,t.dtype);var e=new ja(t.shape,Ga);return this.compileAndRun(e,[t])},e.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Ka,t.dtype);var e=new ja(t.shape,Ka);return this.compileAndRun(e,[t])},e.prototype.softmax=function(t,e){var n=j([e],t.shape),r=this.max(t,n),i=nn(r.shape,n),o=this.subtract(t,r.reshape(i)),a=this.exp(o),s=this.sum(a,n).reshape(i);return this.realDivide(a,s)},e.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",t.dtype);var e=new ja(t.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(e,[t])},e.prototype.log1p=function(t){var e=new ja(t.shape,"return log(1.0 + x);");return this.compileAndRun(e,[t])},e.prototype.sqrt=function(t){var e=new ja(t.shape,"return sqrt(x);");return this.compileAndRun(e,[t])},e.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var e=new ja(t.shape,"return inversesqrt(x);");return this.compileAndRun(e,[t])},e.prototype.reciprocal=function(t){var e=new ja(t.shape,"return 1.0 / x;");return this.compileAndRun(e,[t])},e.prototype.relu=function(t){var e;return e=f().getBool("WEBGL_PACK")?new Za(t.shape,Ya):new ja(t.shape,Va),this.compileAndRun(e,[t])},e.prototype.relu6=function(t){var e;return e=f().getBool("WEBGL_PACK")?new Za(t.shape,Qa):new ja(t.shape,Ua),this.compileAndRun(e,[t])},e.prototype.prelu=function(t,e){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi(Ji,t.shape,e.shape):new Qi(Yi,t.shape,e.shape);return this.compileAndRun(n,[t,e])},e.prototype.elu=function(t){if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Ja,t.dtype);var e=new ja(t.shape,za);return this.compileAndRun(e,[t])},e.prototype.eluDer=function(t,e){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",t.shape,e.shape):new Qi("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},e.prototype.selu=function(t){var e=new ja(t.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(e,[t])},e.prototype.int=function(t){var e=new ja(t.shape,"return float(int(x));");return this.compileAndRun(e,[t],"int32")},e.prototype.clip=function(t,e,n){var r,i=(r=f().getBool("WEBGL_PACK_CLIP")?new eo(t.shape):new to(t.shape)).getCustomSetupFunc(e,n);return this.compileAndRun(r,[t],null,i)},e.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Ba,t.dtype);var e=new ja(t.shape,Ba);return this.compileAndRun(e,[t])},e.prototype.complexAbs=function(t){var e=this.texData.get(t.dataId),n=new no(t.shape),r=[this.makeComplexComponentTensorInfo(t,e.complexTensors.real),this.makeComplexComponentTensorInfo(t,e.complexTensors.imag)];return this.compileAndRun(n,r)},e.prototype.sigmoid=function(t){var e=new ja(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(e,[t])},e.prototype.softplus=function(t){var e=new ja(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(e,[t])},e.prototype.sin=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(e,[t])},e.prototype.cos=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(e,[t])},e.prototype.tan=function(t){var e=new ja(t.shape,"return tan(x);");return this.compileAndRun(e,[t])},e.prototype.asin=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(e,[t])},e.prototype.acos=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(e,[t])},e.prototype.atan=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(e,[t])},e.prototype.atan2=function(t,e){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Qi("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},e.prototype.sinh=function(t){var e=new ja(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},e.prototype.cosh=function(t){var e=new ja(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},e.prototype.tanh=function(t){var e=new ja(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(e,[t])},e.prototype.asinh=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(e,[t])},e.prototype.acosh=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(e,[t])},e.prototype.atanh=function(t){var e=new ja(t.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(e,[t])},e.prototype.erf=function(t){var e=new ja(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(e,[t])},e.prototype.step=function(t,e){var n=new ja(t.shape,function(t){return void 0===t&&(t=0),Fa+"\n    return x > 0.0 ? 1.0 : float("+t+");\n  "}(e));return this.compileAndRun(n,[t])},e.prototype.conv2dByMatMul=function(t,e,n,r,i,o){var a=t.shape,s=this.texData.get(t.dataId),u=n.inChannels,c=a[0]*a[1]*a[2],l=n.outChannels,h="channelsLast"===n.dataFormat,d=(1===c||1===l)&&u>1e3,p=a[2]%2!=0&&!!s.isPacked;if(d||!f().getBool("WEBGL_LAZILY_UNPACK")||!f().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var v=h?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],g=this.reshape(t,[1,v,n.inChannels]),m=this.reshape(e,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:m,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:o}),n.outShape)}var y=h?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),b={dataId:t.dataId,shape:[1,y,n.inChannels],dtype:t.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,k(Ne(s.shape,b.shape),function(){return"packed reshape "+s.shape+" to "+b.shape+" isn't free"});var x=this.reshape(e,[1,n.inChannels,n.outChannels]),E=this.fusedBatchMatMul({a:b,b:x,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:o}),_=this.texData.get(E.dataId);return k(_.isPacked,function(){return"batchMatMul result is expected to be packed"}),s.shape=w,_.shape=n.outShape,Lt.makeTensorFromDataId(E.dataId,n.outShape,E.dtype)},e.prototype.conv2dWithIm2Row=function(t,e,n,r,i,o){var a=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,f="channelsLast"===n.dataFormat,h=a*s*u,d=l*c,p=[h,d],v=t.squeeze([0]),g=e.reshape([1,h,-1]),m=new Jo(p,v.shape,n),y=this.compileAndRun(m,[v]).reshape([1,p[0],p[1]]),b=null!=r,w=null!=o,x=i?ns(i,!0):null,E=new ia(y.shape,[1,d,n.outChannels],!0,!1,b,x,w),_=[y,g];r&&_.push(r),w&&_.push(o);var k=this.compileAndRun(E,_);return f?k.reshape([1,l,c,n.outChannels]):k.reshape([1,n.outChannels,l,c])},e.prototype.fusedConv2d=function(t){var e=t.input,n=t.filter,r=t.convInfo,i=t.bias,o=t.activation,a=t.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(e,n,r,i,o,a);if(f().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,n,r,i,o,a);var s=null!=i,u=null!=a,c=o?ns(o,!1):null,l=new ho(r,s,c,u),h=[e,n];return i&&h.push(i),a&&h.push(a),this.compileAndRun(l,h)},e.prototype.conv2d=function(t,e,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(t,e,n);if(f().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,e,n);var r=new ho(n);return this.compileAndRun(r,[t,e])},e.prototype.conv2dDerInput=function(t,e,n){var r=new so(n);return this.compileAndRun(r,[t,e])},e.prototype.conv2dDerFilter=function(t,e,n){var r=new ao(n);return this.compileAndRun(r,[t,e])},e.prototype.fusedDepthwiseConv2D=function(t){var e,n=t.input,r=t.filter,i=t.convInfo,o=t.bias,a=t.activation,s=t.preluActivationWeights,u=f().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,c=a?ns(a,u):null,l=[n,r],h=null!=o,d=null!=s;return h&&l.push(o),d&&l.push(s),u?(e=new go(i,h,c,d),this.compileAndRun(e,l)):(e=new vo(i,h,c,d),this.compileAndRun(e,l))},e.prototype.depthwiseConv2D=function(t,e,n){var r;return f().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new go(n),this.compileAndRun(r,[t,e])):(r=new vo(n),this.compileAndRun(r,[t,e]))},e.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new fo(n);return this.compileAndRun(r,[t,e])},e.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new lo(n);return this.compileAndRun(r,[t,e])},e.prototype.conv3d=function(t,e,n){var r=new po(n);return this.compileAndRun(r,[t,e])},e.prototype.conv3dDerInput=function(t,e,n){var r=new co(n);return this.compileAndRun(r,[t,e])},e.prototype.conv3dDerFilter=function(t,e,n){var r=new uo(n);return this.compileAndRun(r,[t,e])},e.prototype.maxPool=function(t,e){var n=new la(e,"max",!1);return this.compileAndRun(n,[t])},e.prototype.avgPool=function(t,e){var n=new la(e,"avg",!1);return this.compileAndRun(n,[t],"float32")},e.prototype.maxPoolBackprop=function(t,e,n,r){var i=new la(r,"max",!0),o=this.compileAndRun(i,[e]),a=new na(r),s=this.compileAndRun(a,[t,o],e.dtype);return o.dispose(),s},e.prototype.avgPoolBackprop=function(t,e,n){var r=new zi(n);return this.compileAndRun(r,[t],e.dtype)},e.prototype.cast=function(t,e){return ri(t,e,this)},e.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),i=0,o=0;o<t.rank;o++)o!==e&&(r[i++]=t.shape[o]);var a=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;var u=new Array(n);for(o=0;o<u.length;o++)a[e]=o,u[o]=this.slice(t,a,s).reshape(r);return u},e.prototype.avgPool3d=function(t,e){var n=new fa(e,"avg",!1);return this.compileAndRun(n,[t],"float32")},e.prototype.avgPool3dBackprop=function(t,e,n){var r=new Wi(n);return this.compileAndRun(r,[t],e.dtype)},e.prototype.maxPool3d=function(t,e){var n=new fa(e,"max",!1);return this.compileAndRun(n,[t],"float32")},e.prototype.maxPool3dBackprop=function(t,e,n,r){var i=new fa(r,"max",!0),o=this.compileAndRun(i,[e]),a=new ra(r),s=this.compileAndRun(a,[t,o],e.dtype);return o.dispose(),s},e.prototype.reshape=function(t,e){var n=this.texData.get(t.dataId);if(n.isPacked&&!Ne(t.shape,e)&&(null===n.texture||!Ne(n.shape,e))){var r=this.packedReshape(t,e);return Lt.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return ii(t,e)},e.prototype.resizeBilinear=function(t,e,n,r){var i=f().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ga(t.shape,e,n,r):new va(t.shape,e,n,r);return this.compileAndRun(i,[t],"float32")},e.prototype.resizeBilinearBackprop=function(t,e,n){var r=new pa(t,e,n);return this.compileAndRun(r,[t])},e.prototype.resizeNearestNeighbor=function(t,e,n,r){var i=new ya(t.shape,e,n,r);return this.compileAndRun(i,[t])},e.prototype.resizeNearestNeighborBackprop=function(t,e,n){var r=new ma(t,e,n);return this.compileAndRun(r,[t])},e.prototype.multinomial=function(t,e,n,r){var i=e?t:Fr(t),o=i.shape[0],a=i.shape[1],s=new oa(o,a,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",u)},e.prototype.oneHot=function(t,e,n,r){var i=new aa(t.size,e,n,r);return this.compileAndRun(i,[t])},e.prototype.diag=function(t){var e=new _o(t.size);return this.compileAndRun(e,[t])},e.prototype.nonMaxSuppression=function(t,e,n,r,i){return Xe("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),hi(t.dataSync(),e.dataSync(),n,r,i)},e.prototype.cropAndResize=function(t,e,n,r,i,o){var a=new mo(t.shape,e.shape,r,i,o);return this.compileAndRun(a,[t,e,n],"float32")},e.prototype.depthToSpace=function(t,e,n){k(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e});var r=t.shape[0],i="NHWC"===n?t.shape[1]:t.shape[2],o="NHWC"===n?t.shape[2]:t.shape[3],a="NHWC"===n?t.shape[3]:t.shape[1],s=i*e,u=o*e,c=a/(e*e),l=new Eo("NHWC"===n?[r,s,u,c]:[r,c,s,u],e,n);return this.compileAndRun(l,[t])},e.prototype.split=function(t,e,n){return yi(t,e,n)},e.prototype.scatterND=function(t,e,n){var r=Tr(0,t,n),i=r.sliceRank,o=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/a,a],l=t.reshape([o,i]),f=e.reshape([o,a]);if(0===u)return ii(pn([]),n);var h=gn(0),d=new xa(o,i,l.rank,f.rank,s,c);return this.compileAndRun(d,[f,l,h]).reshape(n)},e.prototype.sparseToDense=function(t,e,n,r){var i=Tr(0,t,n),o=i.sliceRank,a=i.numUpdates,s=i.strides,u=i.outputSize,c=new xa(a,o,t.rank,e.rank,s,[u,1],!1);return this.compileAndRun(c,[e,t,r]).reshape(n)},e.prototype.fft=function(t){return this.fftImpl(t,!1)},e.prototype.ifft=function(t){return this.fftImpl(t,!0)},e.prototype.fftImpl=function(t,e){var n=this.texData.get(t.dataId),r=new To("return real * expR - imag * expI;",t.shape,e),i=new To("return real * expI + imag * expR;",t.shape,e),o=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag)],a=this.compileAndRun(r,o),s=this.compileAndRun(i,o),u=this.complex(a,s).as2D(t.shape[0],t.shape[1]);return a.dispose(),s.dispose(),u},e.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],i=_r(t,e),o=i[0],a=i[1],s=i[2],u=i[3],c=e.reshape([a,r]),l=t.reshape([t.size/s,s]),f=new Ao(r,u,[a,s]);return this.compileAndRun(f,[l,c]).reshape(o)},e.prototype.fill=function(t,e,n){if("string"===(n=n||$(e))){var r=B(n,T(t));return r.fill(e),Lt.makeTensor(r,t,n,this)}var i=new Io(t,e),o=i.getCustomSetupFunc(e);return this.compileAndRun(i,[],n,o)},e.prototype.onesLike=function(t){if("string"===t.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){return this.fill(t.shape,"string"===t.dtype?"":0,t.dtype)},e.prototype.linspace=function(t,e,n){return oi(t,e,n)},e.prototype.makeTensorInfo=function(t,e){var n=this.write(null,t,e);return this.texData.get(n).usage=null,{dataId:n,shape:t,dtype:e}},e.prototype.makeOutput=function(t,e){var n=this.makeTensorInfo(t,e).dataId;return Lt.makeTensorFromDataId(n,t,e,this)},e.prototype.unpackTensor=function(t){var e=new ts(t.shape);return this.runWebGLProgram(e,[t],t.dtype)},e.prototype.packTensor=function(t){var e=new sa(t.shape);return this.runWebGLProgram(e,[t],t.dtype,null,!0)},e.prototype.packedReshape=function(t,e){var n=[Te(t.shape)].concat(Ie(t.shape)),r={dtype:t.dtype,shape:n,dataId:t.dataId},i=[Te(e)].concat(Ie(e)),o=new da(i,n),a=this.runWebGLProgram(o,[r],t.dtype,null,!0);return{dataId:a.dataId,shape:e,dtype:a.dtype}},e.prototype.decode=function(t){var e,n=this.texData.get(t),r=n.isPacked,i=n.shape,o=n.dtype,a=Re(i);return e=r?new xo(a):new wo(a),{dtype:o,shape:i,dataId:this.runWebGLProgram(e,[{shape:a,dtype:o,dataId:t}],o,null,!0).dataId}},e.prototype.runWebGLProgram=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=this.makeTensorInfo(t.outputShape,n),s=this.texData.get(a.dataId);if(t.packedOutput&&(s.isPacked=!0),t.outPackingScheme===Ut.DENSE){var u=$t(t.outputShape);s.texShape=u.map(function(t){return 2*t})}if(null!=t.outTexUsage&&(s.usage=t.outTexUsage),0===T(a.shape))return s.values=L(a.dtype,0),a;var c=[],l=e.map(function(e){if("complex64"===e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=o.texData.get(e.dataId);if(null==n.texture){if(!t.packedInputs&&T(e.shape)<=f().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:e.shape,texData:null,isUniform:!0,uniformValues:n.values};t.packedInputs&&(n.isPacked=!0,n.shape=e.shape)}else if(!!n.isPacked!=!!t.packedInputs)e=n.isPacked?o.unpackTensor(e):o.packTensor(e),c.push(e),n=o.texData.get(e.dataId);else if(n.isPacked&&!Ne(n.shape,e.shape)){var r=e,i=e.shape;e.shape=n.shape,e=o.packedReshape(e,i),c.push(e),n=o.texData.get(e.dataId),r.shape=i}return o.uploadToGPU(e.dataId),{shape:e.shape,texData:n,isUniform:!1}});this.uploadToGPU(a.dataId);var h,d={shape:a.shape,texData:s,isUniform:!1},p=function(t,e,n){var r="";l.concat(n).forEach(function(t){var e=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0,n=t.isUniform?"uniform":t.texData.texShape;r+=t.shape+"_"+n+"_"+e});var i=t.userCode;return t.constructor.name+"_"+r+"_"+i}(t,0,d),v=this.getAndSaveBinary(p,function(){return function(t,e,n,r){var i=e.userCode,o=n.map(function(t,n){var r={logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform,isPacked:!t.isUniform&&t.texData.isPacked,flatOffset:null};return null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0&&(r.flatOffset=t.texData.slice.flatOffset),{name:e.variableNames[n],shapeInfo:r}}),a=o.map(function(t){return t.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=Ai(o,s,i,e.packedInputs),c=t.createProgram(u),l=null,h=t.getUniformLocation(c,"NAN",!1);1===f().getNumber("WEBGL_VERSION")&&(l=t.getUniformLocation(c,"INFINITY",!1));for(var d={},p=0;p<e.variableNames.length;p++){var v=e.variableNames[p];d[v]=t.getUniformLocation(c,v,!1),d["offset"+v]=t.getUniformLocation(c,"offset"+v,!1)}return{program:e,source:u,webGLProgram:c,uniformLocations:d,inShapeInfos:a,outShapeInfo:s,infLoc:l,nanLoc:h}}(o.gpgpu,t,l,d)}),g=null!=this.activeTimers;if(g&&(h=this.startTimer()),function(t,e,n,r,i){Qo(e.inShapeInfos,n),Qo([e.outShapeInfo],[r]);var o=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(o,a[0],a[1]):t.setOutputMatrixTexture(o,a[0],a[1]),t.setProgram(e.webGLProgram),1===f().getNumber("WEBGL_VERSION")&&null!==e.infLoc&&t.gl.uniform1f(e.infLoc,1/0),null!==e.nanLoc&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach(function(n,r){var i=e.program.variableNames[r],o=e.uniformLocations[i],a=e.uniformLocations["offset"+i];if(null!=o)if(n.isUniform)if(T(n.shape)<2)t.gl.uniform1f(o,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),t.gl.uniform1fv(o,s)}else null!=n.texData.slice&&null!=a&&t.gl.uniform1i(a,n.texData.slice.flatOffset),t.setInputMatrixTexture(n.texData.texture,o,r)}),null!=i&&i(t,e.webGLProgram),t.executeProgram()}(this.gpgpu,v,l,d,r),c.forEach(function(t){return o.disposeData(t.dataId)}),g&&(h=this.endTimer(h),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(h)})),!f().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var m=this.unpackTensor(a);return this.disposeData(a.dataId),m}return a},e.prototype.compileAndRun=function(t,e,n,r,i){void 0===i&&(i=!1),n=n||e[0].dtype;var o=this.runWebGLProgram(t,e,n,r,i);return Lt.makeTensorFromDataId(o.dataId,o.shape,o.dtype)},e.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var t=this;this.disposed||(f().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(e){t.gpgpu.deleteProgram(t.binaryCache[e].webGLProgram),delete t.binaryCache[e]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var t=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Ge(function(){if(!f().get("WEBGL_RENDER_FLOAT32_ENABLED")){var e=f().getBool("DEBUG");f().set("DEBUG",!1);var n=t.abs(gn(1e-8)).dataSync()[0];if(f().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.uploadToGPU=function(t){var e,n=this.texData.get(t),r=n.shape,i=n.dtype,o=n.values,a=n.texture,s=n.usage,u=n.isPacked;if(null==a){var c,l=null!=this.activeTimers;l&&(c=rt());var f=n.texShape;if(null==f&&(f=Ae(r,u),n.texShape=f),null!=o){var h=Re(r),d=void 0,p=f[1],v=f[0],g=o instanceof Uint8Array;u?(p=(e=Yt(f[0],f[1]))[0],v=e[1],d=new Oo(h,[v,p],g)):d=new Co(h,[v,p],g);var m=this.makeTensorInfo([v,p],i);this.texData.get(m.dataId).usage=g?zt.PIXELS:zt.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),p,v,o);var y=this.runWebGLProgram(d,[m],i,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(m.dataId),this.texData.delete(y.dataId),n.values=null,l&&(this.uploadWaitMs+=rt()-c)}else{var w=this.acquireTexture(f,s,i,u);n.texture=w}}},e.prototype.convertAndCacheOnCPU=function(t,e){var n=this.texData.get(t),r=n.dtype;return this.releaseGPUData(t),null!=e&&(n.values=function(t,e){if("float32"===e||"complex64"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype "+e)}(e,r)),n.values},e.prototype.acquireTexture=function(t,e,n,r){if(this.numBytesInGPU+=this.computeBytes(t,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,e,r)},e.prototype.computeBytes=function(t,e){return t[0]*t[1]*q(e)},e}(Vr);Bt()&&Lt.registerBackend("webgl",function(){return new is},2);var os=ln({square_:function(t){var e=Qe(t,"x","square"),n=[e];return Lt.runKernelFunc(function(t,n){return n([e]),t.square(e)},{x:e},null,"Square",{},n,[])}}),as="SquaredDifference",ss=ln({squaredDifference_:function(t,e){var n,r=Qe(t,"a","squaredDifference"),i=Qe(e,"b","squaredDifference");n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape);var o={a:r,b:i},a=[r,i];return Lt.runKernelFunc(function(t,e){var n=t.squaredDifference(r,i);return e([r,i]),n},o,function(t,e){var n=e[0],r=e[1],i=gn(2);return{a:function(){return t.mul(n.sub(r).mul(i))},b:function(){return t.mul(r.sub(n).mul(i))}}},as,{},a,[])}}),us=ln({abs_:function(t){var e=Qe(t,"x","abs");return"complex64"===e.dtype?Lt.runKernelFunc(function(t){return t.complexAbs(e)},{$x:e}):Lt.runKernelFunc(function(t,n){var r=t.abs(e);return n([e]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().step(-1))}}},"Abs")}}),cs=ln({acos_:function(t){var e=Qe(t,"x","acos");return Lt.runKernelFunc(function(t,n){var r=t.acos(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(gn(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),ls=ln({acosh_:function(t){var e=Qe(t,"x","acosh");return Lt.runKernelFunc(function(t,n){var r=t.acosh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),fs=ln({asin_:function(t){var e=Qe(t,"x","asin");return Lt.runKernelFunc(function(t,n){var r=t.asin(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(gn(1).sub(n.toFloat().square()).sqrt())}}})}}),hs=ln({asinh_:function(t){var e=Qe(t,"x","asinh");return Lt.runKernelFunc(function(t,n){var r=t.asinh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(gn(1).add(n.toFloat().square()).sqrt())}}})}}),ds=ln({atan_:function(t){var e=Qe(t,"x","atan");return Lt.runKernelFunc(function(t,n){var r=t.atan(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().square().add(1))}}})}}),ps=ln({atanh_:function(t){var e=Qe(t,"x","atanh");return Lt.runKernelFunc(function(t,n){var r=t.atanh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(gn(1).sub(n.toFloat().square()))}}})}}),vs=ln({ceil_:function(t){var e=Qe(t,"x","ceil");return Lt.runKernelFunc(function(t){return t.ceil(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),gs=ln({clipByValue_:function(t,e,n){var r=Qe(t,"x","clipByValue");k(e<=n,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."});var i=[r],o={min:e,max:n};return Lt.runKernelFunc(function(t,i){var o=t.clip(r,e,n);return i([r]),o},{x:r},function(t,r){var i=r[0];return{x:function(){return t.where(i.greaterEqual(e).logicalAnd(i.lessEqual(n)),Cn(t))}}},"ClipByValue",o,i)}}),ms=ln({cos_:function(t){var e=Qe(t,"x","cos"),n=[e];return Lt.runKernelFunc(function(t,n){var r=t.cos(e);return n([e]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return n.toFloat().sin().neg().mul(t)}}},"Cos",{},n)}}),ys=ln({cosh_:function(t){var e=Qe(t,"x","cosh");return Lt.runKernelFunc(function(t,n){var r=t.cosh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return n.toFloat().sinh().mulStrict(t)}}})}}),bs=ln({erf_:function(t){var e=Qe(t,"x","erf");return k("int32"===e.dtype||"float32"===e.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===e.dtype&&(e=e.toFloat()),Lt.runKernelFunc(function(t,n){var r=t.erf(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),ws=ln({exp_:function(t){var e=Qe(t,"x","exp");return Lt.runKernelFunc(function(t,n){var r=t.exp(e);return n([r]),r},{x:e},function(t,e){return{x:function(){return t.mulStrict(e[0])}}},"Exp",{},[],[!0])}}),xs=ln({expm1_:function(t){var e=Qe(t,"x","expm1");return Lt.runKernelFunc(function(t,n){var r=t.expm1(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.exp())}}})}}),Es=ln({floor_:function(t){var e=Qe(t,"x","floor");return Lt.runKernelFunc(function(t){return t.floor(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),_s=ln({log_:function(t){var e=Qe(t,"x","log"),n=[e];return Lt.runKernelFunc(function(t,n){var r=t.log(e);return n([e]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return t.div(n.toFloat())}}},"Log",{},n)}}),ks=ln({log1p_:function(t){var e=Qe(t,"x","log1p");return Lt.runKernelFunc(function(t,n){var r=t.log1p(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.add(1))}}})}}),Ss=ln({logSigmoid_:function(t){var e=Qe(t,"x","logSigmoid");return Lt.runKernelFunc(function(t,n){var r=t.softplus(e.neg()).neg();return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.neg().sigmoid())}}})}}),Cs=ln({neg_:function(t){var e=Qe(t,"x","neg"),n=[e];return Lt.runKernelFunc(function(t){return t.neg(e)},{x:e},function(t){return{x:function(){return t.neg()}}},"Neg",{},n)}}),Os=ln({reciprocal_:function(t){var e=Qe(t,"x","reciprocal");return Lt.runKernelFunc(function(t,n){var r=t.reciprocal(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.square().neg())}}})}}),Ts=ln({round_:function(t){var e=Qe(t,"x","round");return Lt.runKernelFunc(function(t){return t.round(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),Is=ln({rsqrt_:function(t){var e=Qe(t,"x","rsqrt"),n=[e];return Lt.runKernelFunc(function(t,n){var r=t.rsqrt(e);return n([e]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return t.div(n.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),Rs=ln({sigmoid_:function(t){var e=Qe(t,"x","sigmoid");return Lt.runKernelFunc(function(t,n){var r=t.sigmoid(e);return n([r]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return t.mul(n.mul(gn(1).sub(n)))}}},"Sigmoid")}}),As=ln({sign_:function(t){var e=Qe(t,"x","sign");return Lt.runKernelFunc(function(t){return t.sign(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),Ps=ln({isNaN_:function(t){var e=Qe(t,"x","isNaN");return Lt.runKernelFunc(function(t){return t.isNaN(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),Ns=ln({isInf_:function(t){var e=Qe(t,"x","isInf");return Lt.runKernelFunc(function(t){return t.isInf(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),Ds=ln({isFinite_:function(t){var e=Qe(t,"x","isFinite");return Lt.runKernelFunc(function(t){return t.isFinite(e)},{$x:e},function(t){return{$x:function(){return Cn(t)}}})}}),Ms=ln({sin_:function(t){var e=Qe(t,"x","sin"),n=[e];return Lt.runKernelFunc(function(t,n){var r=t.sin(e);return n([e]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return n.toFloat().cos().mul(t)}}},"Sin",{},n)}}),js=ln({sinh_:function(t){var e=Qe(t,"x","sinh");return Lt.runKernelFunc(function(t,n){var r=t.sinh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return n.toFloat().cosh().mulStrict(t)}}})}}),Fs=ln({softplus_:function(t){var e=Qe(t,"x","softplus");return Lt.runKernelFunc(function(t,n){var r=t.softplus(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.sigmoid())}}})}}),Ls=ln({sqrt_:function(t){var e=Qe(t,"x","sqrt");return Lt.runKernelFunc(function(t,n){var r=t.sqrt(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().sqrt().mul(2))}}})}}),Bs=ln({step_:function(t,e){void 0===e&&(e=0);var n=Qe(t,"x","step");return Lt.runKernelFunc(function(t){return t.step(n,e)},{$x:n},function(t){return{$x:function(){return Cn(t)}}})}}),Vs=ln({tan_:function(t){var e=Qe(t,"x","tan");return Lt.runKernelFunc(function(t,n){var r=t.tan(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.cos().square())}}})}}),Us=ln({tanh_:function(t){var e=Qe(t,"x","tanh");return Lt.runKernelFunc(function(t,n){var r=t.tanh(e);return n([r]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return gn(1).sub(n.square()).mulStrict(t)}}},"Tanh",{},null,[!0])}});function zs(t,e,n,r,i,o){var a,s,u=Qe(t,"x","batchNorm"),c=Qe(e,"mean","batchNorm"),l=Qe(n,"variance","batchNorm");return null!=i&&(a=Qe(i,"scale","batchNorm")),null!=r&&(s=Qe(r,"offset","batchNorm")),k(2===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),k(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."}),k(2===l.rank||1===l.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."}),null!=a&&k(2===a.rank||1===a.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),null!=s&&k(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),Hs(u,c,l,s,a,o)}function Ws(t,e,n,r,i,o){var a,s,u=Qe(t,"x","batchNorm"),c=Qe(e,"mean","batchNorm"),l=Qe(n,"variance","batchNorm");return null!=i&&(a=Qe(i,"scale","batchNorm")),null!=r&&(s=Qe(r,"offset","batchNorm")),k(3===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),k(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."}),k(3===l.rank||1===l.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."}),null!=a&&k(3===a.rank||1===a.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),null!=s&&k(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),Hs(u,c,l,s,a,o)}function qs(t,e,n,r,i,o){var a,s,u=Qe(t,"x","batchNorm"),c=Qe(e,"mean","batchNorm"),l=Qe(n,"variance","batchNorm");return null!=i&&(a=Qe(i,"scale","batchNorm")),null!=r&&(s=Qe(r,"offset","batchNorm")),k(4===u.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),k(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."}),k(4===l.rank||1===l.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."}),null!=a&&k(4===a.rank||1===a.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),null!=s&&k(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),Hs(u,c,l,s,a,o)}function Hs(t,e,n,r,i,o){null==o&&(o=.001);var a,s,u,c=Qe(t,"x","batchNorm"),l=Qe(e,"mean","batchNorm"),f=Qe(n,"variance","batchNorm");null!=i&&(a=Qe(i,"scale","batchNorm")),null!=r&&(s=Qe(r,"offset","batchNorm")),k(l.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),k(null==s||l.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),k(null==a||l.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=0===c.rank||1===c.rank?c.as4D(1,1,1,c.size):2===c.rank?c.as4D(1,1,c.shape[0],c.shape[1]):3===c.rank?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var h=[c,l,f,a];return Lt.runKernelFunc(function(t,e){var n=t.batchNormalization(u,Gs(l),Gs(f),o,Gs(a),Gs(s));return e([c,l,f,a]),n},{x:c,mean:l,variance:f,scale:a,offset:s},function(t,e){var n=e,r=n[0],i=n[1],a=n[2],s=n[3],c=null==s?gn(1):s,l=Wr(i.shape,u.shape),f=[];if(1===i.rank){for(var h=0;h<u.shape.length-1;++h)f.push(u.shape[h]);f.push(1)}var d=r.sub(i),p=t.mul(c),v=Is(a.add(gn(o))),g=v.mul(v).mul(v).mul(gn(-.5));return{x:function(){return 1===i.rank?t.mul(vr(v.as4D(1,1,1,i.shape[0]),f)).mul(c).reshape(r.shape):t.mul(v).mul(c).reshape(r.shape)},mean:function(){var t=v.mul(gn(-1)).mul(p);return 1===i.rank&&(t=t.sum(l)),t.reshape(i.shape)},variance:function(){var t=g.mul(d).mul(p);return 1===i.rank&&(t=t.sum(l)),t.reshape(i.shape)},scale:function(){var e=d.mul(v),n=t.mul(e);return 1===i.rank&&(n=n.sum(l)),n.reshape(i.shape)},offset:function(){var e=t;return 1===i.rank&&(e=e.sum(l)),e.reshape(i.shape)}}},"BatchNormalization",{varianceEpsilon:o},h).reshape(c.shape)}function Gs(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function Ks(){He("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Xs=ln({batchNormalization2d_:function(t,e,n,r,i,o){return void 0===r&&(r=.001),Ks(),zs(t,e,n,o,i,r)}}),$s=ln({batchNormalization3d_:function(t,e,n,r,i,o){return void 0===r&&(r=.001),Ks(),Ws(t,e,n,o,i,r)}}),Ys=ln({batchNormalization4d_:function(t,e,n,r,i,o){return void 0===r&&(r=.001),Ks(),qs(t,e,n,o,i,r)}}),Qs=ln({batchNormalization_:function(t,e,n,r,i,o){return void 0===r&&(r=.001),Ks(),Hs(t,e,n,o,i,r)}}),Js=ln({batchNorm_:Hs}),Zs=ln({batchNorm2d_:zs}),tu=ln({batchNorm3d_:Ws}),eu=ln({batchNorm4d_:qs}),nu=ln({logicalAnd_:function(t,e){var n=Qe(t,"a","logicalAnd","bool"),r=Qe(e,"b","logicalAnd","bool");return qr(n.shape,r.shape),Lt.runKernelFunc(function(t){return t.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),ru=ln({logicalNot_:function(t){var e=Qe(t,"x","logicalNot","bool");return Lt.runKernelFunc(function(t){return t.logicalNot(e)},{$x:e})}}),iu=ln({logicalOr_:function(t,e){var n=Qe(t,"a","logicalOr","bool"),r=Qe(e,"b","logicalOr","bool");return qr(n.shape,r.shape),Lt.runKernelFunc(function(t){return t.logicalOr(n,r)},{$a:n,$b:r})}}),ou=ln({logicalXor_:function(t,e){var n=Qe(t,"a","logicalXor","bool"),r=Qe(e,"b","logicalXor","bool");return qr(n.shape,r.shape),iu(t,e).logicalAnd(nu(t,e).logicalNot())}}),au=ln({where_:function(t,e,n){var r=Qe(e,"a","where"),i=Qe(n,"b","where"),o=Qe(t,"condition","where","bool");return S(r.shape,i.shape,"Error in where: "),1===o.rank?k(o.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):S(o.shape,i.shape,"Error in where: "),Lt.runKernelFunc(function(t,e){var n=t.select(o,r,i);return e([o]),n},{$condition:o,$a:r,$b:i},function(t,e){var n=e[0];return{$condition:function(){return Cn(n).toFloat()},$a:function(){return t.mul(n.cast(t.dtype))},$b:function(){return t.mul(n.logicalNot().cast(t.dtype))}}})}}),su=function(t){return u(this,void 0,void 0,function(){var e,n,r;return c(this,function(i){switch(i.label){case 0:return[4,(e=Qe(t,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=xi(e.shape,n),t!==e&&e.dispose(),[2,r]}})})},uu=ln({add_:function(t,e){var n,r=Qe(t,"a","add"),i=Qe(e,"b","add");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t){return t.add(r,i)},{a:r,b:i},function(t){return{a:function(){var e=t,n=Wr(r.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},b:function(){var e=t,n=Wr(i.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(i.shape)}}},"Add")}}),cu=ln({addN_:function(t){k(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),k(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(t,e){return Qe(t,"tensors"+e,"addN")}),n=e[0];e.forEach(function(t){if(t.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(t){if(!I(t.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=e;return Lt.runKernelFunc(function(t){return t.addN(e)},r,function(t){var n={};return e.forEach(function(e,r){n[r]=function(){return t.clone()}}),n},"AddN")}}),lu=ln({addStrict_:function(t,e){var n=Qe(t,"a","addStrict"),r=Qe(e,"b","addStrict");return S(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),fu=ln({atan2_:function(t,e){var n,r=Qe(t,"a","atan2"),i=Qe(e,"b","atan2");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t,e){var n=t.atan2(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=uu(n.square(),r.square()),i=t.mul(r.div(e)),a=Wr(n.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(n.shape)},$b:function(){var e=uu(n.square(),r.square()),i=Cs(t.mul(n.div(e))),a=Wr(r.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(r.shape)}}})}}),hu=ln({div_:function(t,e){var n,r=Qe(t,"a","div"),i=Qe(e,"b","div");if(n=Pt(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return vu(r,i);var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t,e){var n=t.realDivide(r,i);return e([r,i]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.div(r.toFloat()),i=Wr(n.shape,o);return i.length>0?e.sum(i).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),i=Wr(r.shape,o);i.length>0&&(e=e.sum(i).reshape(r.shape));var a=r.square();return e.div(a.toFloat()).neg()}}},"Div")}}),du=ln({divNoNan_:function(t,e){var n,r=Qe(t,"a","div"),i=Qe(e,"b","div");r=(n=Pt(r,i))[0],i=n[1];var o=hu(r,i),a=Cn(o),s=i.equal(a);return au(s,a,o)}}),pu=ln({divStrict_:function(t,e){var n=Qe(t,"a","div"),r=Qe(e,"b","div");return S(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),vu=ln({floorDiv_:function(t,e){var n,r=Qe(t,"a","floorDiv"),i=Qe(e,"b","floorDiv");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t,e){var n=t.floorDiv(r,i);return e([r,i]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.div(r.toFloat()),i=Wr(n.shape,o);return i.length>0?e.sum(i).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),i=Wr(r.shape,o);i.length>0&&(e=e.sum(i).reshape(r.shape));var a=r.square();return e.div(a.toFloat()).neg()}}},"FloorDiv")}}),gu=ln({maximum_:function(t,e){var n,r=Qe(t,"a","maximum"),i=Qe(e,"b","maximum");return n=Pt(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),qr(r.shape,i.shape),Lt.runKernelFunc(function(t,e){var n=t.maximum(r,i);return e([r,i]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1];return{a:function(){return t.mul(n.greaterEqual(r).toFloat())},b:function(){return t.mul(n.less(r).toFloat())}}},"Maximum")}}),mu=ln({maximumStrict_:function(t,e){var n=Qe(t,"a","maximumStrict"),r=Qe(e,"b","maximumStrict");return S(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),yu=ln({minimum_:function(t,e){var n,r=Qe(t,"a","minimum"),i=Qe(e,"b","minimum");return n=Pt(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),qr(r.shape,i.shape),Lt.runKernelFunc(function(t,e){var n=t.minimum(r,i);return e([r,i]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1];return{a:function(){return t.mul(n.lessEqual(r).toFloat())},b:function(){return t.mul(n.greater(r).toFloat())}}},"Minimum")}}),bu=ln({minimumStrict_:function(t,e){var n=Qe(t,"a","minimumStrict"),r=Qe(e,"b","minimumStrict");return S(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),wu=ln({mod_:function(t,e){var n,r=Qe(t,"a","mod"),i=Qe(e,"b","mod");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t,e){var n=t.mod(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=Wr(n.shape,o);return e.length>0?t.sum(e).reshape(n.shape):t},$b:function(){var e=t.mul(n.div(r).floor().neg()),i=Wr(r.shape,o);return i.length>0?e.sum(i).reshape(r.shape):e}}})}}),xu=ln({modStrict_:function(t,e){var n=Qe(t,"a","modStrict"),r=Qe(e,"b","modStrict");return S(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Eu=ln({mul_:function(t,e){var n,r=Qe(t,"a","mul"),i=Qe(e,"b","mul");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t,e){var n=t.multiply(r,i);return e([r,i]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.mul(r.toFloat()),i=Wr(n.shape,o);return i.length>0?e.sum(i).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),i=Wr(r.shape,o);return i.length>0?e.sum(i).reshape(r.shape):e}}},"Mul")}}),_u=ln({mulStrict_:function(t,e){var n=Qe(t,"a","mul"),r=Qe(e,"b","mul");return S(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),ku=ln({pow_:function(t,e){var n,r=Qe(t,"base","pow"),i=Qe(e,"exp","pow");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape),a=[r,i];return Lt.runKernelFunc(function(t,e){var n=t.pow(r,i);return e([r,i,n]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1],i=e[2];return{a:function(){var e=r.toFloat(),i=t.mul(e.mul(n.pow(e.sub(gn(1))))),a=Wr(n.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(n.shape)},b:function(){var e=n.greater(0),a=n.log().where(e,Cn(n)),s=t.mul(i.mul(a)),u=Wr(r.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}},"Pow",{},a,[!0])}}),Su=ln({powStrict_:function(t,e){return S(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),Cu=ln({squaredDifferenceStrict_:function(t,e){var n=Qe(t,"a","squaredDifferenceStrict"),r=Qe(e,"b","squaredDifferenceStrict");return S(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Ou=ln({sub_:function(t,e){var n,r=Qe(t,"a","sub"),i=Qe(e,"b","sub");n=Pt(r,i),r=n[0],i=n[1];var o=qr(r.shape,i.shape);return Lt.runKernelFunc(function(t){return t.subtract(r,i)},{a:r,b:i},function(t){return{a:function(){var e=t,n=Wr(r.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},b:function(){var e=t,n=Wr(i.shape,o);return n.length>0&&(e=e.sum(n)),e.neg().reshape(i.shape)}}},"Sub")}}),Tu=ln({subStrict_:function(t,e){var n=Qe(t,"a","subStrict"),r=Qe(e,"b","subStrict");return S(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Iu=ln({equal_:function(t,e){var n,r=Qe(t,"a","equal"),i=Qe(e,"b","equal");return n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape),Lt.runKernelFunc(function(t){return t.equal(r,i)},{$a:r,$b:i})}}),Ru=ln({equalStrict_:function(t,e){var n=Qe(t,"a","equalStrict"),r=Qe(e,"b","equalStrict");return S(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Au=ln({greater_:function(t,e){var n,r=Qe(t,"a","greater"),i=Qe(e,"b","greater");return n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape),Lt.runKernelFunc(function(t){return t.greater(r,i)},{a:r,b:i},null,"Greater")}}),Pu=ln({greaterEqual_:function(t,e){var n,r=Qe(t,"a","greaterEqual"),i=Qe(e,"b","greaterEqual");return n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape),Lt.runKernelFunc(function(t,e){var n=t.greaterEqual(r,i);return e([r,i]),n},{a:r,b:i},function(t,e){var n=e[0],r=e[1];return{a:function(){return Cn(n)},b:function(){return Cn(r)}}},"GreaterEqual")}}),Nu=ln({greaterEqualStrict_:function(t,e){var n=Qe(t,"a","greaterEqualStrict"),r=Qe(e,"b","greaterEqualStrict");return S(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Du=ln({greaterStrict_:function(t,e){var n=Qe(t,"a","greaterStrict"),r=Qe(e,"b","greaterStrict");return S(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Mu=ln({less_:function(t,e){var n,r=Qe(t,"a","less"),i=Qe(e,"b","less");return n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape),Lt.runKernelFunc(function(t){return t.less(r,i)},{a:r,b:i},null,"Less")}}),ju=ln({lessEqual_:function(t,e){var n,r=Qe(t,"a","lessEqual"),i=Qe(e,"b","lessEqual");return n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape),Lt.runKernelFunc(function(t,e){var n=t.lessEqual(r,i);return e([r,i]),n},{a:r,b:i},null,"LessEqual")}}),Fu=ln({lessEqualStrict_:function(t,e){var n=Qe(t,"a","lessEqualStrict"),r=Qe(e,"b","lessEqualStrict");return S(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Lu=ln({lessStrict_:function(t,e){var n=Qe(t,"a","lessStrict"),r=Qe(e,"b","lessStrict");return S(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Bu=ln({notEqual_:function(t,e){var n,r=Qe(t,"a","notEqual"),i=Qe(e,"b","notEqual");return n=Pt(r,i),r=n[0],i=n[1],qr(r.shape,i.shape),Lt.runKernelFunc(function(t){return t.notEqual(r,i)},{a:r,b:i},null,"NotEqual")}}),Vu=ln({notEqualStrict_:function(t,e){var n=Qe(t,"a","notEqualStrict"),r=Qe(e,"b","notEqualStrict");return S(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Uu(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function zu(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var Wu=ln({gather_:function(t,e,n){void 0===n&&(n=0);var r=Qe(t,"x","gather"),i=Qe(e,"indices","gather","int32");n=j(n,r.shape)[0];var o=function(t,e,n){for(var r=t.shape[n],i=[],o=1,a=1,s=0;s<n;s++)i.push(t.shape[s]),o*=t.shape[s];for(s=0;s<e.rank;s++)i.push(e.shape[s]);for(s=n+1;s<t.rank;s++)i.push(t.shape[s]),a*=t.shape[s];return{batchSize:o,sliceSize:a,dimSize:r,outputShape:i}}(r,i,n);return Lt.runKernelFunc(function(t,e){var o=t.gather(r,i.flatten(),n);return e([i]),o},{x:r,indices:i},function(t,e){var i=e[0];return{x:function(){var e=r.shape,o=i.size,a=e.slice(0,n),s=a.length,u=e.slice(n,e.length).slice(1),c=u.length,l=Uu(0,s),f=Uu(s+1,s+1+c),h=zu([a,[o],u]),d=t.reshape(h),p=i.reshape([o]),v=zu([[s],l,f]),g=d.transpose(v),m=qu(g,p,r.shape[n]),y=an(v);return m.transpose(y)},indices:function(){return i}}},"Gather",{axis:n}).reshape(o.outputShape)}}),qu=ln({unsortedSegmentSum_:function(t,e,n){var r=Qe(t,"x","unsortedSegmentSum"),i=Qe(e,"segmentIds","unsortedSegmentSum","int32");return k(R(n),function(){return"numSegments must be of dtype int"}),Lt.runKernelFunc(function(t,e){var o=t.unsortedSegmentSum(r,i,n);return e([i]),o},{$x:r},function(t,e){var n=e[0];return{$x:function(){return function(t,e){for(var n=gu(e,Cn(e)),r=Wu(t,n),i=Pu(e,gn(0,"int32")),o=r.rank-i.rank,a=0;a<o;++a)i=Jn(i,a+1);i=nu(i,xn(r.shape,"bool"));var s=Cn(r);return au(i,r,s)}(t,n)}}})}});function Hu(t,e,n,r,i,o,a){void 0===o&&(o="NHWC"),k(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var s=t,u=e,c=!1;3===e.rank&&(c=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,t[0],t[1],t[2]]),k(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),k(4===u.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),k(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var l="NHWC"===o?s[3]:s[1],f="NHWC"===o?u.shape[3]:u.shape[1];k(l===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."}),k(f===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."}),null!=a&&k(R(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var h=ni(o),d=Kr(s,n.shape,r,1,i,a,!1,h),p=Lt.runKernelFunc(function(t,e){var r=t.conv2dDerInput(u,n,d);return e([n,u]),r},{dy4D:u,filter:n},function(t,e){var n=e[0],s=e[1];return{dy4D:function(){return $u(t,n,r,i,o,1,a)},filter:function(){return Qu(t,s,n.shape,r,i,o,a)}}});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function Gu(t){var e=function(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}(t),n=e[0],r=e[1],i=e[2];return 1===n&&1===r&&1===i}function Ku(t,e,n,r,i){k(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var o=t,a=e,s=!1;4===e.rank&&(s=!0,a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),o=[1,t[0],t[1],t[2],t[3]]);var u=o[4],c=a.shape[4];k(5===o.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."}),k(5===a.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),k(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),k(u===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."}),k(c===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."});var l=Xr(o,n.shape,r,1,i),f=Lt.runKernelFunc(function(t){return t.conv3dDerInput(a,n,l)},{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var Xu=ln({conv1d_:function(t,e,n,r,i,o,a){void 0===i&&(i="NWC"),void 0===o&&(o=1);var s=Qe(t,"x","conv1d"),u=Qe(e,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),k(3===c.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."}),k(3===u.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),null!=a&&k(R(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}),k(c.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),k(ei(n,o),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+o+"'"}),k("NWC"===i,function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),h=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),d=$u(h,f,[1,n],r,"NHWC",[1,o],a);return l?d.as2D(d.shape[2],d.shape[3]):d.as3D(d.shape[0],d.shape[2],d.shape[3])}}),$u=ln({conv2d_:function(t,e,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]);var s=Qe(t,"x","conv2d"),u=Qe(e,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),k(4===c.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."}),k(4===u.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),null!=a&&k(R(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f="NHWC"===i?c.shape[3]:c.shape[1];k(f===u.shape[2],function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."}),k(ei(n,o),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"});var h=ni(i),d=Kr(c.shape,u.shape,n,o,r,a,!1,h),p=[u,c],v=Lt.runKernelFunc(function(t,e){var n=t.conv2d(c,u,d);return e([u,c]),n},{x:c,filter:u},function(t,e){var a=e,s=a[0],u=a[1];return k(ti(o),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}),{x:function(){return Ju(u.shape,t,s,n,r,i)},filter:function(){return Qu(u,t,s.shape,n,r,i)}}},"Conv2D",d,p);return l?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),Yu=ln({conv3d_:function(t,e,n,r,i,o){void 0===i&&(i="NDHWC"),void 0===o&&(o=[1,1,1]);var a=Qe(t,"x","conv3d"),s=Qe(e,"filter","conv3d"),u=a,c=!1;4===a.rank&&(c=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),k(5===u.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),k(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),k(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),k(function(t,e){return Gu(n)||Gu(e)}(0,o),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),k("NDHWC"===i,function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var l=Xr(u.shape,s.shape,n,o,r),f=Lt.runKernelFunc(function(t,e){var n=t.conv3d(u,s,l);return e([u,s]),n},{x:u,$filter:s},function(t,e){k(Gu(o),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"});var i=e[0],a=e[1];return{x:function(){return Ku(i.shape,t,a,n,r)},$filter:function(){return function(t,e,n,r,i){var o=t;4===t.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]));var a=e;4===a.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3])),k(5===o.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+o.shape+"."}),k(5===a.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."}),k(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),k(o.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+o.shape[4]+") must match input depth in filter ("+n[3]+"."}),k(a.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."});var s=Xr(o.shape,n,r,1,i);return Lt.runKernelFunc(function(t){return t.conv3dDerFilter(o,a,s)},{x5D:o,dy5D:a})}(i,t,a.shape,n,r)}}});return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Qu=ln({conv2dDerFilter_:function(t,e,n,r,i,o,a){void 0===o&&(o="NHWC");var s=t;3===t.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var u=e;3===u.rank&&(u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),k(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),k(4===u.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),k(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var c="NHWC"===o?s.shape[3]:s.shape[1],l="NHWC"===o?u.shape[3]:u.shape[1];k(c===n[2],function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."}),k(l===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."}),null!=a&&k(R(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var f=ni(o),h=Kr(s.shape,n,r,1,i,a,!1,f);return Lt.runKernelFunc(function(t){return t.conv2dDerFilter(s,u,h)},{x4D:s,dy4D:u})}}),Ju=ln({conv2dDerInput_:Hu}),Zu=ln({depthwiseConv2d_:function(t,e,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]);var s=Qe(t,"x","depthwiseConv2d"),u=Qe(e,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),k(4===c.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."}),k(4===u.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),k(c.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),null==o&&(o=[1,1]),k(ei(n,o),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),null!=a&&k(R(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=Kr(c.shape,u.shape,n,o,r,a,!0),h=[c,u],d=Lt.runKernelFunc(function(t,e){var n=t.depthwiseConv2D(c,u,f);return e([c,u]),n},{x:c,filter:u},function(t,e){k(ti(o),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"});var n=e[0],r=e[1];return{x:function(){return tc(n.shape,t,r,f)},filter:function(){return ec(n,t,r.shape,f)}}},"DepthwiseConv2dNative",f,h);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}}),tc=ln({depthwiseConv2dDerInput_:function(t,e,n,r){var i=e,o=!1;3===e.rank&&(o=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=Lt.runKernelFunc(function(t){return t.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return o?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),ec=ln({depthwiseConv2dDerFilter_:function(t,e,n,r){var i=t;3===t.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=e;return 3===o.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Lt.runKernelFunc(function(t){return t.depthwiseConv2DDerFilter(i,o,r)},{x4D:i,dy4D:o})}}),nc=ln({separableConv2d_:function(t,e,n,r,i,o,a){void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC");var s=Qe(t,"x","separableConv2d"),u=Qe(e,"depthwiseFilter","separableConv2d"),c=Qe(n,"pointwiseFilter","separableConv2d"),l=s,f=!1;if(3===s.rank&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");k(4===l.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."}),k(4===u.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),k(4===c.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),k(1===c.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."}),k(1===c.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."});var h=u.shape[2],d=u.shape[3];k(c.shape[2]===h*d,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*d+", but got "+c.shape[2]+"."});var p=Zu(l,u,r,i,a,o),v=$u(p,c,1,"valid",a);return f?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),rc=ln({conv2dTranspose_:function(t,e,n,r,i,o){return Hu(n,Qe(t,"x","conv2dTranspose"),Qe(e,"filter","conv2dTranspose"),r,i,"NHWC",o)}}),ic=ln({conv3dTranspose_:function(t,e,n,r,i){return Ku(n,Qe(t,"x","conv3dTranspose"),Qe(e,"filter","conv3dTranspose"),r,i)}}),oc=ln({matMul_:function(t,e,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=Qe(t,"a","matMul"),a=Qe(e,"b","matMul");i=Pt(o,a),o=i[0],a=i[1];var s=n?o.shape[o.rank-2]:o.shape[o.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=n?o.shape[o.rank-1]:o.shape[o.rank-2],l=r?a.shape[a.rank-2]:a.shape[a.rank-1],f=o.shape.slice(0,-2),h=a.shape.slice(0,-2),d=T(f),p=T(h);k(o.rank>=2&&a.rank>=2&&o.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+a.rank+"."}),k(I(f,h),function(){return"Error in matMul: outer dimensions ("+f+") and ("+h+") of Tensors with shapes "+o.shape+" and "+a.shape+" must match."}),k(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+o.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var v=o.shape.slice(0,-2).concat([c,l]),g=n?o.as3D(d,s,c):o.as3D(d,c,s),m=r?a.as3D(p,l,u):a.as3D(p,u,l),y={transposeA:n,transposeB:r};return Lt.runKernelFunc(function(t,e){var i=t.batchMatMul(g,m,n,r);return e([g,m]),i},{a:g,b:m},function(t,e){var i=e,o=i[0],a=i[1];return n||r?!n&&r?{a:function(){return t.matMul(a,!1,!1)},b:function(){return t.matMul(o,!0,!1)}}:n&&!r?{a:function(){return a.matMul(t,!1,!0)},b:function(){return o.matMul(t,!1,!1)}}:{a:function(){return a.matMul(t,!0,!0)},b:function(){return t.matMul(o,!0,!0)}}:{a:function(){return t.matMul(a,!1,!0)},b:function(){return o.matMul(t,!0,!1)}}},"BatchMatMul",y).reshape(v)}}),ac=ln({dot_:function(t,e){var n=Qe(t,"t1","dot"),r=Qe(e,"t2","dot");k(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var i=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];return k(i===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+o+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),sc=ln({outerProduct_:function(t,e){var n=Qe(t,"v1","outerProduct"),r=Qe(e,"v2","outerProduct");return k(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),uc=ln({reverse_:function(t,e){var n=Qe(t,"x","reverse");if(0===n.rank)return n.clone();var r=j(e,n.shape);return Lt.runKernelFunc(function(t){return t.reverse(n,r)},{$x:n},function(t){return{$x:function(){return t.reverse(r)}}}).reshapeAs(n)}}),cc=ln({reverse1d_:function(t){var e=Qe(t,"x","reverse");return k(1===e.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),uc(e,0)}}),lc=ln({reverse2d_:function(t,e){var n=Qe(t,"x","reverse");return k(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),uc(n,e)}}),fc=ln({reverse3d_:function(t,e){var n=Qe(t,"x","reverse");return k(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),uc(n,e)}}),hc=ln({reverse4d_:function(t,e){var n=Qe(t,"x","reverse");return k(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),uc(n,e)}});function dc(t,e,n,r,i,o){var a=Qe(t,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),k(4===s.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),k(ei(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=o&&k(R(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=Hr(s.shape,e,n,r,i,o);if(1===c.filterWidth&&1===c.filterHeight&&I(c.inShape,c.outShape))return a.clone();var l=[s],f=Lt.runKernelFunc(function(t,e){var n=t.maxPool(s,c);return e([s,n]),n},{x:s},function(t,o){var a=o[0],s=o[1];return{x:function(){return function(t,e,n,r,i,o,a,s){var u=Qe(t,"dy","maxPoolBackprop"),c=Qe(e,"input","maxPoolBackprop"),l=Qe(n,"output","maxPoolBackprop");k(c.rank===u.rank,function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+u.rank+")"}),null==o&&(o=[1,1]),k(ei(i,o),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}),k(4===u.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."}),k(4===c.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."});var f=Hr(c.shape,r,i,o,a,s);return Lt.runKernelFunc(function(t){return t.maxPoolBackprop(u,c,l,f)},{$dy:u,$input:c})}(t,a,s,e,n,r,i)}}},"MaxPool",c,l);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function pc(t,e,n,r,i,o){var a=Qe(t,"x","avgPool","float32");null==r&&(r=[1,1]),k(ei(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),k(4===s.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),null!=o&&k(R(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=Hr(s.shape,e,n,r,i,o);if(1===c.filterWidth&&1===c.filterHeight&&I(c.inShape,c.outShape))return a.clone();var l=Lt.runKernelFunc(function(t){return t.avgPool(s,c)},{x:s},function(t){return{x:function(){return function(t,e,n,r,i,o){var a=Qe(t,"dy","avgPoolBackprop"),s=Qe(e,"input","avgPoolBackprop");k(s.rank===a.rank,function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"}),null==i&&(i=[1,1]),k(ei(r,i),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"});var u=s,c=a,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),k(4===c.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."}),k(4===u.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."});var f=Hr(u.shape,n,r,i,o),h=Lt.runKernelFunc(function(t){return t.avgPoolBackprop(c,u,f)},{dy4D:c,input4D:u});return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}(t,s,e,n,r,i)}}},"AvgPool",c);return l=l.cast(a.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var vc=ln({maxPool_:function(t,e,n,r,i){return dc(t,e,n,1,r,i)}}),gc=ln({avgPool_:function(t,e,n,r,i){return pc(t,e,n,1,r,i)}}),mc=ln({pool_:function(t,e,n,r,i,o){null==i&&(i=[1,1]),null==o&&(o=1),0===r&&(r="valid");var a=Qe(t,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),k(ei(o,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"});var c,l=Hr(s.shape,e,o,i,r),f=[l.dilationHeight,l.dilationWidth];c="same"===r?function(t,e){var n=t.map(function(t,n){return t+(t-1)*(e[n]-1)}).map(function(t){return t-1}),r=n.map(function(t){return Math.floor(t/2)}),i=n.map(function(t,e){return t-r[e]});return n.map(function(t,e){return[r[e],i[e]]})}([l.filterHeight,l.filterWidth],f):[[0,0],[0,0]];var h=1===f[0]&&1===f[1],d=function(t,e,n){var r=n.map(function(t){return t[0]}),i=n.map(function(t){return t[1]}),o=t.concat(r,i),a=e.map(function(t,e){return(t-o[e]%t)%t}),s=i.map(function(t,e){return t+a[e]});return[e.map(function(t,e){return[r[e],s[e]]}),e.map(function(t,e){return[0,a[e]]})]}([l.inHeight,l.inWidth],f,c),p=d[0],v=d[1],g=h?r:"valid",m=h?s:hr(s,f,p),y=("avg"===n?function(){return pc(m,e,o,1,g)}:function(){return dc(m,e,o,1,g)})(),b=h?y:Gn(y,f,v);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),yc=ln({maxPool3d_:function(t,e,n,r,i,o,a){void 0===o&&(o="NDHWC");var s=Qe(t,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),k(5===u.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),k("NDHWC"===o,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),k(ei(n,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=i&&k(R(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var l=Gr(u.shape,e,n,a,r,i,o),f=Lt.runKernelFunc(function(t,e){var n=t.maxPool3d(u,l);return e([u,n]),n},{x:u},function(t,o){var s=o[0],u=o[1];return{x:function(){return function(t,e,n,r,i,o,a,s){var u=Qe(t,"dy","maxPool3dBackprop"),c=Qe(e,"input","maxPool3dBackprop"),l=Qe(n,"output","maxPool3dBackprop"),f=u,h=c,d=l,p=!1;4===c.rank&&(p=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),h=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),k(5===f.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."}),k(5===h.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+h.rank+"."}),k(5===d.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+d.rank+"."}),null==o&&(o=[1,1,1]),k(ei(i,o),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}),null!=s&&k(R(a),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."});var v=Gr(h.shape,r,i,o,a,s),g=Lt.runKernelFunc(function(t){return t.maxPool3dBackprop(f,h,d,v)},{dy5D:f,input5D:h});return p?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(t,s,u,e,n,a,r,i)}}});return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),bc=ln({avgPool3d_:function(t,e,n,r,i,o,a){void 0===o&&(o="NDHWC");var s=Qe(t,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),k(5===u.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),k("NDHWC"===o,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),k(ei(n,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=i&&k(R(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var l=Gr(u.shape,e,n,a,r,i,o),f=Lt.runKernelFunc(function(t){return t.avgPool3d(u,l)},{x:u},function(t){return{x:function(){return function(t,e,n,r,i,o,a){var s=Qe(t,"dy","avgPool3dBackprop"),u=Qe(e,"input","avgPool3dBackprop"),c=s,l=u,f=!1;4===u.rank&&(f=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),k(5===c.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."}),k(5===l.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."}),null==i&&(i=[1,1,1]),k(ei(r,i),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}),null!=a&&k(R(o),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var h=Gr(l.shape,n,r,i,o,a),d=Lt.runKernelFunc(function(t){return t.avgPool3dBackprop(c,l,h)},{dy5D:c,input5D:l});return f?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}(t,u,e,n,a,r,i)}}});return f=f.cast(u.dtype),c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),wc=ln({slice_:function(t,e,n){var r,i,o=Qe(t,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof e?[e].concat(new Array(o.rank-1).fill(0)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(0)):e.slice()).forEach(function(t){k(-1!==t,function(){return"slice() does not support negative begin indexing."})}),i=(i=null==n?new Array(o.rank).fill(-1):"number"==typeof n?[n].concat(new Array(o.rank-1).fill(-1)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(-1)):n).map(function(t,e){return t>=0?t:(k(-1===t,function(){return"Negative size values should be exactly -1 but got "+t+" for the slice() size at index "+e+"."}),o.shape[e]-r[e])}),Ir(o,r,i);var a=o.shape,s={begin:r,size:i};return Lt.runKernelFunc(function(t){return t.slice(o,r,i)},{x:o},function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],a[n]-r[n]-i[n]]);return{x:function(){return t.pad(e)}}},"Slice",s)}}),xc=ln({slice1d_:function(t,e,n){var r=Qe(t,"x","slice1d");return k(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,[e],[n])}}),Ec=ln({slice2d_:function(t,e,n){var r=Qe(t,"x","slice2d");return k(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,e,n)}}),_c=ln({slice3d_:function(t,e,n){var r=Qe(t,"x","slice3d");return k(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,e,n)}}),kc=ln({slice4d_:function(t,e,n){var r=Qe(t,"x","slice4d");return k(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,e,n)}});function Sc(t,e,n,r,i){return e.rank<n.rank&&(e=e.reshape(nn(e.shape,r))),t.rank<n.rank&&(t=t.reshape(nn(t.shape,r))),{x:function(){var r=t.mul(n.equal(e).cast(t.dtype));return null==i?r:r.transpose(i)}}}var Cc=ln({all_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","all","bool"),i=j(e,r.shape),o=i,a=on(o,r.rank);null!=a&&(r=r.transpose(a),o=sn(o.length,r.rank));var s=Lt.runKernelFunc(function(t){return t.all(r,o)},{$x:r});if(n){var u=nn(s.shape,i);return s.reshape(u)}return s}}),Oc=ln({any_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","any","bool"),i=j(e,r.shape),o=i,a=on(o,r.rank);null!=a&&(r=r.transpose(a),o=sn(o.length,r.rank));var s=Lt.runKernelFunc(function(t){return t.any(r,o)},{$x:r});if(n){var u=nn(s.shape,i);return s.reshape(u)}return s}}),Tc=ln({argMax_:function(t,e){void 0===e&&(e=0);var n=Qe(t,"x","argMax");null==e&&(e=0);var r=j(e,n.shape),i=on(r,n.rank);null!=i&&(n=n.transpose(i),r=sn(r.length,n.rank));var o={axis:r[0]},a=[n];return Lt.runKernelFunc(function(t,e){var i=t.argMax(n,r[0]);return e([n]),i},{x:n},function(t,e){var n=e[0];return{x:function(){return Cn(n)}}},"ArgMax",o,a)}}),Ic=ln({argMin_:function(t,e){void 0===e&&(e=0);var n=Qe(t,"x","argMin");null==e&&(e=0);var r=j(e,n.shape),i=on(r,n.rank);return null!=i&&(n=n.transpose(i),r=sn(r.length,n.rank)),Lt.runKernelFunc(function(t,e){var i=t.argMin(n,r[0]);return e([n]),i},{$x:n},function(t,e){var n=e[0];return{$x:function(){return Cn(n)}}})}}),Rc=ln({logSumExp_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","logSumExp"),i=j(e,r.shape),o=r.max(i,!0),a=r.sub(o).exp().sum(i).log(),s=o.reshape(a.shape).add(a);if(n){var u=nn(s.shape,i);return s.reshape(u)}return s}}),Ac=ln({max_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","max"),i=r,o=j(e,r.shape),a=o,s=on(a,r.rank);null!=s&&(r=r.transpose(s),a=sn(a.length,r.rank));var u=[r],c=Lt.runKernelFunc(function(t,e){var n=t.max(r,a);return e([i,n]),n},{x:r},function(t,e){return Sc(t,e[1],e[0],o,s)},"Max",{axes:a},u,[!0]);if(n){var l=nn(c.shape,o);c=c.reshape(l)}return c}}),Pc=ln({mean_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","mean"),i=j(e,r.shape),o=T(en(r.shape,i)[1]);return jr(function(t){var r=gn(o);return{value:(r.dtype===t.dtype?t:t.cast(r.dtype)).div(r).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return i.forEach(function(t){n[t]=1}),e.reshape(n).mul(xn(t.shape,"float32")).div(o)}}})(r)}}),Nc=ln({min_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","min"),i=r,o=j(e,r.shape),a=o,s=on(a,r.rank);null!=s&&(r=r.transpose(s),a=sn(a.length,r.rank));var u=[r],c=Lt.runKernelFunc(function(t,e){var n=t.min(r,a);return e([i,n]),n},{x:r},function(t,e){return Sc(t,e[1],e[0],o,s)},"Min",{axes:a},u,[!0]);if(n){var l=nn(c.shape,o);c=c.reshape(l)}return c}}),Dc=ln({moments_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=j(e,(t=Qe(t,"x","moments")).shape),i=t.mean(r,n),o=i.shape;n||(o=nn(i.shape,r));var a=t.toFloat().sub(i.reshape(o)).square();return{mean:i,variance:a.mean(r,n)}}}),Mc=ln({sum_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=j(e,r.shape);return jr(function(t){var e=on(i,t.rank),r=i,o=t;null!=e&&(o=t.transpose(e),r=sn(r.length,t.rank));var a=function(e){var n=t.shape.slice();return i.forEach(function(t){n[t]=1}),e.reshape(n).mul(xn(t.shape,"float32"))},s={axes:r},u=Lt.runKernelFunc(function(t){return t.sum(o,r)},{x:o},function(t){return{x:function(){return a(t)}}},"Sum",s);if(n){var c=nn(u.shape,i);u=u.reshape(c)}return{value:u,gradFunc:a}})(r)}}),jc=ln({prod_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Qe(t,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=j(e,r.shape),o=on(i,r.rank),a=i,s=r;null!=o&&(s=r.transpose(o),a=sn(a.length,r.rank));var u=Lt.runKernelFunc(function(t){return t.prod(s,a)},{permutedX:s});if(n){var c=nn(u.shape,i);u=u.reshape(c)}return u}}),Fc=ln({elu_:function(t){var e=Qe(t,"x","elu");return Lt.runKernelFunc(function(t,n){var r=t.elu(e);return n([r]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return Lt.runKernelFunc(function(e){return e.eluDer(t,n)},{dy:t,y:n})}}})}}),Lc=ln({leakyRelu_:function(t,e){void 0===e&&(e=.2);var n=Qe(t,"x","leakyRelu");return gu(gn(e).mul(n),n)}}),Bc=ln({prelu_:function(t,e){var n=Qe(t,"x","prelu"),r=Qe(e,"alpha","prelu");return Lt.runKernelFunc(function(t,e){var i=t.prelu(n,r);return e([n,r]),i},{x:n,alpha:r},function(t,e){var n=e[0],r=e[1],i=n.greater(0);return{x:function(){return au(i,t,t.mul(r))},alpha:function(){var e=au(i,Cn(t),t.mul(n)),o=Wr(r.shape,t.shape);return o.length>0&&(e=e.sum(o)),e.reshape(r.shape)}}},"Prelu")}}),Vc=ln({relu_:function(t){var e=Qe(t,"x","relu");return"bool"===e.dtype?e.toInt():Lt.runKernelFunc(function(t,n){var r=t.relu(e);return n([e]),r},{x:e},function(t,e){var n=e[0];return{x:function(){return t.mulStrict(n.step().toFloat())}}},"Relu")}}),Uc=ln({relu6_:function(t){var e=Qe(t,"x","relu6");return"bool"===e.dtype?e.toInt():Lt.runKernelFunc(function(t,n){var r=t.relu6(e);return n([e]),r},{x:e},function(t,e){var n=e[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return t.mulStrict(r.toFloat())}}},"Relu6")}}),zc=ln({selu_:function(t){var e=Qe(t,"x","selu");return Lt.runKernelFunc(function(t,n){var r=t.selu(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){var e=n.greater(gn(0)),r=gn(Da),i=gn(Ma),o=t.mul(i),a=t.mul(r).mul(n.toFloat().exp());return au(e,o,a)}}})}}),Wc=ln({transpose_:function(t,e){var n=Qe(t,"x","transpose");if(null==e&&(e=n.shape.map(function(t,e){return e}).reverse()),k(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."}),e.forEach(function(t){k(t>=0&&t<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e})}),n.rank<=1)return n.clone();var r={perm:e};return Lt.runKernelFunc(function(t){return t.transpose(n,e)},{x:n},function(t){var n=an(e);return{x:function(){return t.transpose(n)}}},"Transpose",r)}}),qc=ln({localResponseNormalization_:function(t,e,n,r,i){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var o=Qe(t,"x","localResponseNormalization");k(4===o.rank||3===o.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."}),k(R(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var a=o,s=!1;3===o.rank&&(s=!0,a=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var u=Lt.runKernelFunc(function(t,o){var s=t.localResponseNormalization4D(a,e,n,r,i);return o([a,s]),s},{x4D:a},function(t,o){var a=o[0],s=o[1];return{x4D:function(){return Lt.runKernelFunc(function(o){return o.LRNGrad(t,a,s,e,n,r,i)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Hc=ln({norm_:function(t,e,n,r){void 0===e&&(e="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function t(e,n,r){if(void 0===r&&(r=null),0===e.rank)return e.abs();if(1!==e.rank&&null===r)return t(e.reshape([-1]),n,r);if(1===e.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return e.abs().sum(r);if(n===1/0)return e.abs().max(r);if(n===-1/0)return e.abs().min(r);if("euclidean"===n||2===n)return e.abs().pow(gn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return e.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return e.abs().sum(r[1]).max(r[0]);if(n===-1/0)return e.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return e.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(t=Qe(t,"x","norm"),e,n),o=i.shape;if(r){var a=j(n,t.shape);o=nn(i.shape,a)}return i.reshape(o)}}),Gc=ln({basicLSTMCell_:function(t,e,n,r,i,o){var a=Qe(t,"forgetBias","basicLSTMCell"),s=Qe(e,"lstmKernel","basicLSTMCell"),u=Qe(n,"lstmBias","basicLSTMCell"),c=Qe(r,"data","basicLSTMCell"),l=Qe(i,"c","basicLSTMCell"),f=Qe(o,"h","basicLSTMCell"),h=c.concat(f,1).matMul(s).add(u),d=h.shape[0],p=h.shape[1]/4,v=[d,p],g=h.slice([0,0],v),m=h.slice([0,p],v),y=h.slice([0,2*p],v),b=h.slice([0,3*p],v),w=g.sigmoid().mulStrict(m.tanh()).addStrict(l.mulStrict(a.add(y).sigmoid())),x=w.tanh().mulStrict(b.sigmoid());return[w,x]}}),Kc=ln({multiRNNCell_:function(t,e,n,r){for(var i=Qe(e,"data","multiRNNCell"),o=Je(n,"c","multiRNNCell"),a=Je(r,"h","multiRNNCell"),s=i,u=[],c=0;c<t.length;c++){var l=t[c](s,o[c],a[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var f=[],h=[];for(c=0;c<u.length;c+=2)f.push(u[c]),h.push(u[c+1]);return[f,h]}}),Xc=ln({movingAverage_:function(t,e,n,r,i){void 0===i&&(i=!0);var o=Qe(t,"v","movingAverage"),a=Qe(e,"x","movingAverage"),s=Qe(n,"decay","movingAverage");Nt(o,a),k(I(o.shape,a.shape),function(){return"Shape mismatch in v and x"});var u=gn(1),c=u.sub(s),l=a.sub(o).mul(c);if(i){k(null!=r,function(){return"When using zeroDebias: true, step is required."});var f=Qe(r,"step","movingAverage");l=l.div(u.sub(ku(s,f)))}return o.add(l)}}),$c=ln({stridedSlice_:function(t,e,n,r,i,o,a,s,u){if(void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(e.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var c=Qe(t,"x","stridedSlice"),l=Rr(s),f=c.shape.slice();l.forEach(function(t){e[t]=0,n[t]=1,f.splice(t,0,1)}),c=c.reshape(f);for(var h=0;h<c.rank;h++)e[h]=Pr(i,e,r,c.shape,h),n[h]=Nr(o,n,r,c.shape,h),r[h]=r[h]||1;var d=Rr(u);d.forEach(function(t){n[t]=e[t]+1,r[t]=1});var p=Ar(e,n,r),v=p.filter(function(t,e){return-1===d.indexOf(e)});return r.every(function(t){return 1===t})?wc(c,e,p).reshape(v):Lt.runKernelFunc(function(t){return t.stridedSlice(c,e,n,r)},{$x:c}).reshape(v)}}),Yc=ln({topk_:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var r=Qe(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(e>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+e);var o=Lt.runKernelFunc(function(t){return t.topk(r,e,n)},{$x:r});return{values:o[0],indices:o[1]}}}),Qc=ln({scatterND_:function(t,e,n){var r=Qe(t,"indices","scatterND","int32"),i=Qe(e,"updates","scatterND");return Or(i,r,n),Lt.runKernelFunc(function(t){return t.scatterND(r,i,n)},{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),Jc=ln({fft_:function(t){k("complex64"===t.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return Lt.runKernelFunc(function(t){return t.fft(r)},{input:t}).reshape(t.shape)}}),Zc=ln({ifft_:function(t){k("complex64"===t.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return Lt.runKernelFunc(function(t){return t.ifft(r)},{input:t}).reshape(t.shape)}}),tl=ln({rfft_:function(t,e){k("float32"===t.dtype,function(){return"The dtype for rfft() must be real value but got "+t.dtype});var n,r=t.shape[t.shape.length-1],i=t.size/r;if(null!=e&&e<r){var o=t.shape.map(function(t){return 0}),a=t.shape.map(function(t){return t});a[t.shape.length-1]=e,n=t.slice(o,a),r=e}else if(null!=e&&e>r){var s=t.shape.map(function(t){return t});s[t.shape.length-1]=e-r,n=t.concat(En(s),t.shape.length-1),r=e}else n=t;var u=n.zerosLike(),c=fn(n,u).as2D(i,r),l=Jc(c),f=Math.floor(r/2)+1,h=hn(l),d=dn(l),p=h.split([f,r-f],h.shape.length-1),v=d.split([f,r-f],d.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=f,fn(p[0],v[0]).reshape(g)}}),el=ln({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),i=Zc(r);return hn(i)}var o=[n,2*(e-1)],a=hn(t).as2D(n,e),s=dn(t).as2D(n,e),u=a.slice([0,1],[n,e-2]).reverse(1),c=s.slice([0,1],[n,e-2]).reverse(1).mul(gn(-1)),l=a.concat(u,1),f=s.concat(c,1);return r=fn(l,f).as2D(o[0],o[1]),i=Zc(r),hn(i)}}),nl=Object.freeze({fft:Jc,ifft:Zc,rfft:tl,irfft:el}),rl=ln({sparseToDense_:function(t,e,n,r){void 0===r&&(r=0);var i=Qe(t,"sparseIndices","sparseToDense","int32"),o=Qe(e,"sparseValues","sparseToDense"),a=Qe(r,"defaultValue","sparseToDense",o.dtype);return function(t,e,n,r){if("int32"!==t.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+t.shape+".");var i=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+o+".");var a=e.size;if(0!==e.rank&&(1!==e.rank||a!==i))throw new Error("sparseValues has incorrect shape "+e.shape+", should be [] or ["+i+"]");if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,o,n,a),Lt.runKernelFunc(function(t){return t.sparseToDense(i,o,n,a)},{$sparseIndices:i,$sparseValues:o,$defaultValue:a})}}),il=ln({gatherND_:function(t,e){var n=Qe(e,"indices","gatherND","int32"),r=Qe(t,"x","gatherND");return Lt.runKernelFunc(function(t){return t.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),ol=ln({diag_:function(t){var e=Qe(t,"x","diag").flatten(),n=t.shape.concat(t.shape);return Lt.runKernelFunc(function(t){return t.diag(e)},{$x:e}).reshape(n)}}),al=ln({dropout_:function(t,e,n,r){var i=Qe(t,"x","dropout");if(k("float32"===i.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),k(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),0===e)return t instanceof xt?i.clone():i;var o=function(t,e){if(null==e)return t.shape.slice();if(I(t.shape,e))return e;if(t.shape.length===e.length){for(var n=[],r=0;r<t.shape.length;r++)null==e[r]&&null!=t.shape[r]?n.push(t.shape[r]):n.push(e[r]);return n}return e}(i,n),a=1-e,s=lr(o,0,1,"float32",r).add(a).floor().div(a);return i.mul(s)}});function sl(t,e,n){for(var r=1-t%2,i=new Float32Array(t),o=0;o<t;++o){var a=2*Math.PI*o/(t+r-1);i[o]=e-n*Math.cos(a)}return mn(i,"float32")}var ul,cl=ln({hannWindow_:function(t){return sl(t,.5,.5)}}),ll=ln({hammingWindow_:function(t){return sl(t,.54,.46)}}),fl=ln({frame_:function(t,e,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var o=0,a=[];o+e<=t.size;)a.push(wc(t,o,e)),o+=n;if(r)for(;o<t.size;){var s=o+e-t.size,u=On([wc(t,o,e-s),_n([s],i)]);a.push(u),o+=n}return 0===a.length?yn([],[0,e]):On(a).as2D(a.length,e)}}),hl=ln({stft_:function(t,e,n,r,i){var o;void 0===i&&(i=cl),null==r&&(o=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var a=fl(t,e,n),s=Eu(a,i(e)),u=[],c=0;c<a.shape[0];c++)u.push(tl(s.slice([c,0],[1,e]),r));return On(u)}}),dl=Object.freeze({hannWindow:cl,hammingWindow:ll,frame:fl,stft:hl});!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(ul||(ul={}));var pl=ln({absoluteDifference_:function(t,e,n,r){void 0===r&&(r=ul.SUM_BY_NONZERO_WEIGHTS);var i=Qe(t,"labels","absoluteDifference"),o=Qe(e,"predictions","absoluteDifference"),a=null;null!=n&&(a=Qe(n,"weights","absoluteDifference")),S(i.shape,o.shape,"Error in absoluteDifference: ");var s=i.sub(o).abs();return vl(s,a,r)}}),vl=ln({computeWeightedLoss_:function(t,e,n){void 0===n&&(n=ul.SUM_BY_NONZERO_WEIGHTS);var r=Qe(t,"losses","computeWeightedLoss"),i=null;null!=e&&(i=Qe(e,"weights","computeWeightedLoss"));var o=null==i?r:r.mul(i);if(n===ul.NONE)return o;if(n===ul.SUM)return o.sum();if(n===ul.MEAN){if(null==i)return o.mean();var a=r.size/i.size,s=o.sum().div(i.sum());return a>1?s.div(gn(a)):s}if(n===ul.SUM_BY_NONZERO_WEIGHTS){if(null==i)return o.sum().div(gn(r.size));var u=i.mul(xn(r.shape)).notEqual(gn(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+n)}}),gl=ln({cosineDistance_:function(t,e,n,r,i){void 0===i&&(i=ul.SUM_BY_NONZERO_WEIGHTS);var o=Qe(t,"labels","cosineDistance"),a=Qe(e,"predictions","cosineDistance"),s=null;null!=r&&(s=Qe(r,"weights","cosineDistance")),S(o.shape,a.shape,"Error in cosineDistance: ");var u=gn(1).sub(o.mul(a).sum(n,!0));return vl(u,s,i)}}),ml=ln({hingeLoss_:function(t,e,n,r){void 0===r&&(r=ul.SUM_BY_NONZERO_WEIGHTS);var i=Qe(t,"labels","hingeLoss"),o=Qe(e,"predictions","hingeLoss"),a=null;null!=n&&(a=Qe(n,"weights","hingeLoss")),S(i.shape,o.shape,"Error in hingeLoss: ");var s=gn(1);i=gn(2).mul(i).sub(s);var u=s.sub(i.mul(o)).relu();return vl(u,a,r)}}),yl=ln({huberLoss_:function(t,e,n,r,i){void 0===r&&(r=1),void 0===i&&(i=ul.SUM_BY_NONZERO_WEIGHTS);var o=Qe(t,"labels","huberLoss"),a=Qe(e,"predictions","huberLoss"),s=null;null!=n&&(s=Qe(n,"weights","huberLoss")),S(o.shape,a.shape,"Error in huberLoss: ");var u=gn(r),c=a.sub(o).abs(),l=yu(c,u),f=c.sub(l),h=gn(.5).mul(l.square()).add(u.mul(f));return vl(h,s,i)}}),bl=ln({logLoss_:function(t,e,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=ul.SUM_BY_NONZERO_WEIGHTS);var o=Qe(t,"labels","logLoss"),a=Qe(e,"predictions","logLoss"),s=null;null!=n&&(s=Qe(n,"weights","logLoss")),S(o.shape,a.shape,"Error in logLoss: ");var u=gn(1),c=gn(r),l=o.mul(a.add(c).log()).neg().sub(u.sub(o).mul(u.sub(a).add(c).log()));return vl(l,s,i)}}),wl=ln({meanSquaredError_:function(t,e,n,r){void 0===r&&(r=ul.SUM_BY_NONZERO_WEIGHTS);var i=Qe(t,"labels","meanSquaredError"),o=Qe(e,"predictions","meanSquaredError"),a=null;null!=n&&(a=Qe(n,"weights","meanSquaredError")),S(i.shape,o.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(o);return vl(s,a,r)}}),xl=ln({sigmoidCrossEntropy_:function(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=ul.SUM_BY_NONZERO_WEIGHTS);var o=Qe(t,"multiClassLabels","sigmoidCrossEntropy"),a=Qe(e,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Qe(n,"weights","sigmoidCrossEntropy")),S(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=gn(r),c=gn(1),l=gn(.5);o=o.mul(c.sub(u)).add(l.mul(u))}var f=function(t,e){var n=Qe(t,"labels","sigmoidCrossEntropyWithLogits"),r=Qe(e,"logits","sigmoidCrossEntropyWithLogits");S(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),o=r.mul(n),a=r.abs().neg().exp().log1p();return i.sub(o).add(a)}(o,a);return vl(f,s,i)}}),El=ln({softmaxCrossEntropy_:function(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=ul.SUM_BY_NONZERO_WEIGHTS);var o=Qe(t,"onehotLabels","softmaxCrossEntropy"),a=Qe(e,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Qe(n,"weights","softmaxCrossEntropy")),S(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=gn(r),c=gn(1),l=gn(o.shape[1]);o=o.mul(c.sub(u)).add(u.div(l))}var f=function(t,e,n){if(void 0===n&&(n=-1),-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+e.rank+" and dim was "+n);return jr(function(t,e,r){var i=e.logSumExp([n],!0),o=e.toFloat().sub(i);return r([t,o]),{value:o.mul(t).neg().sum([n]),gradFunc:function(t,e){var r=e[0],i=e[1],o=nn(t.shape,[n]);return[t.reshape(o).mul(r.toFloat().sub(i.exp())),t.reshape(o).mul(i.exp().sub(r.toFloat()))]}}})(t,e)}(o,a);return vl(f,s,i)}}),_l=Object.freeze({get Reduction(){return ul},absoluteDifference:pl,computeWeightedLoss:vl,cosineDistance:gl,hingeLoss:ml,huberLoss:yl,logLoss:bl,meanSquaredError:wl,sigmoidCrossEntropy:xl,softmaxCrossEntropy:El});function kl(t,e){return void 0===e&&(e=!1),Lt.tidy(function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],i=Zn(n),o=t.clone(),a=yn([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,c=function(t){var e,u=o,c=s,l=i;e=Lt.tidy(function(){var e=o.slice([t,t],[n-t,1]),u=e.norm(),c=o.slice([t,t],[1,1]),l=yn([[-1]]).where(c.greater(0),yn([[1]])),f=c.sub(l.mul(u)),h=e.div(f);s=1===h.shape[0]?a.clone():a.concat(h.slice([1,0],[h.shape[0]-1,h.shape[1]]),0);var d=l.matMul(f).div(u).neg(),p=o.slice([t,0],[n-t,r]),v=d.mul(s);if(0===t)o=p.sub(v.matMul(s.transpose().matMul(p)));else{var g=p.sub(v.matMul(s.transpose().matMul(p)));o=o.slice([0,0],[t,r]).concat(g,0)}var m=i.slice([0,t],[n,i.shape[1]-t]);if(0===t)i=m.sub(m.matMul(s).matMul(v.transpose()));else{var y=m.sub(m.matMul(s).matMul(v.transpose()));i=i.slice([0,0],[n,t]).concat(y,1)}return[s,o,i]}),s=e[0],o=e[1],i=e[2],Ke([u,c,l])},l=0;l<u;++l)c(l);return!e&&n>r&&(i=i.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[i,o]})}var Sl=ln({bandPart_:function(t,e,n){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=Qe(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,o=r.shape.slice(-2),a=o[0],s=o[1];if(!(e<=a))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");e<0&&(e=a),n<0&&(n=s);var u=kn(0,a,1,"int32").reshape([-1,1]),c=kn(0,s,1,"int32"),l=Ou(u,c),f=nu(l.lessEqual(gn(+e,"int32")),l.greaterEqual(gn(-n,"int32"))),h=En([a,s],r.dtype);return pr(mr(r.reshape([-1,a,s])).map(function(t){return au(f,t,h)})).reshape(i)}}),Cl=ln({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,k(null!=t&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=t[0].shape[0],r=function(e){k(t[e].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[e].shape[0]+" vs. "+n+")"})},i=1;i<t.length;++i)r(i)}else e=!0,t=Pn(t,t.shape[0],0).map(function(t){return dr(t,[0])});k(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."});var o=[],a=t,s=function(t){o.push(Lt.tidy(function(){var e=a[t];if(t>0)for(var n=0;n<t;++n){var r=Mc(o[n].mulStrict(e)).mul(o[n]);e=e.sub(r)}return e.div(Hc(e,"euclidean"))}))};for(i=0;i<t.length;++i)s(i);return e?pr(o,0):o}}),Ol=ln({qr_:function(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(2===t.rank)return kl(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(t,e){return t*e}),r=mr(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],o=[];return r.forEach(function(t){var n=kl(t,e),r=n[0],a=n[1];i.push(r),o.push(a)}),[pr(i,0).reshape(t.shape),pr(o,0).reshape(t.shape)]}}),Tl=Object.freeze({bandPart:Sl,gramSchmidt:Cl,qr:Ol});function Il(t,e,n,r,i,o){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==o&&(o=0);var a=t.shape[0];return n=Math.min(n,a),k(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),k(2===t.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),k(4===t.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),k(1===e.rank,function(){return"scores must be a 1D tensor"}),k(e.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+e.shape[0]}),k(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}var Rl=ln({resizeBilinear_:function(t,e,n){void 0===n&&(n=!1);var r=Qe(t,"images","resizeBilinear");k(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),k(2===e.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],u=Lt.runKernelFunc(function(t,e){return e([i]),t.resizeBilinear(i,a,s,n)},{x:i},function(t,e){return{x:function(){return Lt.runKernelFunc(function(r){return r.resizeBilinearBackprop(t,e[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Al=ln({resizeNearestNeighbor_:function(t,e,n){void 0===n&&(n=!1);var r=Qe(t,"images","resizeNearestNeighbor");k(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),k(2===e.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),k("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],u=Lt.runKernelFunc(function(t,e){return e([i]),t.resizeNearestNeighbor(i,a,s,n)},{batchImages:i},function(t,e){return{batchImages:function(){return Lt.runKernelFunc(function(r){return r.resizeNearestNeighborBackprop(t,e[0],n)},{})}}});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Pl=ln({nonMaxSuppression_:function(t,e,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var o=Qe(t,"boxes","nonMaxSuppression"),a=Qe(e,"scores","nonMaxSuppression"),s=Il(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return Lt.runKernelFunc(function(t){return t.nonMaxSuppression(o,a,n,r,i)},{boxes:o,scores:a},null,"NonMaxSuppressionV3",u)}}),Nl=ln({nonMaxSuppressionWithScore_:function(t,e,n,r,i,o){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===o&&(o=0);var a=Qe(t,"boxes","nonMaxSuppression"),s=Qe(e,"scores","nonMaxSuppression"),u=Il(a,s,n,r,i,o),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},l=Lt.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),Dl=ln({cropAndResize_:function(t,e,n,r,i,o){var a=Qe(t,"image","cropAndResize"),s=Qe(e,"boxes","cropAndResize","float32"),u=Qe(n,"boxInd","cropAndResize","int32");i=i||"bilinear",o=o||0;var c=s.shape[0];return k(4===a.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),k(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."}),k(1===u.rank&&u.shape[0]===c,function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."}),k(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),k(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),k("bilinear"===i||"nearest"===i,function(){return"method must be bilinear or nearest, but was "+i}),Lt.runKernelFunc(function(t,e){return t.cropAndResize(a,s,u,r,i,o)},{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:i,extrapolationValue:o,cropSize:r})}}),Ml=Object.freeze({resizeBilinear:Rl,resizeNearestNeighbor:Al,nonMaxSuppression:Pl,nonMaxSuppressionAsync:function(t,e,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,function(){var o,a,s,u,l,f,h;return c(this,function(c){switch(c.label){case 0:return o=Qe(t,"boxes","nonMaxSuppressionAsync"),a=Qe(e,"scores","nonMaxSuppressionAsync"),s=Il(o,a,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([o.data(),a.data()])];case 1:return u=c.sent(),l=u[0],f=u[1],h=hi(l,f,n,r,i),o!==t&&o.dispose(),a!==e&&a.dispose(),[2,h]}})})},nonMaxSuppressionWithScore:Nl,nonMaxSuppressionWithScoreAsync:function(t,e,n,r,i,o){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===o&&(o=0),u(this,void 0,void 0,function(){var a,s,u,l,f,h,d;return c(this,function(c){switch(c.label){case 0:return a=Qe(t,"boxes","nonMaxSuppressionAsync"),s=Qe(e,"scores","nonMaxSuppressionAsync"),u=Il(a,s,n,r,i,o),n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,o=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return l=c.sent(),f=l[0],h=l[1],d=di(f,h,n,r,i,o),a!==t&&a.dispose(),s!==e&&s.dispose(),[2,d]}})})},cropAndResize:Dl}),jl=function(t,e){return!(t>0)||"linear"===e},Fl=function(t,e,n){if(null==n||"linear"===n)return t;if("relu"===n)return t.mul(e.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Ll=function(t,e){var n=e,r=Wr(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},Bl=function(t,e,n){if("linear"===e)return t;if("relu"===e)return Vc(t);if("elu"===e)return Fc(t);if("relu6"===e)return Uc(t);if("prelu"===e)return Bc(t,n);throw new Error("Unknown fused activation "+e+".")},Vl=ln({fusedMatMul_:function(t){var e,n=t.a,r=t.b,i=t.transposeA,o=void 0!==i&&i,a=t.transposeB,s=void 0!==a&&a,u=t.bias,c=t.activation,l=void 0===c?"linear":c,f=t.preluActivationWeights;if(!1===jl(Lt.state.gradientDepth,l)){var h=oc(n,r,o,s);return null!=u&&(h=uu(h,u)),Bl(h,l,f)}var d=Qe(n,"a","fused matMul"),p=Qe(r,"b","fused matMul");e=Pt(d,p),d=e[0],p=e[1];var v=o?d.shape[d.rank-2]:d.shape[d.rank-1],g=s?p.shape[p.rank-1]:p.shape[p.rank-2],m=o?d.shape[d.rank-1]:d.shape[d.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],b=d.shape.slice(0,-2),w=p.shape.slice(0,-2),x=T(b),E=T(w);k(d.rank>=2&&p.rank>=2&&d.rank===p.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+d.rank+" and "+p.rank+"."}),k(I(b,w),function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+d.shape+" and "+p.shape+" must match."}),k(v===g,function(){return"Error in fused matMul: inner shapes ("+v+") and ("+g+") of Tensors with shapes "+d.shape+" and "+p.shape+" and transposeA="+o+" and transposeB="+s+" must match."});var _,S,C=d.shape.slice(0,-2).concat([m,y]),O=o?d.as3D(x,v,m):d.as3D(x,m,v),R=s?p.as3D(E,y,g):p.as3D(E,g,y);null!=u&&qr(C,(_=Pt(_=Qe(u,"bias","fused matMul"),d)[0]).shape),null!=f&&(S=Qe(f,"prelu weights","fused matMul"));var A={a:O,b:R};null!=u&&(A.bias=_),null!=f&&(A.preluActivationWeights=S);var P=[O,R];return Lt.runKernelFunc(function(t,e){var n=t.fusedBatchMatMul({a:O,b:R,transposeA:o,transposeB:s,bias:_,activation:l,preluActivationWeights:S});return e([O,R,n]),n},A,function(t,e){var n=e[0],r=e[1],i=e[2],a=Fl(t,i,l),c={};return null!=u&&(c={bias:function(){return Ll(_,a)}}),o||s?!o&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},c):o&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},c):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},c):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},c)},"_FusedMatMul",{transposeA:o,transposeB:s,activation:l},P,[!0]).reshape(C)}}),Ul=ln({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,i=t.pad,o=t.dataFormat,a=void 0===o?"NHWC":o,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,f=t.activation,h=void 0===f?"linear":f,d=t.preluActivationWeights;if(h=h||"linear",!1===jl(Lt.state.gradientDepth,h)){var p=$u(e,n,r,i,a,u,c);return null!=l&&(p=uu(p,l)),Bl(p,h,d)}var v=Qe(e,"x","conv2d"),g=Qe(n,"filter","conv2d"),m=v,y=!1;3===v.rank&&(y=!0,m=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),k(4===m.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+m.rank+"."}),k(4===g.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."}),null!=c&&k(R(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+i+"."}),k(m.shape[3]===g.shape[2],function(){return"Error in conv2d: depth of input ("+m.shape[3]+") must match input depth for filter "+g.shape[2]+"."}),k(ei(r,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),k("NHWC"===a,function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var b,w,x=Kr(m.shape,g.shape,r,u,i,c);null!=l&&(b=Pt(b=Qe(l,"bias","fused conv2d"),v)[0],qr(x.outShape,b.shape)),null!=d&&(w=Qe(d,"prelu weights","fused conv2d"));var E={x:m,filter:g};null!=l&&(E.bias=b),null!=d&&(E.preluActivationWeights=w);var _=[g,m],S=Lt.runKernelFunc(function(t,e){var n=t.fusedConv2d({input:m,filter:g,convInfo:x,bias:b,activation:h,preluActivationWeights:w});return e([g,m,n]),n},E,function(t,e){var n=e,o=n[0],a=n[1],s=n[2],c=Fl(t,s,h);k(ti(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var f={};return null!=l&&(f={bias:function(){return Ll(b,c)}}),Object.assign({x:function(){return Ju(a.shape,c,o,r,i)},filter:function(){return Qu(a,c,o.shape,r,i)}},f)},"FusedConv2D",{convInfo:x,activation:h},_,[!0]);return y?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),zl=ln({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,i=t.pad,o=t.dataFormat,a=void 0===o?"NHWC":o,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,f=t.activation,h=void 0===f?"linear":f,d=t.preluActivationWeights;if(!1===jl(Lt.state.gradientDepth,h)){var p=Zu(e,n,r,i,a,u,c);return null!=l&&(p=uu(p,l)),Bl(p,h,d)}var v=Qe(e,"x","depthwiseConv2d"),g=Qe(n,"filter","depthwiseConv2d"),m=v,y=!1;3===v.rank&&(y=!0,m=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),k(4===m.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+m.rank+"."}),k(4===g.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."}),k(m.shape[3]===g.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+m.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."}),null==u&&(u=[1,1]),k(ei(r,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),null!=c&&k(R(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+i+"."});var b,w,x=Kr(m.shape,g.shape,r,u,i,c,!0);null!=l&&(b=Pt(b=Qe(l,"bias","fused conv2d"),v)[0],qr(x.outShape,b.shape)),null!=d&&(w=Qe(d,"prelu weights","fused depthwiseConv2d"));var E={x:m,filter:g};null!=l&&(E.bias=b),null!=d&&(E.preluActivationWeights=w);var _=[g,m],S=Lt.runKernelFunc(function(t,e){var n=t.fusedDepthwiseConv2D({input:m,filter:g,convInfo:x,bias:b,activation:h,preluActivationWeights:w});return e([g,m,n]),n},E,function(t,e){k(ti(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var n=e[0],r=e[1],i=e[2],o=Fl(t,i,h),a={};return null!=l&&(a={bias:function(){return Ll(b,o)}}),Object.assign({x:function(){return tc(r.shape,o,n,x)},filter:function(){return ec(r,o,n.shape,x)}},a)},"FusedDepthwiseConv2D",{convInfo:x,activation:h},_,[!0]);return y?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),Wl=Object.freeze({matMul:Vl,conv2d:Ul,depthwiseConv2d:zl}),ql=Object.freeze({image:Ml,linalg:Tl,losses:_l,spectral:nl,fused:Wl,signal:dl,square:os,squaredDifference:ss,conv1d:Xu,conv2d:$u,conv3d:Yu,depthwiseConv2d:Zu,separableConv2d:nc,conv2dTranspose:rc,conv3dTranspose:ic,op:ln,batchNormalization2d:Xs,batchNormalization3d:$s,batchNormalization4d:Ys,batchNormalization:Qs,batchNorm:Js,batchNorm2d:Zs,batchNorm3d:tu,batchNorm4d:eu,booleanMaskAsync:function(t,e,n){return u(this,void 0,void 0,function(){var r,i,o,a,s,u,l,f,h,d,p,v,g;return c(this,function(c){switch(c.label){case 0:for(r=Qe(t,"tensor","boolMask"),i=Qe(e,"mask","boolMask","bool"),o=null==n?0:n,a=i.rank,s=r.shape,k(a>0,function(){return"mask cannot be scalar"}),S(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=o;l<o+a;l++)u*=s[l];return f=s.slice(0,o).concat([u],s.slice(o+a)),h=r.reshape(f),d=i.reshape([-1]),[4,su(d)];case 1:return p=c.sent(),v=p.squeeze([1]),g=Wu(h,v,o),t!==r&&r.dispose(),e!==i&&i.dispose(),v.dispose(),h.dispose(),d.dispose(),p.dispose(),[2,g]}})})},complex:fn,real:hn,imag:dn,concat:On,concat1d:Tn,concat2d:In,concat3d:Rn,concat4d:An,split:Pn,matMul:oc,dot:ac,outerProduct:sc,reverse:uc,reverse1d:cc,reverse2d:lc,reverse3d:fc,reverse4d:hc,maxPool:vc,avgPool:gc,pool:mc,maxPool3d:yc,avgPool3d:bc,slice:wc,slice1d:xc,slice2d:Ec,slice3d:_c,slice4d:kc,abs:us,acos:cs,acosh:ls,asin:fs,asinh:hs,atan:ds,atanh:ps,ceil:vs,clipByValue:gs,cos:ms,cosh:ys,erf:bs,exp:ws,expm1:xs,floor:Es,log:_s,log1p:ks,logSigmoid:Ss,neg:Cs,reciprocal:Os,round:Ts,rsqrt:Is,sigmoid:Rs,sign:As,isNaN:Ps,isInf:Ns,isFinite:Ds,sin:Ms,sinh:js,softplus:Fs,sqrt:Ls,step:Bs,tan:Vs,tanh:Us,all:Cc,any:Oc,argMax:Tc,argMin:Ic,logSumExp:Rc,max:Ac,mean:Pc,min:Nc,moments:Dc,sum:Mc,prod:jc,equal:Iu,equalStrict:Ru,greater:Au,greaterEqual:Pu,greaterEqualStrict:Nu,greaterStrict:Du,less:Mu,lessEqual:ju,lessEqualStrict:Fu,lessStrict:Lu,notEqual:Bu,notEqualStrict:Vu,add:uu,addN:cu,addStrict:lu,atan2:fu,div:hu,divNoNan:du,divStrict:pu,floorDiv:vu,maximum:gu,maximumStrict:mu,minimum:yu,minimumStrict:bu,mod:wu,modStrict:xu,mul:Eu,mulStrict:_u,pow:ku,powStrict:Su,squaredDifferenceStrict:Cu,sub:Ou,subStrict:Tu,elu:Fc,leakyRelu:Lc,prelu:Bc,relu:Vc,relu6:Uc,selu:zc,logicalAnd:nu,logicalNot:ru,logicalOr:iu,logicalXor:ou,where:au,whereAsync:su,buffer:Hn,print:function(t,e){void 0===e&&(e=!1),console.log(t.toString(e))},batchToSpaceND:Gn,broadcastTo:Kn,cast:Xn,clone:$n,cumsum:Yn,depthToSpace:Qn,expandDims:Jn,eye:Zn,multinomial:tr,oneHot:er,pad:nr,pad1d:rr,pad2d:ir,pad3d:or,pad4d:ar,rand:sr,randomNormal:ur,randomGamma:cr,randomUniform:lr,reshape:fr,spaceToBatchND:hr,squeeze:dr,stack:pr,tile:vr,truncatedNormal:gr,unstack:mr,setdiff1dAsync:function(t,e){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,f,h;return c(this,function(c){switch(c.label){case 0:return n=Qe(t,"x","setdiff1d"),r=Qe(e,"y","setdiff1d"),k(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),k(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),k(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return i=c.sent(),[4,r.data()];case 2:for(o=c.sent(),a=new Set(o),s=0,f=0;f<i.length;f++)a.has(i[f])||s++;for(u=new mt([s],n.dtype),l=new mt([s],"int32"),f=0,h=0;f<i.length;f++)a.has(i[f])||(u.values[h]=i[f],l.values[h]=f,h++);return[2,[u.toTensor(),l.toTensor()]]}})})},fill:_n,linspace:function(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return Lt.runKernelFunc(function(r){return r.linspace(t,e,n)},{})},ones:xn,range:kn,scalar:gn,tensor:pn,tensor1d:mn,tensor2d:yn,tensor3d:bn,tensor4d:wn,tensor5d:function(t,e,n){if(C(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var r=$e(t,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return vn(t,e,r,n)},tensor6d:function(t,e,n){if(C(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var r=$e(t,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return vn(t,e=e||r,r,n)},variable:function(t,e,n,r){return void 0===e&&(e=!0),Lt.makeVariable(t,e,n,r)},zeros:En,onesLike:Sn,zerosLike:Cn,transpose:Wc,softmax:Fr,logSoftmax:Lr,localResponseNormalization:qc,norm:Hc,gather:Wu,unsortedSegmentSum:qu,basicLSTMCell:Gc,multiRNNCell:Kc,movingAverage:Xc,stridedSlice:$c,topk:Yc,scatterND:Qc,fft:Jc,ifft:Zc,rfft:tl,irfft:el,sparseToDense:rl,gatherND:il,diag:ol,dropout:al,hannWindow:cl,hammingWindow:ll,frame:fl,stft:hl,inTopKAsync:function(t,e,n){return void 0===n&&(n=1),u(this,void 0,void 0,function(){var r,i,o,a,s,u,l,f,h,d,p,v,g,m;return c(this,function(c){switch(c.label){case 0:return r=Qe(t,"predictions","inTopK"),i=Qe(e,"targets","inTopK"),k(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),k(r.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank}),S(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],k(n>0&&n<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+n}),[4,r.data()];case 1:return a=c.sent(),[4,i.data()];case 2:for(s=c.sent(),u=[a.length/o,o],f=u[1],h=L("bool",l=u[0]),d=0;d<l;d++){for(p=d*f,v=a.subarray(p,p+f),g=[],m=0;m<v.length;m++)g.push({value:v[m],index:m});for(g.sort(function(t,e){return e.value-t.value}),h[d]=0,m=0;m<n;m++)if(g[m].index===s[d]){h[d]=1;break}}return t!==r&&r.dispose(),e!==i&&i.dispose(),[2,pn(h,i.shape,"bool")]}})})}});function Hl(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(t){null!=t&&k("complex64"!==t.dtype,function(){return e+" does not support complex64 tensors."})})}function Gl(t,e,n,r){if("linear"===n)return t.linear(e);if("relu"===n)return t.relu(e);if("elu"===n)return t.elu(e);if("relu6"===n)return t.relu6(e);if("prelu"===n)return t.prelu(e,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Kl=function(t){function e(){var e=t.call(this)||this;return e.blockSize=48,e.firstUse=!0,e.data=new Br(e,Lt),e}return s(e,t),e.prototype.write=function(t,e,n){this.firstUse&&(this.firstUse=!1,f().get("IS_NODE")&&Xe("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:t,dtype:n}),r},e.prototype.move=function(t,e,n,r){this.data.set(t,{values:e,dtype:r})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.readSync(t)]})})},e.prototype.readSync=function(t){var e=this.data.get(t),n=e.dtype,r=e.complexTensors;return"complex64"===n?ai(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(t).values},e.prototype.bufferSync=function(t){var e=this.readSync(t.dataId),n=e;if("string"===t.dtype)try{n=e.map(function(t){return at(t)})}catch(t){throw new Error("Failed to decode encoded string bytes into utf-8")}return Hn(t.shape,t.dtype,n)},e.prototype.makeOutput=function(t,e,n){var r=this.write(t,e,n);return Lt.makeTensorFromDataId(r,e,n,this)},e.prototype.disposeData=function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}},e.prototype.time=function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(n){return e=rt(),t(),[2,{kernelMs:rt()-e}]})})},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(t,e){var n=this.makeOutput(null,t.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Lt.keep(t.clone()),imag:Lt.keep(e.clone())},n},e.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,e,n){if(Hl(t,"slice"),Dr(t.shape,e,n)){var r=Mr(e,t.strides),i=T(n);return pn(this.readSync(t.dataId).subarray(r,r+i),n,t.dtype)}for(var o=Hn(n,t.dtype),a=this.bufferSync(t),s=0;s<o.size;++s){var u=o.indexToLoc(s).map(function(t,n){return t+e[n]});o.values[s]=a.get.apply(a,u)}return o.toTensor()},e.prototype.stridedSlice=function(t,e,n,r){Hl(t,"stridedSlice");var i=Ar(e,n,r);if(i.some(function(t){return 0===t}))return pn([],i);for(var o=Hn(i,t.dtype),a=this.bufferSync(t),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+e[l];o.set.apply(o,[a.get.apply(a,c)].concat(u))}return o.toTensor()},e.prototype.diag=function(t){for(var e=this.readSync(t.dataId),n=Hn([t.size,t.size],t.dtype),r=n.values,i=0;i<e.length;i++)r[i*t.size+i]=e[i];return n.toTensor()},e.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),i=0,o=0;o<t.rank;o++)o!==e&&(r[i++]=t.shape[o]);var a=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;var u=new Array(n);for(o=0;o<u.length;o++)a[e]=o,u[o]=this.slice(t,a,s).reshape(r);return u},e.prototype.reverse=function(t,e){Hl(t,"reverse");for(var n=Hn(t.shape,t.dtype),r=this.bufferSync(t),i=function(i){var o=n.indexToLoc(i),a=o.slice();e.forEach(function(e){return a[e]=t.shape[e]-1-a[e]}),n.set.apply(n,[r.get.apply(r,a)].concat(o))},o=0;o<n.size;o++)i(o);return n.toTensor()},e.prototype.concat=function(t,e){var n=this;if("complex64"===t[0].dtype){var r=t.map(function(t){return hn(t)}),i=t.map(function(t){return dn(t)});return fn(this.concat(r,e),this.concat(i,e))}var o=t.map(function(t){var n=T(t.shape.slice(e));return t.as2D(-1,n)}),a=cn(o.map(function(t){return t.shape}),1),s=Hn(a,t[0].dtype).values;if(1===o[0].shape[0]){var u=0;o.forEach(function(t){s.set(n.readSync(t.dataId),u),u+=t.size})}else{var c=0;o.forEach(function(t){for(var e=n.readSync(t.dataId),r=0,i=0;i<t.shape[0];++i)for(var o=i*a[1]+c,u=0;u<t.shape[1];++u)s[o+u]=e[r++];c+=t.shape[1]})}var l=cn(t.map(function(t){return t.shape}),e);return pn(s,l,t[0].dtype)},e.prototype.neg=function(t){return Hl(t,"neg"),this.multiply(gn(-1),t)},e.prototype.add=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t+n,imag:e+r}}):this.broadcastedBinaryOp(t,e,Rt(t.dtype,e.dtype),function(t,e){return t+e})},e.prototype.addN=function(t){var e=this;Hl(t,"addN");for(var n=t.map(function(t){return e.readSync(t.dataId)}),r=Hn(t[0].shape,t[0].dtype),i=r.values,o=0;o<t.length;o++)for(var a=n[o],s=0;s<i.length;s++)i[s]+=a[s];return r.toTensor()},e.prototype.softmax=function(t,e){var n=j([e],t.shape),r=this.max(t,n),i=nn(r.shape,n),o=this.subtract(t,r.reshape(i)),a=this.exp(o),s=this.sum(a,n).reshape(i);return this.realDivide(a,s)},e.prototype.subtract=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t-n,imag:e-r}}):this.broadcastedBinaryOp(t,e,Rt(t.dtype,e.dtype),function(t,e){return t-e})},e.prototype.pow=function(t,e){return Hl([t,e],"pow"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.pow(t,e)})},e.prototype.batchMatMul=function(t,e,n,r){Hl([t,e],"matMul");for(var i=n?t.shape[1]:t.shape[2],o=n?t.shape[2]:t.shape[1],a=r?e.shape[1]:e.shape[2],s=t.shape[0],u=this.readSync(t.dataId),c=this.readSync(e.dataId),l=n?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],f=l[0],h=l[1],d=l[2],p=r?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],v=p[0],g=p[1],m=p[2],y=o*a,b=Hn([s,o,a],t.dtype),w=b.values,x=this.blockSize,E=0;E<s;E++)for(var _=0;_<o;_+=x)for(var k=0;k<a;k+=x)for(var S=0;S<i;S+=x)for(var C=Math.min(_+x,o),O=Math.min(k+x,a),T=Math.min(S+x,i),I=_;I<C;I++)for(var R=k;R<O;R++){for(var A=0,P=S;P<T;P++)A+=u[E*f+I*h+P*d]*c[P*v+R*g+E*m];w[E*y+(I*a+R)]+=A}return b.toTensor()},e.prototype.fusedBatchMatMul=function(t){var e=t.a,n=t.b,r=t.transposeA,i=t.transposeB,o=t.bias,a=t.activation,s=t.preluActivationWeights,u=this.batchMatMul(e,n,r,i);return o&&(u=this.add(u,o)),a&&(u=Gl(this,u,a,s)),u},e.prototype.multiply=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t*n-e*r,imag:t*r+e*n}}):this.broadcastedBinaryOp(t,e,Rt(t.dtype,e.dtype),function(t,e){return t*e})},e.prototype.realDivide=function(t,e){return Hl([t,e],"realDivide"),this.broadcastedBinaryOp(t,e,"float32",function(t,e){return t/e})},e.prototype.floorDiv=function(t,e){return Hl([t,e],"floorDiv"),this.broadcastedBinaryOp(t,e,"int32",function(t,e){return Math.floor(t/e)})},e.prototype.sum=function(t,e){Hl(t,"sum"),rn("sum",e,t.rank);for(var n=en(t.shape,e),r=n[0],i=n[1],o=En(r,Rt(t.dtype,"int32")),a=T(i),s=this.readSync(o.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*a,f=0,h=0;h<a;++h)f+=u[l+h];s[c]=f}return o},e.prototype.prod=function(t,e){Hl(t,"sum");for(var n=en(t.shape,e),r=n[0],i=n[1],o=En(r,Rt(t.dtype,"int32")),a=T(i),s=this.readSync(o.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*a,f=1,h=0;h<a;++h)f*=u[l+h];s[c]=f}return o},e.prototype.unsortedSegmentSum=function(t,e,n){Hl(t,"unsortedSegmentSum");for(var r=[],i=t.rank-e.rank,o=0;o<i;++o)e=e.expandDims(o+1);for(o=0;o<n;++o){var a=gn(o,"int32"),s=Iu(a,e).asType("float32").mul(t).sum(0);r.push(s)}return pr(r)},e.prototype.argMin=function(t,e){Hl(t,"argMin");var n=[e];rn("argMin",n,t.rank);for(var r=en(t.shape,n),i=r[0],o=r[1],a=En(i,"int32"),s=T(o),u=this.readSync(a.dataId),c=this.readSync(t.dataId),l=0;l<u.length;++l){for(var f=l*s,h=c[f],d=0,p=0;p<s;++p){var v=c[f+p];v<h&&(h=v,d=p)}u[l]=d}return a},e.prototype.argMax=function(t,e){Hl(t,"argMax");var n=[e];rn("argMax",n,t.rank);for(var r=en(t.shape,n),i=r[0],o=r[1],a=En(i,"int32"),s=T(o),u=this.readSync(a.dataId),c=this.readSync(t.dataId),l=0;l<u.length;++l){for(var f=l*s,h=c[f],d=0,p=0;p<s;++p){var v=c[f+p];v>h&&(h=v,d=p)}u[l]=d}return a},e.prototype.cumsum=function(t,e,n,r){if(Hl(t,"cumsum"),e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var i=Rt(t.dtype,"int32"),o=En(t.shape,i),a=this.readSync(o.dataId),s=this.readSync(t.dataId),u=t.shape[t.rank-1],c=r?function(t,e){return t+u-e-1}:function(t,e){return t+e},l=0;l<s.length;l+=u)for(var f=0;f<u;f++){var h=c(l,f);if(0===f)a[h]=n?0:s[h];else{var d=c(l,f-1);a[h]=n?s[d]+a[d]:s[h]+a[d]}}return o},e.prototype.equal=function(t,e){return Hl([t,e],"equal"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t===e?1:0})},e.prototype.notEqual=function(t,e){return Hl([t,e],"notEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t!==e?1:0})},e.prototype.less=function(t,e){return Hl([t,e],"less"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<e?1:0})},e.prototype.lessEqual=function(t,e){return Hl([t,e],"lessEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<=e?1:0})},e.prototype.greater=function(t,e){return Hl([t,e],"greater"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>e?1:0})},e.prototype.greaterEqual=function(t,e){return Hl([t,e],"greaterEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>=e?1:0})},e.prototype.logicalNot=function(t){Hl(t,"logicalNot");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return this.makeOutput(n,t.shape,"bool")},e.prototype.logicalAnd=function(t,e){return Hl([t,e],"logicalAnd"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t&&e})},e.prototype.logicalOr=function(t,e){return Hl([t,e],"logicalOr"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t||e})},e.prototype.select=function(t,e,n){Hl([t,e,n],"select");for(var r=this.readSync(t.dataId),i=this.readSync(e.dataId),o=this.readSync(n.dataId),a=En(e.shape,Rt(e.dtype,n.dtype)),s=this.readSync(a.dataId),u=0,c=0===t.rank||t.rank>1||1===e.rank?1:T(e.shape.slice(1)),l=0;l<r.length;l++)for(var f=0;f<c;f++)1===r[l]?s[u++]=i[l]:s[u++]=o[l];return a},e.prototype.where=function(t){Hl([t],"where");var e=this.readSync(t.dataId);return xi(t.shape,e)},e.prototype.topk=function(t,e,n){return Hl(t,"topk"),wi(this.readSync(t.dataId),t.shape,t.dtype,e)},e.prototype.min=function(t,e){Hl(t,"min"),rn("min",e,t.rank);for(var n=en(t.shape,e),r=n[0],i=n[1],o=En(r,t.dtype),a=T(i),s=this.readSync(o.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],h=0;h<a;++h){var d=u[l+h];d<f&&(f=d)}s[c]=f}return o},e.prototype.minimum=function(t,e){return Hl([t,e],"minimum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.min(t,e)})},e.prototype.mod=function(t,e){return Hl([t,e],"mod"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})},e.prototype.max=function(t,e){Hl(t,"max"),rn("max",e,t.rank);for(var n=en(t.shape,e),r=n[0],i=n[1],o=En(r,t.dtype),a=T(i),s=this.readSync(o.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],h=0;h<a;++h){var d=u[l+h];d>f&&(f=d)}s[c]=f}return o},e.prototype.maximum=function(t,e){return Hl([t,e],"maximum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.max(t,e)})},e.prototype.all=function(t,e){Hl(t,"all"),rn("all",e,t.rank);for(var n=en(t.shape,e),r=n[0],i=n[1],o=En(r,t.dtype),a=T(i),s=this.readSync(o.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],h=0;h<a;++h){var d=u[l+h];f=f&&d}s[c]=f}return o},e.prototype.any=function(t,e){Hl(t,"any"),rn("any",e,t.rank);for(var n=en(t.shape,e),r=n[0],i=n[1],o=En(r,t.dtype),a=T(i),s=this.readSync(o.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],h=0;h<a;++h){var d=u[l+h];f=f||d}s[c]=f}return o},e.prototype.squaredDifference=function(t,e){return Hl([t,e],"squaredDifference"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t-e;return n*n})},e.prototype.ceil=function(t){Hl(t,"ceil");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return this.makeOutput(n,t.shape,"float32")},e.prototype.floor=function(t){Hl(t,"floor");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return this.makeOutput(n,t.shape,"float32")},e.prototype.sign=function(t){Hl(t,"x");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)e[r]<0?n[r]=-1:e[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,t.shape,"float32")},e.prototype.isNaN=function(t){Hl(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isNaN(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")},e.prototype.isInf=function(t){Hl(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Math.abs(e[r])===1/0&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")},e.prototype.isFinite=function(t){Hl(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isFinite(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")},e.prototype.round=function(t){Hl(t,"round");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=Math.floor(e[r]);e[r]-i<.5?n[r]=Math.floor(e[r]):e[r]-i>.5?n[r]=Math.ceil(e[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,t.shape,"float32")},e.prototype.exp=function(t){Hl(t,"exp");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return this.makeOutput(n,t.shape,"float32")},e.prototype.expm1=function(t){Hl(t,"expm1");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return this.makeOutput(n,t.shape,"float32")},e.prototype.log=function(t){Hl(t,"log");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.log(i)}return this.makeOutput(n,t.shape,"float32")},e.prototype.log1p=function(t){Hl(t,"log1p");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.log1p(i)}return this.makeOutput(n,t.shape,"float32")},e.prototype.sqrt=function(t){Hl(t,"sqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,t.shape,"float32")},e.prototype.rsqrt=function(t){Hl(t,"rsqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,t.shape,"float32")},e.prototype.reciprocal=function(t){Hl(t,"reciprocal");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return this.makeOutput(n,t.shape,"float32")},e.prototype.linear=function(t){return t},e.prototype.relu=function(t){Hl(t,"relu");for(var e=En(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return e},e.prototype.relu6=function(t){Hl(t,"relu");for(var e=En(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return e},e.prototype.prelu=function(t,e){return Hl([t,e],"prelu"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return t<0?e*t:t})},e.prototype.elu=function(t){Hl(t,"elu");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(e,t.shape,"float32")},e.prototype.eluDer=function(t,e){Hl([t,e],"eluDer");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=this.readSync(t.dataId),o=0;o<r.length;++o){var a=r[o];n[o]=a>=1?i[o]:i[o]*(a+1)}return this.makeOutput(n,e.shape,"float32")},e.prototype.selu=function(t){Hl(t,"selu");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?1.0507009873554805*i:1.7580993408473768*(Math.exp(i)-1)}return this.makeOutput(e,t.shape,"float32")},e.prototype.clip=function(t,e,n){Hl(t,"clip");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o){var a=i[o];r[o]=a>n?n:a<e?e:a}return this.makeOutput(r,t.shape,"float32")},e.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.complexAbs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<t.size;++r){var i=n[2*r],o=n[2*r+1];e[r]=Math.hypot(i,o)}return this.makeOutput(e,t.shape,"float32")},e.prototype.int=function(t){Hl(t,"int");for(var e=new Int32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=n[r];return this.makeOutput(e,t.shape,"int32")},e.prototype.sigmoid=function(t){Hl(t,"sigmoid");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(e,t.shape,"float32")},e.prototype.softplus=function(t){Hl(t,"softplus");for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=this.readSync(t.dataId),i=0;i<r.length;++i){var o,a=r[i]>-e,s=r[i]<e,u=Math.exp(r[i]);o=s?u:a?r[i]:Math.log(1+u),n[i]=o}return this.makeOutput(n,t.shape,"float32")},e.prototype.sin=function(t){Hl(t,"sin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.cos=function(t){Hl(t,"cos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.tan=function(t){Hl(t,"tan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.asin=function(t){Hl(t,"asin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.acos=function(t){Hl(t,"acos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.atan=function(t){Hl(t,"atan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.atan2=function(t,e){return Hl([t,e],"atan2"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.atan2(t,e)})},e.prototype.sinh=function(t){Hl(t,"sinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.cosh=function(t){Hl(t,"cosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.tanh=function(t){Hl(t,"tanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=A(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.asinh=function(t){Hl(t,"asinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.acosh=function(t){Hl(t,"acosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.atanh=function(t){Hl(t,"atanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return this.makeOutput(e,t.shape,"float32")},e.prototype.erf=function(t){Hl(t,"erf");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),o=Math.abs(n[r]),a=1/(1+.3275911*o);e[r]=i*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-o*o))}return this.makeOutput(e,t.shape,"float32")},e.prototype.step=function(t,e){void 0===e&&(e=0),Hl(t,"step");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=0;i<r.length;++i){var o=r[i];isNaN(o)?n[i]=NaN:n[i]=o>0?1:e}return this.makeOutput(n,t.shape,"float32")},e.prototype.fusedConv2d=function(t){var e=t.input,n=t.filter,r=t.convInfo,i=t.bias,o=t.activation,a=t.preluActivationWeights,s=this.conv2d(e,n,r);return i&&(s=this.add(s,i)),o&&(s=Gl(this,s,o,a)),s},e.prototype.conv2d=function(t,e,n){Hl([t,e],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c="channelsLast"===n.dataFormat,l=Hn(n.outShape,t.dtype),f=t.strides[0],h=c?t.strides[1]:t.strides[2],d=c?t.strides[2]:1,p=c?1:t.strides[1],v=l.strides[0],g=c?l.strides[1]:l.strides[2],m=c?l.strides[2]:1,y=c?1:l.strides[1],b=this.readSync(t.dataId),w=this.readSync(e.dataId),x=l.values,E=0;E<n.batchSize;++E)for(var _=E*f,k=E*v,S=0;S<n.outHeight;++S)for(var C=k+S*g,O=S*n.strideHeight-u,T=0;T<r;T++){var I=O+T*o;if(!(I<0||I>=n.inHeight))for(var R=T*e.strides[0],A=_+I*h,P=0;P<n.outWidth;++P)for(var N=C+P*m,D=P*n.strideWidth-s,M=0;M<i;M++){var j=D+M*a;if(!(j<0||j>=n.inWidth))for(var F=A+j*d,L=R+M*e.strides[1],B=0;B<n.inChannels;++B){for(var V=b[F+B*p],U=0;U<n.outChannels;++U)x[N+U*y]+=V*w[L+U];L+=n.outChannels}}}return l.toTensor()},e.prototype.conv3d=function(t,e,n){for(var r=n.filterDepth,i=n.filterHeight,o=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,f=n.padInfo.top,h=Hn(n.outShape,t.dtype),d=this.readSync(t.dataId),p=this.readSync(e.dataId),v=h.values,g=0;g<n.batchSize;++g)for(var m=g*t.strides[0],y=g*h.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*h.strides[1],x=b*n.strideDepth-c,E=0;E<r;E++){var _=x+E*a;if(!(_<0||_>=n.inDepth))for(var k=E*e.strides[0],S=m+_*t.strides[1],C=0;C<n.outHeight;++C)for(var O=w+C*h.strides[2],T=C*n.strideHeight-f,I=0;I<i;I++){var R=T+I*s;if(!(R<0||R>=n.inHeight))for(var A=k+I*e.strides[1],P=S+R*t.strides[2],N=0;N<n.outWidth;++N)for(var D=O+N*n.outChannels,M=N*n.strideWidth-l,j=0;j<o;j++){var F=M+j*u;if(!(F<0||F>=n.inWidth))for(var L=A+j*e.strides[2],B=P+F*n.inChannels,V=L,U=0;U<n.inChannels;++U){for(var z=d[B+U],W=0;W<n.outChannels;++W)v[D+W]+=z*p[V+W];V+=n.outChannels}}}}return h.toTensor()},e.prototype.conv2dDerInput=function(t,e,n){Hl([t,e],"conv2dDerInput");for(var r=Hn(n.inShape,"float32"),i=r.values,o=this.readSync(t.dataId),a=this.readSync(e.dataId),s=e.strides,u=s[0],c=s[1],l=s[2],f=n.batchSize,h=n.filterHeight,d=n.filterWidth,p=n.inChannels,v=n.inHeight,g=n.inWidth,m=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,x=n.strideWidth,E=n.dataFormat,_=h-1-n.padInfo.top,k=d-1-n.padInfo.left,S="channelsLast"===E,C=r.strides[0],O=S?r.strides[1]:r.strides[2],T=S?r.strides[2]:1,I=S?1:r.strides[1],R=t.strides[0],A=S?t.strides[1]:t.strides[2],P=S?t.strides[2]:1,N=S?1:t.strides[1],D=0;D<f;++D)for(var M=0;M<p;++M)for(var j=0;j<v;++j)for(var F=j-_,L=Math.max(0,Math.ceil(F/w)),B=Math.min(y,(h+F)/w),V=0;V<g;++V){for(var U=V-k,z=Math.max(0,Math.ceil(U/x)),W=Math.min(b,(d+U)/x),q=0,H=L;H<B;++H)for(var G=H*w-F,K=z;K<W;++K)for(var X=R*D+A*H+P*K,$=u*(h-1-G)+c*(d-1-(K*x-U))+l*M,Y=0;Y<m;++Y)q+=o[X+N*Y]*a[$+Y];i[C*D+O*j+T*V+I*M]=q}return r.toTensor()},e.prototype.conv3dDerInput=function(t,e,n){for(var r=Hn(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],c=o[3],l=this.readSync(t.dataId),f=t.strides,h=f[0],d=f[1],p=f[2],v=f[3],g=this.readSync(e.dataId),m=e.strides,y=m[0],b=m[1],w=m[2],x=m[3],E=n.batchSize,_=n.filterDepth,k=n.filterHeight,S=n.filterWidth,C=n.inChannels,O=n.inDepth,T=n.inHeight,I=n.inWidth,R=n.outChannels,A=n.outDepth,P=n.outHeight,N=n.outWidth,D=n.strideDepth,M=n.strideHeight,j=n.strideWidth,F=_-1-n.padInfo.front,L=k-1-n.padInfo.top,B=S-1-n.padInfo.left,V=0;V<E;++V)for(var U=0;U<C;++U)for(var z=0;z<O;++z)for(var W=z-F,q=Math.max(0,Math.ceil(W/D)),H=Math.min(A,(_+W)/D),G=0;G<T;++G)for(var K=G-L,X=Math.max(0,Math.ceil(K/M)),$=Math.min(P,(k+K)/M),Y=0;Y<I;++Y){for(var Q=Y-B,J=Math.max(0,Math.ceil(Q/j)),Z=Math.min(N,(S+Q)/j),tt=0,et=q;et<H;++et)for(var nt=et*D-W,rt=X;rt<$;++rt)for(var it=rt*M-K,ot=J;ot<Z;++ot)for(var at=h*V+d*et+p*rt+v*ot,st=y*(_-1-nt)+b*(k-1-it)+w*(S-1-(ot*j-Q))+x*U,ut=0;ut<R;++ut)tt+=l[at+ut]*g[st+ut];i[a*V+s*z+u*G+c*Y+U]=tt}return r.toTensor()},e.prototype.conv2dDerFilter=function(t,e,n){Hl([t,e],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,u=Hn(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,f=this.bufferSync(t),h=this.bufferSync(e),d=0;d<o;++d)for(var p=Math.max(0,Math.ceil((l-d)/r)),v=Math.min(n.outHeight,(n.inHeight+l-d)/r),g=0;g<a;++g)for(var m=Math.max(0,Math.ceil((c-g)/i)),y=Math.min(n.outWidth,(n.inWidth+c-g)/i),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var x=0,E=0;E<n.batchSize;++E)for(var _=p;_<v;++_)for(var k=d+_*r-l,S=m;S<y;++S){var C=g+S*i-c;x+=s?f.get(E,k,C,b)*h.get(E,_,S,w):f.get(E,b,k,C)*h.get(E,w,_,S)}u.set(x,d,g,b,w)}return u.toTensor()},e.prototype.conv3dDerFilter=function(t,e,n){for(var r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=Hn(n.filterShape,"float32"),l=c.values,f=c.strides,h=f[0],d=f[1],p=f[2],v=f[3],g=this.readSync(e.dataId),m=e.strides,y=m[0],b=m[1],w=m[2],x=m[3],E=this.readSync(t.dataId),_=t.strides,k=_[0],S=_[1],C=_[2],O=_[3],T=n.padInfo.front,I=n.padInfo.left,R=n.padInfo.top,A=0;A<a;++A)for(var P=Math.max(0,Math.ceil((T-A)/r)),N=Math.min(n.outDepth,(n.inDepth+T-A)/r),D=A*h,M=0;M<s;++M)for(var j=Math.max(0,Math.ceil((R-M)/i)),F=Math.min(n.outHeight,(n.inHeight+R-M)/i),L=M*d+D,B=0;B<u;++B)for(var V=Math.max(0,Math.ceil((I-B)/o)),U=Math.min(n.outWidth,(n.inWidth+I-B)/o),z=B*p+L,W=0;W<n.inChannels;++W)for(var q=W*v+z,H=0;H<n.outChannels;++H){for(var G=0,K=0;K<n.batchSize;++K)for(var X=K*k,$=K*y,Y=P;Y<N;++Y)for(var Q=(A+Y*r-T)*S+X,J=Y*b+$,Z=j;Z<F;++Z)for(var tt=(M+Z*i-R)*C+Q,et=Z*w+J,nt=V;nt<U;++nt){var rt=nt*x+et;G+=E[(B+nt*o-I)*O+tt+W]*g[rt+H]}l[q+H]=G}return c.toTensor()},e.prototype.fusedDepthwiseConv2D=function(t){var e=t.input,n=t.filter,r=t.convInfo,i=t.bias,o=t.activation,a=t.preluActivationWeights,s=this.depthwiseConv2D(e,n,r);return i&&(s=this.add(s,i)),o&&(s=Gl(this,s,o,a)),s},e.prototype.depthwiseConv2D=function(t,e,n){Hl([t,e],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=Hn(n.outShape,t.dtype),f=this.readSync(t.dataId),h=this.readSync(e.dataId),d=l.values,p=0;p<n.batchSize;++p)for(var v=p*t.strides[0],g=p*l.strides[0],m=0;m<n.outHeight;++m)for(var y=g+m*l.strides[1],b=m*n.strideHeight-s,w=0;w<r;++w){var x=b+w*o;if(!(x<0||x>=n.inHeight))for(var E=w*e.strides[0],_=v+x*t.strides[1],k=0;k<n.outWidth;++k)for(var S=y+k*l.strides[2],C=k*n.strideWidth-u,O=0;O<i;++O){var T=C+O*a;if(!(T<0||T>=n.inWidth))for(var I=E+O*e.strides[1],R=_+T*n.inChannels,A=S,P=I,N=0;N<n.inChannels;++N){for(var D=f[R+N],M=0;M<c;++M)d[A+M]+=D*h[P+M];A+=c,P+=c}}}return l.toTensor()},e.prototype.depthwiseConv2DDerInput=function(t,e,n){Hl([t,e],"depthwiseConv2DDerInput");for(var r=Hn(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],c=this.readSync(t.dataId),l=t.strides,f=l[0],h=l[1],d=l[2],p=this.readSync(e.dataId),v=e.strides,g=v[0],m=v[1],y=v[2],b=n.batchSize,w=n.filterHeight,x=n.filterWidth,E=n.inChannels,_=n.inHeight,k=n.inWidth,S=n.outChannels,C=n.outHeight,O=n.outWidth,T=n.strideHeight,I=n.strideWidth,R=w-1-n.padInfo.top,A=x-1-n.padInfo.left,P=S/E,N=0;N<b;++N)for(var D=0;D<E;++D)for(var M=0;M<_;++M)for(var j=M-R,F=Math.max(0,Math.ceil(j/T)),L=Math.min(C,(w+j)/T),B=0;B<k;++B){for(var V=B-A,U=Math.max(0,Math.ceil(V/I)),z=Math.min(O,(x+V)/I),W=0,q=F;q<L;++q)for(var H=q*T-j,G=U;G<z;++G)for(var K=f*N+h*q+d*G,X=g*(w-1-H)+m*(x-1-(G*I-V))+y*D,$=0;$<P;++$)W+=c[K+(D*P+$)]*p[X+$];i[a*N+s*M+u*B+D]=W}return r.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(t,e,n){Hl([t,e],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=Hn(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,f=this.bufferSync(t),h=this.bufferSync(e),d=0;d<o;++d)for(var p=Math.max(0,Math.ceil((c-d)/r)),v=Math.min(n.outHeight,(n.inHeight+c-d)/r),g=0;g<a;++g)for(var m=Math.max(0,Math.ceil((u-g)/i)),y=Math.min(n.outWidth,(n.inWidth+u-g)/i),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/l),x=b%l,E=0,_=0;_<n.batchSize;++_)for(var k=p;k<v;++k)for(var S=d+k*r-c,C=m;C<y;++C){var O=g+C*i-u;E+=f.get(_,S,O,w)*h.get(_,k,C,b)}s.set(E,d,g,w,x)}return s.toTensor()},e.prototype.tile=function(t,e){return Hl(t,"tile"),bi(this.bufferSync(t),e)},e.prototype.pad=function(t,e,n){Hl(t,"pad");var r=e.map(function(e,n){return e[0]+t.shape[n]+e[1]}),i=e.map(function(t){return t[0]}),o=this.bufferSync(t),a=Hn(r,t.dtype);0!==n&&a.values.fill(n);for(var s=0;s<t.size;s++){var u=o.indexToLoc(s),c=u.map(function(t,e){return t+i[e]});a.set.apply(a,[o.get.apply(o,u)].concat(c))}return a.toTensor()},e.prototype.transpose=function(t,e){Hl(t,"transpose");for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[e[r]];var i=this.readSync(t.dataId),o=Hn(n,t.dtype),a=this.bufferSync(t);for(r=0;r<t.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[e[c]];var l=o.locToIndex(u);o.values[l]=i[r]}return o.toTensor()},e.prototype.gather=function(t,e,n){Hl([t,e],"gather");var r=t.shape.slice(),i=this.readSync(e.dataId);r[n]=i.length;for(var o=Hn(r,t.dtype),a=this.bufferSync(t),s=0;s<o.size;++s){var u=o.indexToLoc(s),c=u.slice();c[n]=i[u[n]];var l=a.locToIndex(c);o.values[s]=a.values[l]}return o.toTensor()},e.prototype.batchToSpaceND=function(t,e,n){Hl([t],"batchToSpaceND");var r=e.reduce(function(t,e){return t*e}),i=yr(t.shape,e,r),o=br(i.length,e.length),a=wr(t.shape,e,r),s=xr(n,e.length),u=Er(a,n,e.length);return t.reshape(i).transpose(o).reshape(a).slice(s,u)},e.prototype.spaceToBatchND=function(t,e,n){Hl([t],"spaceToBatchND");var r=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,n);for(var o=1+e.length;o<t.shape.length;++o)i.push([0,0]);var a=t.pad(i),s=yr(a.shape,e,r,!1),u=br(s.length,e.length,!1),c=wr(a.shape,e,r,!1);return a.reshape(s).transpose(u).reshape(c)},e.prototype.pool=function(t,e,n){Hl(t,"pool");for(var r=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,l=e.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(t.dataId),d=Hn(e.outShape,t.dtype),p=d.values,v=e.outShape[1]*e.outShape[2]*e.outShape[3],g=e.outShape[2]*e.outShape[3],m=e.outShape[3],y=0;y<e.batchSize;++y)for(var b=y*v,w=y*t.strides[0],x=0;x<e.inChannels;++x)for(var E=0;E<e.outHeight;++E)for(var _=E*r-c,k=Math.max(0,_),S=Math.min(e.inHeight,s+_),C=b+E*g,O=0;O<e.outWidth;++O){for(var T=O*i-l,I=Math.max(0,T),R=Math.min(e.inWidth,u+T),A=f,P=0,N=0,D=k;D<S;D+=o){for(var M=w+D*t.strides[1],j=I;j<R;j+=a){var F=h[M+j*t.strides[2]+x];"max"===n&&F>A?A=F:"avg"===n&&(P+=F,N++)}if(isNaN(A))break}p[C+O*m+x]="avg"===n?P/N:A}return d.toTensor()},e.prototype.maxPool=function(t,e){return this.pool(t,e,"max")},e.prototype.maxPoolPositions=function(t,e){for(var n=Hn(e.outShape,"int32"),r=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,l=e.padInfo.left,f=this.bufferSync(t),h=0;h<e.batchSize;++h)for(var d=0;d<e.inChannels;++d)for(var p=0;p<e.outHeight;++p){for(var v=p*r-c,g=v;g<0;)g+=o;for(var m=Math.min(e.inHeight,s+v),y=0;y<e.outWidth;++y){for(var b=y*i-l,w=b;w<0;)w+=a;for(var x=Math.min(e.inWidth,u+b),E=Number.NEGATIVE_INFINITY,_=-1,k=g;k<m;k+=o)for(var S=k-v,C=w;C<x;C+=a){var O=C-b,T=f.get(h,k,C,d);T>E&&(E=T,_=S*u+O)}n.set(_,h,p,y,d)}}return n.toTensor()},e.prototype.maxPoolBackprop=function(t,e,n,r){Hl([e,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(e,r),o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,l=r.effectiveFilterWidth,f=l-1-r.padInfo.left,h=c-1-r.padInfo.top,d=Hn(e.shape,"float32"),p=this.bufferSync(i),v=this.bufferSync(t),g=0;g<r.batchSize;++g)for(var m=0;m<r.inChannels;++m)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-h,x=b-f,E=0,_=0;_<c;_+=s){var k=(w+_)/o;if(!(k<0||k>=r.outHeight||Math.floor(k)!==k))for(var S=0;S<l;S+=u){var C=(x+S)/a;if(!(C<0||C>=r.outWidth||Math.floor(C)!==C)){var O=c*l-1-p.get(g,k,C,m)===_*l+S?1:0;0!==O&&(E+=v.get(g,k,C,m)*O)}}}d.set(E,g,y,b,m)}return d.toTensor()},e.prototype.avgPoolBackprop=function(t,e,n){Hl([t,e],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,f=l-1-n.padInfo.left,h=c-1-n.padInfo.top,d=Hn(e.shape,"float32"),p=1/(o*a),v=this.bufferSync(t),g=0;g<n.batchSize;++g)for(var m=0;m<n.inChannels;++m)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-h,x=b-f,E=0,_=0;_<c;_+=s){var k=(w+_)/r;if(!(k<0||k>=n.outHeight||Math.floor(k)!==k))for(var S=0;S<l;S+=u){var C=(x+S)/i;C<0||C>=n.outWidth||Math.floor(C)!==C||(E+=v.get(g,k,C,m))}}d.set(E*p,g,y,b,m)}return d.toTensor()},e.prototype.pool3d=function(t,e,n){Hl(t,"pool3d");for(var r=e.strideDepth,i=e.strideHeight,o=e.strideWidth,a=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left,v="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(t.dataId),m=Hn(e.outShape,t.dtype),y=m.values,b=e.outShape[1]*e.outShape[2]*e.outShape[3]*e.outShape[4],w=e.outShape[2]*e.outShape[3]*e.outShape[4],x=e.outShape[3]*e.outShape[4],E=e.outShape[4],_=0;_<e.batchSize;++_)for(var k=_*b,S=_*t.strides[0],C=0;C<e.inChannels;++C)for(var O=0;O<e.outDepth;++O){for(var T=O*r-h,I=T;I<0;)I+=a;for(var R=Math.min(e.inDepth,c+T),A=k+O*w,P=0;P<e.outHeight;++P){for(var N=P*i-d,D=N;D<0;)D+=s;for(var M=Math.min(e.inHeight,l+N),j=A+P*x,F=0;F<e.outWidth;++F){for(var L=F*o-p,B=L;B<0;)B+=u;for(var V=Math.min(e.inWidth,f+L),U=j+F*E,z=v,W=0,q=0,H=I;H<R;H+=a){for(var G=S+H*t.strides[1],K=D;K<M;K+=s){for(var X=G+K*t.strides[2],$=B;$<V;$+=u){var Y=g[X+$*t.strides[3]+C];if("max"===n&&Y>z?z=Y:"avg"===n&&(W+=Y,q++),isNaN(z))break}if(isNaN(z))break}if(isNaN(z))break}y[U+C]="avg"===n?W/q:z}}}return m.toTensor()},e.prototype.avgPool3d=function(t,e){return Hl(t,"avgPool3d"),this.pool3d(t,e,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(t,e,n){Hl([t,e],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,f=n.dilationWidth,h=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,v=h-1-n.padInfo.front,g=p-1-n.padInfo.left,m=d-1-n.padInfo.top,y=Hn(e.shape,"float32"),b=1/(a*s*u),w=this.bufferSync(t),x=0;x<n.batchSize;++x)for(var E=0;E<n.inChannels;++E)for(var _=0;_<n.inDepth;++_)for(var k=0;k<n.inHeight;++k)for(var S=0;S<n.inWidth;++S){for(var C=_-v,O=k-m,T=S-g,I=0,R=0;R<h;R+=c){var A=(C+R)/r;if(!(A<0||A>=n.outDepth||Math.floor(A)!==A))for(var P=0;P<d;P+=l){var N=(O+P)/i;if(!(N<0||N>=n.outHeight||Math.floor(N)!==N))for(var D=0;D<p;D+=f){var M=(T+D)/o;M<0||M>=n.outWidth||Math.floor(M)!==M||(I+=w.get(x,A,N,M,E))}}}y.set(I*b,x,_,k,S,E)}return y.toTensor()},e.prototype.maxPool3d=function(t,e){return Hl(t,"maxPool3d"),this.pool3d(t,e,"max").toFloat()},e.prototype.maxPool3dPositions=function(t,e){for(var n=Hn(e.outShape,"int32"),r=e.strideDepth,i=e.strideHeight,o=e.strideWidth,a=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left,v=this.bufferSync(t),g=0;g<e.batchSize;++g)for(var m=0;m<e.inChannels;++m)for(var y=0;y<e.outDepth;++y){for(var b=y*r-h,w=b;w<0;)w+=a;for(var x=Math.min(e.inDepth,c+b),E=0;E<e.outHeight;++E){for(var _=E*i-d,k=_;k<0;)k+=s;for(var S=Math.min(e.inHeight,l+_),C=0;C<e.outWidth;++C){for(var O=C*o-p,T=O;T<0;)T+=u;for(var I=Math.min(e.inWidth,f+O),R=Number.NEGATIVE_INFINITY,A=-1,P=w;P<x;P+=a)for(var N=P-b,D=k;D<S;D+=s)for(var M=D-_,j=T;j<I;j+=u){var F=j-O,L=v.get(g,P,D,j,m);L>=R&&(R=L,A=N*l*f+M*l+F)}n.set(A,g,y,E,C,m)}}}return n.toTensor()},e.prototype.maxPool3dBackprop=function(t,e,n,r){Hl([e,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(e,r),o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,f=r.effectiveFilterDepth,h=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=f-1-r.padInfo.front,v=d-1-r.padInfo.left,g=h-1-r.padInfo.top,m=Hn(e.shape,"float32"),y=this.bufferSync(i),b=this.bufferSync(t),w=0;w<r.batchSize;++w)for(var x=0;x<r.inChannels;++x)for(var E=0;E<r.inDepth;++E)for(var _=0;_<r.inHeight;++_)for(var k=0;k<r.inWidth;++k){for(var S=E-p,C=_-g,O=k-v,T=0,I=0;I<f;I+=u){var R=(S+I)/o;if(!(R<0||R>=r.outDepth||Math.floor(R)!==R))for(var A=0;A<h;A+=c){var P=(C+A)/a;if(!(P<0||P>=r.outHeight||Math.floor(P)!==P))for(var N=0;N<d;N+=l){var D=(O+N)/s;if(!(D<0||D>=r.outWidth||Math.floor(D)!==D)){var M=f*h*d-1-y.get(w,R,P,D,x)===I*h*d+A*d+N?1:0;0!==M&&(T+=b.get(w,R,P,D,x)*M)}}}}m.set(T,w,E,_,k,x)}return m.toTensor()},e.prototype.cast=function(t,e){return ri(t,e,this)},e.prototype.reshape=function(t,e){return ii(t,e)},e.prototype.avgPool=function(t,e){return Hl(t,"avgPool"),this.pool(t,e,"avg").toFloat()},e.prototype.resizeBilinear=function(t,e,n,r){Hl(t,"resizeBilinear");for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=i[3],c=this.readSync(t.dataId),l=new Float32Array(T([o,e,n,u])),f=[r&&e>1?a-1:a,r&&n>1?s-1:s],h=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=0,p=f[0]/h[0],v=f[1]/h[1],g=0;g<o;g++)for(var m=0;m<e;m++)for(var y=p*m,b=Math.floor(y),w=y-b,x=Math.min(a-1,Math.ceil(y)),E=g*t.strides[0]+b*t.strides[1],_=g*t.strides[0]+x*t.strides[1],k=0;k<n;k++)for(var S=v*k,C=Math.floor(S),O=S-C,I=Math.min(s-1,Math.ceil(S)),R=E+C*t.strides[2],A=_+C*t.strides[2],P=E+I*t.strides[2],N=_+I*t.strides[2],D=0;D<u;D++){var M=c[R+D],j=c[A+D],F=M+(c[P+D]-M)*O,L=F+(j+(c[N+D]-j)*O-F)*w;l[d++]=L}return pn(l,[o,e,n,u])},e.prototype.resizeBilinearBackprop=function(t,e,n){Hl([t,e],"resizeBilinearBackprop");for(var r=e.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=t.shape,c=u[1],l=u[2],f=new Float32Array(i*o*a*s),h=[n&&c>1?o-1:o,n&&l>1?a-1:a],d=[n&&c>1?c-1:c,n&&l>1?l-1:l],p=h[0]/d[0],v=h[1]/d[1],g=this.readSync(t.dataId),m=0,y=0;y<i;y++)for(var b=y*e.strides[0],w=0;w<c;w++)for(var x=w*p,E=Math.floor(x),_=Math.min(Math.ceil(x),o-1),k=b+E*e.strides[1],S=b+_*e.strides[1],C=x-E,O=1-C,T=0;T<l;T++)for(var I=T*v,R=Math.floor(I),A=Math.min(Math.ceil(I),a-1),P=I-R,N=1-P,D=k+R*e.strides[2],M=k+A*e.strides[2],j=S+R*e.strides[2],F=S+A*e.strides[2],L=O*N,B=O*P,V=C*N,U=C*P,z=0;z<s;z++){var W=g[m++];f[D+z]+=W*L,f[M+z]+=W*B,f[j+z]+=W*V,f[F+z]+=W*U}return wn(f,[i,a,o,s],e.dtype)},e.prototype.resizeNearestNeighbor=function(t,e,n,r){Hl(t,"resizeNearestNeighbor");for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=i[3],c=this.readSync(t.dataId),l=new Float32Array(o*e*n*u),f=[r&&e>1?a-1:a,r&&n>1?s-1:s],h=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=f[0]/h[0],p=f[1]/h[1],v=0,g=0;g<o;g++)for(var m=g*t.strides[0],y=0;y<e;y++)for(var b=d*y,w=m+Math.min(a-1,r?Math.round(b):Math.floor(b))*t.strides[1],x=0;x<n;x++)for(var E=p*x,_=w+Math.min(s-1,r?Math.round(E):Math.floor(E))*t.strides[2],k=0;k<u;k++){var S=c[_+k];l[v++]=S}return pn(l,[o,e,n,u],t.dtype)},e.prototype.resizeNearestNeighborBackprop=function(t,e,n){Hl([t,e],"resizeNearestNeighborBackprop");for(var r=e.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=t.shape,c=u[1],l=u[2],f=new Float32Array(i*o*a*s),h=this.readSync(t.dataId),d=[n&&c>1?o-1:o,n&&l>1?a-1:a],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],v=d[0]/p[0],g=d[1]/p[1],m=1/v,y=1/g,b=2*Math.ceil(m)+2,w=2*Math.ceil(y)+2,x=0;x<i;x++)for(var E=x*e.strides[0],_=0;_<o;_++)for(var k=E+_*e.strides[1],S=Math.floor(_*m),C=Math.floor(S-b/2),O=0;O<a;O++)for(var T=k+O*e.strides[2],I=Math.floor(O*y),R=Math.floor(I-w/2),A=0;A<s;A++){for(var P=0,N=0;N<b;N++){var D=N+C;if(!(D<0||D>=c)){var M=E+D*t.strides[1],j=D*v;if(_===Math.min(o-1,n?Math.round(j):Math.floor(j)))for(var F=0;F<w;F++){var L=F+R;if(!(L<0||L>=l)){var B=M+L*t.strides[2],V=L*g;O===Math.min(a-1,n?Math.round(V):Math.floor(V))&&(P+=h[B+A])}}}}f[T+A]=P}return wn(f,e.shape,e.dtype)},e.prototype.batchNormalization=function(t,e,n,r,i,o){Hl([t,e,n,i,o],"batchNorm");for(var a=this.readSync(t.dataId),s=this.readSync(e.dataId),u=this.readSync(n.dataId),c=i?this.readSync(i.dataId):new Float32Array([1]),l=o?this.readSync(o.dataId):new Float32Array([0]),f=new Float32Array(a.length),h=l.length,d=c.length,p=u.length,v=s.length,g=0,m=0,y=0,b=0,w=0;w<a.length;++w)f[w]=l[g++]+(a[w]-s[m++])*c[y++]/Math.sqrt(u[b++]+r),g>=h&&(g=0),m>=v&&(m=0),y>=d&&(y=0),b>=p&&(b=0);return wn(f,t.shape)},e.prototype.localResponseNormalization4D=function(t,e,n,r,i){Hl(t,"localResponseNormalization4D");var o=t.shape[3],a=o-1,s=this.readSync(t.dataId),u=t.size,c=new Float32Array(u);function l(t){for(var n=t%o,r=t-n+Math.max(0,n-e),i=t-n+Math.min(n+e,a),u=0;r<=i;r++){var c=s[r];u+=c*c}return u}for(var f=0;f<u;f++){var h=l(f),d=s[f]*Math.pow(n+r*h,-i);c[f]=d}return wn(c,t.shape)},e.prototype.LRNGrad=function(t,e,n,r,i,o,a){Hl(t,"LRNGrad");for(var s=t.shape[3],u=this.readSync(t.dataId),c=this.readSync(e.dataId),l=this.readSync(n.dataId),f=new Float32Array(t.size),h=t.size,d=0;d<h;d++){for(var p=d%s,v=d-p+Math.max(0,p-r),g=d-p+Math.min(s,p+r+1),m=0,y=v;y<g;y++)m+=Math.pow(c[y],2);for(m=o*m+i,y=v;y<g;y++){var b=-2*o*a*c[y]*l[d]/m;d===y&&(b+=Math.pow(m,-a)),b*=u[d],f[y]+=b}}return wn(f,t.shape)},e.prototype.multinomial=function(t,e,n,r){Hl(t,"multinomial");for(var i=e?t:Fr(t),o=i.shape[0],a=i.shape[1],s=En([o,n],"int32"),u=this.readSync(s.dataId),c=this.readSync(i.dataId),l=0;l<o;++l){var f=l*a,h=new Float32Array(a-1);h[0]=c[f];for(var d=1;d<h.length;++d)h[d]=h[d-1]+c[f+d];for(var p=Un(r.toString()),v=l*n,g=0;g<n;++g){var m=p();u[v+g]=h.length;for(var y=0;y<h.length;y++)if(m<h[y]){u[v+g]=y;break}}}return s},e.prototype.oneHot=function(t,e,n,r){Hl(t,"oneHot");var i=new Float32Array(t.size*e);i.fill(r);for(var o=this.readSync(t.dataId),a=0;a<t.size;++a)o[a]>=0&&o[a]<e&&(i[a*e+o[a]]=n);return yn(i,[t.size,e],"int32")},e.prototype.nonMaxSuppression=function(t,e,n,r,i){return Hl(t,"nonMaxSuppression"),hi(this.readSync(t.dataId),this.readSync(e.dataId),n,r,i)},e.prototype.fft=function(t){return this.fftBatch(t,!1)},e.prototype.ifft=function(t){return this.fftBatch(t,!0)},e.prototype.fftBatch=function(t,e){for(var n=t.shape[0],r=t.shape[1],i=Hn(t.shape,"float32"),o=Hn(t.shape,"float32"),a=hn(t).as2D(n,r),s=dn(t).as2D(n,r),u=0;u<n;u++)for(var c=a.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),f=fn(c,l),h=this.readSync(this.fftImpl(f,e).dataId),d=0;d<r;d++){var p=si(h,d);i.values[u*r+d]=p.real,o.values[u*r+d]=p.imag}return fn(i.toTensor(),o.toTensor()).as2D(n,r)},e.prototype.fftImpl=function(t,e){var n=t.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,e).as2D(t.shape[0],t.shape[1]);return e&&(i=fn(hn(i).div(gn(r)),dn(i).div(gn(r)))),i}var o=this.readSync(t.dataId),a=function(t){for(var e=new Float32Array(t.length/2),n=new Float32Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}(this.fourierTransformByMatmul(o,r,e));return fn(a.real,a.imag).as2D(t.shape[0],t.shape[1])},e.prototype.isExponentOf2=function(t){return 0==(t&t-1)},e.prototype.fftRadix2=function(t,e,n){if(1===e)return t;var r=this.readSync(t.dataId),i=e/2,o=function(t){for(var e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e),i=0;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}(r),a=fn(o.real,o.imag).as1D(),s=function(t){for(var e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e),i=2;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}(r),u=fn(s.real,s.imag).as1D();a=this.fftRadix2(a,i,n),u=this.fftRadix2(u,i,n);var c=function(t,e){for(var n=new Float32Array(t/2),r=new Float32Array(t/2),i=0;i<Math.ceil(t/2);i++){var o=(e?2:-2)*Math.PI*(i/t);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}(e,n),l=fn(c.real,c.imag).mul(u),f=a.add(l),h=a.sub(l),d=hn(f).concat(hn(h)),p=dn(f).concat(dn(h));return fn(d,p).as1D()},e.prototype.fourierTransformByMatmul=function(t,e,n){for(var r=new Float32Array(2*e),i=0;i<e;i++){for(var o=0,a=0,s=0;s<e;s++){var u=ci(i*s,e,n),c=si(t,s);o+=c.real*u.real-c.imag*u.imag,a+=c.real*u.imag+c.imag*u.real}n&&(o/=e,a/=e),ui(r,o,a,i)}return r},e.prototype.depthToSpace=function(t,e,n){k("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),k(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e});for(var r=t.shape[0],i=t.shape[1],o=t.shape[2],a=t.shape[3],s=i*e,u=o*e,c=a/(e*e),l=this.readSync(t.dataId),f=new Float32Array(r*s*u*c),h=0,d=0;d<r;++d)for(var p=0;p<s;++p)for(var v=Math.floor(p/e),g=p%e,m=0;m<u;++m)for(var y=Math.floor(m/e),b=(g*e+m%e)*c,w=0;w<c;++w){var x=w+b+a*(y+o*(v+i*d));f[h++]=l[x]}return wn(f,[r,s,u,c])},e.prototype.broadcastedBinaryOp=function(t,e,n,r){var i=qr(t.shape,e.shape),o=Hn(i,n),a=this.readSync(t.dataId),s=this.readSync(e.dataId),u=zr(t.shape,i),c=zr(e.shape,i),l=o.values;if(u.length+c.length===0)for(var f=0;f<l.length;++f)l[f]=r(a[f%a.length],s[f%s.length]);else{var h=this.bufferSync(t),d=this.bufferSync(e),p=function(n){var i=o.indexToLoc(n),f=i.slice(-t.rank);u.forEach(function(t){return f[t]=0});var p=h.locToIndex(f),v=i.slice(-e.rank);c.forEach(function(t){return v[t]=0});var g=d.locToIndex(v);l[n]=r(a[p],s[g])};for(f=0;f<l.length;++f)p(f)}return o.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(t,e,n){var r=qr(t.shape,e.shape),i=Hn(r,"float32"),o=Hn(r,"float32"),a=this.readSync(t.dataId),s=this.readSync(e.dataId),u=zr(t.shape,r),c=zr(e.shape,r),l=i.values,f=o.values;if(u.length+c.length===0)for(var h=0;h<l.length;h++){var d=h%a.length,p=h%s.length,v=n(a[2*d],a[2*d+1],s[2*p],s[2*p+1]);l[h]=v.real,f[h]=v.imag}else{var g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),m=this.bufferSync(this.data.get(e.dataId).complexTensors.real),y=function(r){var o=i.indexToLoc(r),h=o.slice(-t.rank);u.forEach(function(t){return h[t]=0});var d=g.locToIndex(h),p=o.slice(-e.rank);c.forEach(function(t){return p[t]=0});var v=m.locToIndex(p),y=n(a[2*d],a[2*d+1],s[2*v],s[2*v+1]);l[r]=y.real,f[r]=y.imag};for(h=0;h<l.length;h++)y(h)}return this.complex(i.toTensor(),o.toTensor())},e.prototype.split=function(t,e,n){return yi(t,e,n)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(t,e,n,r,i,o){for(var a=t.shape,s=a[0],u=a[1],c=a[2],l=a[3],f=e.shape[0],h=r[0],d=r[1],p=Hn([f,h,d,l],"float32"),v=this.readSync(e.dataId),g=this.readSync(n.dataId),m=this.readSync(t.dataId),y=t.strides,b=p.strides,w=0;w<f;w++){var x=4*w,E=v[x],_=v[x+1],k=v[x+2],S=v[x+3],C=g[w];if(!(C>=s))for(var O=h>1?(k-E)*(u-1)/(h-1):0,T=d>1?(S-_)*(c-1)/(d-1):0,I=0;I<h;I++){var R=h>1?E*(u-1)+I*O:.5*(E+k)*(u-1);if(R<0||R>u-1)for(var A=0;A<d;A++)for(var P=0;P<l;P++){var N=P+A*b[2]+I*b[1]+w*b[0];p.values[N]=o}else if("bilinear"===i){var D=Math.floor(R),M=Math.ceil(R),j=R-D;for(A=0;A<d;A++)if((H=d>1?_*(c-1)+A*T:.5*(_+S)*(c-1))<0||H>c-1)for(P=0;P<l;P++)N=P+A*b[2]+I*b[1]+w*b[0],p.values[N]=o;else{var F=Math.floor(H),L=Math.ceil(H),B=H-F;for(P=0;P<l;P++){var V=m[N=P+F*y[2]+D*y[1]+C*y[0]],U=m[N=P+L*y[2]+D*y[1]+C*y[0]],z=m[N=P+F*y[2]+M*y[1]+C*y[0]],W=V+(U-V)*B,q=z+(m[N=P+L*y[2]+M*y[1]+C*y[0]]-z)*B;N=P+A*b[2]+I*b[1]+w*b[0],p.values[N]=W+(q-W)*j}}}else for(A=0;A<d;++A){var H;if((H=d>1?_*(c-1)+A*T:.5*(_+S)*(c-1))<0||H>c-1)for(P=0;P<l;P++)N=P+A*b[2]+I*b[1]+w*b[0],p.values[N]=o;else{var G=Math.round(H),K=Math.round(R);for(P=0;P<l;P++){var X=P+G*y[2]+K*y[1]+C*y[0],$=P+A*b[2]+I*b[1]+w*b[0];p.values[$]=m[X]}}}}}return p.toTensor()},e.prototype.sparseToDense=function(t,e,n,r){var i=Tr(0,t,n),o=i.sliceRank,a=i.numUpdates,s=i.sliceSize,u=i.strides,c=i.outputSize;return this.scatter(t,e,n,c,s,a,o,u,r,!1)},e.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],i=_r(t,e),o=i[0],a=i[1],s=i[2],u=i[3];if(0===a)return pn([],o,t.dtype);for(var c=new mt([a,s],t.dtype),l=this.readSync(e.dataId),f=this.readSync(t.dataId),h=0;h<a;h++){for(var d=[],p=0,v=0;v<r;v++){var g=l[h*r+v];p+=g*u[v],d.push(g)}if(p<0||p>=t.size/s)throw new Error("Invalid indices: "+d+" does not index into "+t.shape);for(var m=0;m<s;m++)c.values[h*s+m]=f[p*s+m]}return c.toTensor().reshape(o)},e.prototype.scatterND=function(t,e,n){var r=Tr(0,t,n),i=r.sliceRank,o=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=gn(0);return this.scatter(t,e,n,u,a,o,i,s,c,!0)},e.prototype.fill=function(t,e,n){var r=B(n=n||$(e),T(t));return r.fill(e),Lt.makeTensor(r,t,n,this)},e.prototype.onesLike=function(t){if("string"===t.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){var e=B(t.dtype,T(t.shape));return this.makeOutput(e,t.shape,t.dtype)},e.prototype.linspace=function(t,e,n){return oi(t,e,n)},e.prototype.scatter=function(t,e,n,r,i,o,a,s,u,c){var l=[r/i,i],f=this.readSync(t.dataId),h=this.readSync(e.dataId);if(0===r)return pn([],n,e.dtype);var d=new mt(l,e.dtype);d.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<o;p++){for(var v=[],g=0,m=0;m<a;m++){var y=f[p*a+m];v.push(y),g+=y*s[m]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+v+" does not index into "+n);for(var b=0;b<i;b++)c?d.values[g*i+b]+=h[p*i+b]:d.values[g*i+b]=0===e.rank?h[0]:h[p*i+b]}return d.toTensor().reshape(n)},e}(Vr);Lt.registerBackend("cpu",function(){return new Kl},1);for(var Xl=0,$l=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,i=e,o=i.boxes,a=i.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,h=n;Hl(o,"NonMaxSuppressionWithScore");var d=di(h.data.get(o.dataId).values,h.data.get(a.dataId).values,u,c,l,f);return[d.selectedIndices,d.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,i=n;Hl(r,"square");for(var o=i.data.get(r.dataId).values,a=new Float32Array(o.length),s=0;s<o.length;++s){var u=o[s];a[s]=u*u}return{dataId:i.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:as,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,i=r.a,o=r.b,a=n;Hl([i,o],as);var s=a.data.get(i.dataId).values,u=a.data.get(o.dataId).values,c=function(t,e,n,r,i,o){var a=qr(t,e),s=a.length,u=J(a),c=L(i,T(a)),l=t.length,f=e.length,h=J(t),d=J(e),p=zr(t,a),v=zr(e,a);if(p.length+v.length===0)for(var g=0;g<c.length;++g)c[g]=o(n[g%n.length],r[g%r.length]);else{var m=function(t){var e=ut(t,s,u),i=e.slice(-l);p.forEach(function(t){return i[t]=0});var a=st(i,l,h),g=e.slice(-f);v.forEach(function(t){return g[t]=0});var m=st(g,f,d);c[t]=o(n[a],r[m])};for(g=0;g<c.length;++g)m(g)}return[c,a]}(i.shape,o.shape,s,u,i.dtype,function(t,e){var n=t-e;return n*n}),l=c[0],f=c[1];return{dataId:a.write(l,f,i.dtype),shape:f,dtype:i.dtype}}}];Xl<$l.length;Xl++)m($l[Xl]);for(var Yl,Ql=function(t){this.variableNames=["A"];var e=Oi(),n=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+e.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Jl=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=Oi(),n=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+e.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+e.output+" = result;\n      }\n    "},Zl=0,tf=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,i=e.pixels,o=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,u=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],c=u[0],l=u[1],h=[l,c],d=[l,c,o];(s||a)&&(null==Yl&&(Yl=document.createElement("canvas").getContext("2d")),Yl.canvas.width=c,Yl.canvas.height=l,Yl.drawImage(i,0,0,c,l),i=Yl.canvas);var p=n.makeTensorInfo(h,"int32");n.texData.get(p.dataId).usage=zt.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),i);var v=f().getBool("WEBGL_PACK")?new Jl(d):new Ql(d),g=n.runWebGLProgram(v,[p],"int32");return n.disposeData(p.dataId),g}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;Xe("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=e,o=i.boxes,a=i.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,h=n,d=di(h.readSync(o.dataId),h.readSync(a.dataId),u,c,l,f);return[d.selectedIndices,d.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,i=n,o=new ja(r.shape,"return x * x;");return i.runWebGLProgram(o,[r],r.dtype)}},{kernelName:as,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,i=r.a,o=r.b,a=n,s=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zi("return (a - b) * (a - b);",i.shape,o.shape):new Qi("return (a - b) * (a - b);",i.shape,o.shape);return a.compileAndRun(s,[i,o])}}];Zl<tf.length;Zl++)m(tf[Zl]);for(var ef=0,nf=[{kernelName:"Square",gradFunc:function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().mul(2))}}}},{kernelName:as,gradFunc:function(t,e){var n=e[0],r=e[1],i=gn(2);return{a:function(){return Eu(t,Eu(i,Ou(n,r)))},b:function(){return Eu(t,Eu(i,Ou(r,n)))}}}}];ef<nf.length;ef++)y(nf[ef]);var rf=function(){function t(){}return t.prototype.fetch=function(t,e){return fetch(t,e)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Browser's encoder only supports utf-8, but got "+e);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},t.prototype.decode=function(t,e){return new TextDecoder(e).decode(t)},t}();f().get("IS_BROWSER")&&f().setPlatform("browser",new rf);var of,af=function(){function t(){this.util=n(269),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(t,e){return null!=f().global.fetch?f().global.fetch(t,e):(null==of&&(of=n(268)),of(t,e))},t.prototype.now=function(){var t=r.hrtime();return 1e3*t[0]+t[1]/1e6},t.prototype.encode=function(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Node built-in encoder only supports utf-8, but got "+e);return this.textEncoder.encode(t)},t.prototype.decode=function(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)},t}();f().get("IS_NODE")&&f().setPlatform("node",new af);var sf={float32:4,int32:4,uint16:2,uint8:1,bool:1},uf=4;function cf(t,e){for(var n={},r=0,i=function(e){var i=e.name,o=e.dtype,a=e.shape,s=T(a),u=void 0;if("quantization"in e){var c=e.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+e.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=sf[c.dtype],f=t.slice(r,r+s*l),h="uint8"===c.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===o)u=Float32Array.from(h,function(t){return t*c.scale+c.min});else{if("int32"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);u=Int32Array.from(h,function(t){return Math.round(t*c.scale+c.min)})}r+=s*l}else if("string"===o){var d=T(e.shape);u=[];for(var p=0;p<d;p++){var v=new Uint32Array(t.slice(r,r+uf))[0];r+=uf;var g=new Uint8Array(t.slice(r,r+v));u.push(g),r+=v}}else{var m=sf[o];if(f=t.slice(r,r+s*m),"float32"===o)u=new Float32Array(f);else if("int32"===o)u=new Int32Array(f);else{if("bool"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);u=new Uint8Array(f)}r+=s*m}n[i]=pn(u,a,o)},o=0,a=e;o<a.length;o++)i(a[o]);return n}function lf(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach(function(t){if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name)});var r=new Uint8Array(e),i=0;return n.forEach(function(t){r.set(new Uint8Array(t.buffer),i),i+=t.byteLength}),r.buffer}var ff="undefined"!=typeof i&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function hf(t){return ff?i.byteLength(t):new Blob([t]).size}function df(t){var e=0;t.forEach(function(t){e+=t.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t),r),r+=t.byteLength}),n.buffer}function pf(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function vf(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:hf(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:hf(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var gf=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,"load",n)},t.getHandlers=function(e,n,r){var i=[];return("load"===n?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach(function(t){var n=t(e,r);null!==n&&i.push(n)}),i},t}(),mf="://",yf=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){k(null!=e,function(){return"scheme must not be undefined or null."}),e.endsWith(mf)&&(e=e.slice(0,e.indexOf(mf))),k(e.length>0,function(){return"scheme must not be an empty string."});var r=t.getInstance();k(null==r.managers[e],function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function bf(t){if(-1===t.indexOf(mf))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+yf.getSchemes().join(","));return{scheme:t.split(mf)[0],path:t.split(mf)[1]}}function wf(t,e,n){return void 0===n&&(n=!1),u(this,void 0,void 0,function(){var r,i,o,a,s,u,l,f,h;return c(this,function(c){switch(c.label){case 0:return k(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),k((r=gf.getLoadHandlers(t)).length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),k(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."}),i=r[0],k((o=gf.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),k(o.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),a=o[0],s=bf(t).scheme,u=bf(t).path,l=s===bf(t).scheme,[4,i.load()];case 1:return f=c.sent(),n&&l?[4,yf.getManager(s).removeModel(u)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,a.save(f)];case 4:return h=c.sent(),!n||l?[3,6]:[4,yf.getManager(s).removeModel(u)];case 5:c.sent(),c.label=6;case 6:return[2,h.modelArtifactsInfo]}})})}var xf="models_store",Ef="model_info_store";function _f(){if(!f().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function kf(t){var e=t.result;e.createObjectStore(xf,{keyPath:"modelPath"}),e.createObjectStore(Ef,{keyPath:"modelPath"})}var Sf=function(){function t(t){if(this.indexedDB=_f(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},t.prototype.load=function(){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(t,e){var n=this;return new Promise(function(t,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return kf(i)},i.onsuccess=function(){var o=i.result;if(null==e){var a=o.transaction(xf,"readonly"),s=a.objectStore(xf).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));t(s.result.modelArtifacts)},s.onerror=function(t){return o.close(),r(s.error)},a.oncomplete=function(){return o.close()}}else{var u,c=vf(e),l=o.transaction(Ef,"readwrite"),f=l.objectStore(Ef),h=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});h.onsuccess=function(){var i=(u=o.transaction(xf,"readwrite")).objectStore(xf).put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:c});i.onsuccess=function(){return t({modelArtifactsInfo:c})},i.onerror=function(t){var e=(f=l.objectStore(Ef)).delete(n.modelPath);e.onsuccess=function(){return o.close(),r(i.error)},e.onerror=function(t){return o.close(),r(i.error)}}},h.onerror=function(t){return o.close(),r(h.error)},l.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},i.onerror=function(t){return r(i.error)}})},t.URL_SCHEME="indexeddb://",t}(),Cf=function(t){return f().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Sf.URL_SCHEME)?(e=t.slice(Sf.URL_SCHEME.length),new Sf(e)):null;var e};gf.registerSaveRouter(Cf),gf.registerLoadRouter(Cf);var Of=function(){function t(){this.indexedDB=_f()}return t.prototype.listModels=function(){return u(this,void 0,void 0,function(){var t=this;return c(this,function(e){return[2,new Promise(function(e,n){var r=t.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return kf(r)},r.onsuccess=function(){var t=r.result,i=t.transaction(Ef,"readonly"),o=i.objectStore(Ef).getAll();o.onsuccess=function(){for(var t={},n=0,r=o.result;n<r.length;n++){var i=r[n];t[i.modelPath]=i.modelArtifactsInfo}e(t)},o.onerror=function(e){return t.close(),n(o.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}})]})})},t.prototype.removeModel=function(t){return u(this,void 0,void 0,function(){var e=this;return c(this,function(n){var r;return t=(r=t).startsWith(Sf.URL_SCHEME)?r.slice(Sf.URL_SCHEME.length):r,[2,new Promise(function(n,r){var i=e.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return kf(i)},i.onsuccess=function(){var e,o=i.result,a=o.transaction(Ef,"readwrite"),s=a.objectStore(Ef),u=s.get(t);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var i=s.delete(t),a=function(){var i=(e=o.transaction(xf,"readwrite")).objectStore(xf).delete(t);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(t){return r(u.error)}};i.onsuccess=a,i.onerror=function(t){return a(),o.close(),r(u.error)}},u.onerror=function(t){return o.close(),r(u.error)},a.oncomplete=function(){null==e?o.close():e.oncomplete=function(){return o.close()}}},i.onerror=function(t){return r(i.error)}})]})})},t}();if(f().getBool("IS_BROWSER"))try{yf.registerManager(Sf.URL_SCHEME,new Of)}catch(Ot){}var Tf="/",If="tensorflowjs_models",Rf="info",Af="model_topology",Pf="weight_specs",Nf="weight_data",Df="model_metadata";function Mf(t){return{info:[If,t,Rf].join(Tf),topology:[If,t,Af].join(Tf),weightSpecs:[If,t,Pf].join(Tf),weightData:[If,t,Nf].join(Tf),modelMetadata:[If,t,Df].join(Tf)}}function jf(t){var e=t.split(Tf);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(Tf)}var Ff=function(){function t(t){if(!f().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Mf(this.modelPath)}return t.prototype.save=function(t){return u(this,void 0,void 0,function(){var e,n,r;return c(this,function(o){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),r=vf(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(t){if(ff)return i.from(t).toString("base64");for(var e=new Uint8Array(t),n="",r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);return btoa(n)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(t){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]})})},t.prototype.load=function(){return u(this,void 0,void 0,function(){var t,e,n,r,o,a,s;return c(this,function(u){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=r,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(o),e.format=a.format,e.generatedBy=a.generatedBy,e.convertedBy=a.convertedBy,e.userDefinedMetadata=a.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(t){if(ff){var e=i.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(s),[2,e]})})},t.URL_SCHEME="localstorage://",t}(),Lf=function(t){return f().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ff.URL_SCHEME)?(e=t.slice(Ff.URL_SCHEME.length),new Ff(e)):null;var e};gf.registerSaveRouter(Lf),gf.registerLoadRouter(Lf);var Bf=function(){function t(){k(f().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),k("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return u(this,void 0,void 0,function(){var t,e,n,r,i,o;return c(this,function(a){for(t={},e=If+Tf,n=Tf+Rf,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(e)&&i.endsWith(n)&&(o=jf(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},t.prototype.removeModel=function(t){return u(this,void 0,void 0,function(){var e,n;return c(this,function(r){var i;if(t=(i=t).startsWith(Ff.URL_SCHEME)?i.slice(Ff.URL_SCHEME.length):i,e=Mf(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]})})},t}();if(f().getBool("IS_BROWSER"))try{yf.registerManager(Ff.URL_SCHEME,new Bf)}catch(Ot){}var Vf="model",Uf=".json",zf=".weights.bin";function Wf(t){return new Promise(function(t){return setTimeout(t)}).then(t)}var qf=function(){function t(e){if(!f().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=Vf),this.modelTopologyFileName=e+Uf,this.weightDataFileName=e+zf}return t.prototype.save=function(t){return u(this,void 0,void 0,function(){var e,n,r,i,o,a;return c(this,function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,[4,Wf(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),null==t.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=e,[4,Wf(function(){return a.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:vf(t)}]}})})},t.URL_SCHEME="downloads://",t}(),Hf=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return u(this,void 0,void 0,function(){var t,e,n=this;return c(this,function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise(function(r,i){var o=new FileReader;o.onload=function(o){var a=JSON.parse(o.target.result),s=a.modelTopology;if(null!=s){0===e.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,e)}catch(t){return void i(t)}var l=[],f=[],h=[];u.forEach(function(t){t.paths.forEach(function(t){f.push(t),h.push(null)}),l.push.apply(l,t.weights)}),u.forEach(function(t){t.paths.forEach(function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,i=f.indexOf(t);h[i]=n,-1===h.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:df(h),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},e.onerror=function(e){return i("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(c[t])})})}else i(new Error("weightManifest field is missing from file "+t.name))}else i(new Error("modelTopology field is missing from file "+t.name))},o.onerror=function(e){return i("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(t)})]})})},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map(function(t){return pf(t.name)}),i={},o=0,a=t;o<a.length;o++)a[o].paths.forEach(function(t){var o=pf(t);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: '"+o+"'");if(n.push(o),-1===r.indexOf(o))throw new Error("Weight file with basename '"+o+"' is not provided.");i[t]=e[r.indexOf(o)]});if(n.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+e.length+").");return i},t}();function Gf(t,e,n,r){!function(t){k(null!=t&&Array.isArray(t)&&t.length>0,function(){return"promises must be a none empty array"})}(t),function(t,e){k(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+t}),k(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+e}),k(e>=t,function(){return"startFraction must be no more than endFraction, but got startFraction "+t+" and endFraction "+e})}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(t.map(function(o){return o.then(function(o){var a=n+ ++i/t.length*(r-n);return e(a),o}),o}))}function Kf(t,e){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,h;return c(this,function(c){switch(c.label){case 0:return null==e&&(e={}),n=null==e.fetchFunc?f().platform.fetch:e.fetchFunc,r=t.map(function(t){return n(t,e.requestInit,{isBinary:!0})}),i=0,o=.5,null!=e.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=c.sent(),[3,4];case 2:return[4,Gf(r,e.onProgress,i,o)];case 3:a=c.sent(),c.label=4;case 4:return s=a.map(function(t){return t.arrayBuffer()}),u=.5,l=1,null!=e.onProgress?[3,6]:[4,Promise.all(s)];case 5:return h=c.sent(),[3,8];case 6:return[4,Gf(s,e.onProgress,u,l)];case 7:h=c.sent(),c.label=8;case 8:return[2,h]}})})}function Xf(t){var e=this;return function(n,r,i){return void 0===r&&(r=""),u(e,void 0,void 0,function(){var e,o,a,s,u,l,f,h,d,p;return c(this,function(c){switch(c.label){case 0:if(e=n.map(function(){return!1}),o={},a=null!=i?i.map(function(){return!1}):[],s=[],n.forEach(function(t,n){var r=0;t.weights.forEach(function(t){var u="quantization"in t?t.quantization.dtype:t.dtype,c=sf[u]*T(t.shape),l=function(){e[n]=!0,null==o[n]&&(o[n]=[]),o[n].push({manifestEntry:t,groupOffset:r,sizeBytes:c})};null!=i?i.forEach(function(e,n){e===t.name&&(l(),a[n]=!0)}):l(),s.push(t.name),r+=c})}),!a.every(function(t){return t}))throw u=i.filter(function(t,e){return!a[e]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=e.reduce(function(t,e,n){return e&&t.push(n),t},[]),f=[],l.forEach(function(t){n[t].paths.forEach(function(t){var e=r+(r.endsWith("/")?"":"/")+t;f.push(e)})}),[4,t(f)];case 1:return h=c.sent(),d={},p=0,l.forEach(function(t){for(var e=n[t].paths.length,r=0,i=0;i<e;i++)r+=h[p+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<e;c++){var l=new Uint8Array(h[p+c]);s.set(l,u),u+=l.byteLength}o[t].forEach(function(t){var e=cf(a.slice(t.groupOffset,t.groupOffset+t.sizeBytes),[t.manifestEntry]);for(var n in e)d[n]=e[n]}),p+=e}),[2,d]}})})}}gf.registerSaveRouter(function(t){return f().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(qf.URL_SCHEME)?function(t){return void 0===t&&(t="model"),new qf(t)}(t.slice(qf.URL_SCHEME.length)):null});var $f=function(){function t(t,e){if(this.DEFAULT_METHOD="POST",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,null!=e.fetchFunc?(k("function"==typeof e.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=e.fetchFunc):this.fetch=f().platform.fetch,k(null!=t&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&k(2===t.length,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,null!=e.requestInit&&null!=e.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{}}return t.prototype.save=function(t){return u(this,void 0,void 0,function(){var e,n,r,i;return c(this,function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:n},e.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,e)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:vf(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},t.prototype.load=function(){return u(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,l,f,h;return c(this,function(c){switch(c.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=c.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");c.label=2;case 2:return c.trys.push([2,4,,5]),[4,t.json()];case 3:return e=c.sent(),[3,5];case 4:throw c.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=e.modelTopology,i=e.weightsManifest,o=e.generatedBy,a=e.convertedBy,s=e.format,u=e.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:h=c.sent(),l=h[0],f=h[1],c.label=7;case 7:return[2,{modelTopology:r,weightSpecs:l,weightData:f,userDefinedMetadata:u,generatedBy:o,convertedBy:a,format:s}]}})})},t.prototype.loadWeights=function(t){return u(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,l,f,h;return c(this,function(c){switch(c.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,n=function(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("?");return[t.substring(0,e)+"/",n>e?t.substring(n):""]}(e),r=n[0],i=n[1],o=this.weightPathPrefix||r,a=[],s=0,u=t;s<u.length;s++)l=u[s],a.push.apply(a,l.weights);return f=[],t.forEach(function(t){t.paths.forEach(function(t){f.push(o+t+i)})}),[4,Kf(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return h=c.sent(),[2,[a,df(h)]]}})})},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function Yf(t){return null!=t.match($f.URL_SCHEME_REGEX)}var Qf=function(t,e){return"undefined"==typeof fetch?null:(Array.isArray(t)?t.every(function(t){return Yf(t)}):Yf(t))?Jf(t,{onProgress:e}):null};function Jf(t,e){return new $f(t,e)}gf.registerSaveRouter(Qf),gf.registerLoadRouter(Qf);var Zf,th=function(){function t(t){this.modelArtifacts=t}return t.prototype.load=function(){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.modelArtifacts]})})},t}(),eh=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.saveHandler(t)]})})},t}(),nh=Object.freeze({browserFiles:function(t){return new Hf(t)},browserHTTPRequest:function(t,e){return Jf(t,e)},concatenateArrayBuffers:df,decodeWeights:cf,encodeWeights:function(t,e){return u(this,void 0,void 0,function(){var n,r,i,o,a,s=this;return c(this,function(l){switch(l.label){case 0:for(n=[],r=[],i=Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t),o=function(o){var a=i[o],l=Array.isArray(t)?t[o].tensor:t[a];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+l.dtype);var f={name:a,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var h=new Promise(function(t){return u(s,void 0,void 0,function(){var e,n,r,i,o,a,s;return c(this,function(u){switch(u.label){case 0:return[4,l.bytes()];case 1:for(e=u.sent(),n=e.reduce(function(t,e){return t+e.length},0)+uf*e.length,r=new Uint8Array(n),i=0,o=0;o<e.length;o++)a=e[o],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,i),i+=uf,r.set(a,i),i+=a.length;return t(r),[2]}})})});r.push(h)}else r.push(l.data());null!=e&&(f.group=e),n.push(f)},a=0;a<i.length;++a)o(a);return[4,Promise.all(r)];case 1:return[2,{data:lf(l.sent()),specs:n}]}})})},fromMemory:function(t,e,n,r){return 1===arguments.length?null!=t.modelTopology||null!=t.weightSpecs?new th(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new th({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new th({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))},getLoadHandlers:function(t,e){return gf.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:vf,getSaveHandlers:function(t){return gf.getSaveHandlers(t)},http:Jf,isHTTPScheme:Yf,loadWeights:function(t,e,n,r){return void 0===e&&(e=""),u(this,void 0,void 0,function(){return c(this,function(i){return[2,Xf(function(t){return Kf(t,{requestInit:r})})(t,e,n)]})})},registerLoadRouter:function(t){return gf.registerLoadRouter(t)},registerSaveRouter:function(t){return gf.registerSaveRouter(t)},weightsLoaderFactory:Xf,withSaveHandler:function(t){return new eh(t)},copyModel:function(t,e){return u(this,void 0,void 0,function(){return c(this,function(n){return[2,wf(t,e,!1)]})})},listModels:function(){return u(this,void 0,void 0,function(){var t,e,n,r,i,o,a;return c(this,function(s){switch(s.label){case 0:t=yf.getSchemes(),e={},n=0,r=t,s.label=1;case 1:return n<r.length?(i=r[n],[4,yf.getManager(i).listModels()]):[3,4];case 2:for(a in o=s.sent())e[i+mf+a]=o[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},moveModel:function(t,e){return u(this,void 0,void 0,function(){return c(this,function(n){return[2,wf(t,e,!0)]})})},removeModel:function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(n){return e=bf(t),[2,yf.getManager(e.scheme).removeModel(e.path)]})})}}),rh=ln({confusionMatrix_:function(t,e,n){var r=Qe(t,"labels","confusionMatrix"),i=Qe(e,"predictions","confusionMatrix");k(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),k(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),k(1===i.rank,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),k(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),k(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var o=er(r.asType("int32"),n),a=er(i.asType("int32"),n);return o.transpose().matMul(a).asType("int32")}}),ih=(Object.freeze({confusionMatrix:rh}),ln({fromPixels_:function(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,o=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&t instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement)o=!0;else{if(null==t.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);a=!0}if(i&&i&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=v("FromPixels",Lt.backendName))return Lt.runKernel("FromPixels",{pixels:t},{numChannels:e});var s,u,c=i?[t.videoWidth,t.videoHeight]:[t.width,t.height],l=c[0],f=c[1];if(a?s=t.getContext("2d").getImageData(0,0,l,f).data:r||n?s=t.data:(o||i)&&(null==Zf&&(Zf=document.createElement("canvas").getContext("2d")),Zf.canvas.width=l,Zf.canvas.height=f,Zf.drawImage(t,0,0,l,f),s=Zf.getImageData(0,0,l,f).data),4===e)u=new Int32Array(s);else{var h=l*f;u=new Int32Array(h*e);for(var d=0;d<h;d++)for(var p=0;p<e;++p)u[d*e+p]=s[4*d+p]}return bn(u,[f,l,e],"int32")}})),oh=Object.freeze({toPixels:function(t,e){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,f,h,d,p,v,g,m,y,b,w,x,E,_,k,S;return c(this,function(c){switch(c.label){case 0:if(n=Qe(t,"img","toPixels"),t instanceof xt||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],o=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=c.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(f=c.sent(),h=f[0],d=f[1],p=h[0],v=d[0],u.dispose(),l.dispose(),"float32"===n.dtype){if(p<0||v>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+v+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||v>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+v+"].")}for(g="float32"===n.dtype?255:1,m=new Uint8ClampedArray(o*i*4),y=0;y<i*o;++y)b=void 0,w=void 0,x=void 0,E=void 0,1===a?(b=s[y]*g,w=s[y]*g,x=s[y]*g,E=255):3===a?(b=s[3*y]*g,w=s[3*y+1]*g,x=s[3*y+2]*g,E=255):4===a&&(b=s[4*y]*g,w=s[4*y+1]*g,x=s[4*y+2]*g,E=s[4*y+3]*g),m[0+(_=4*y)]=Math.round(b),m[_+1]=Math.round(w),m[_+2]=Math.round(x),m[_+3]=Math.round(E);return null!=e&&(e.width=o,e.height=i,k=e.getContext("2d"),S=new ImageData(m,o,i),k.putImageData(S,0,0)),n!==t&&n.dispose(),[2,m]}})})},fromPixels:ih}),ah=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}(),sh=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function uh(t){k(null!=t.className,function(){return"Class being registered does not have the static className property defined."}),k("string"==typeof t.className,function(){return"className is required to be a string, but got type "+typeof t.className}),k(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),sh.register(t)}Object.freeze({Serializable:ah,SerializationMap:sh,registerClass:uh});var ch=.001,lh=.1;function fh(){return 32===Lt.backend.floatPrecision()?ch:lh}function hh(t,e,n){var r=!0;if((W(t)||W(e))&&(r=!1),W(t)&&W(e)&&(r=!0),r){var i=t.constructor.name,o=e.constructor.name;if(i!==o)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+o)}if(Array.isArray(t)&&Array.isArray(e)){var a=$e(t),s=$e(e);if(!I(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var u=W(t)?t:O(t),c=W(e)?e:O(e);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+c.length+".\nActual:   "+u+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var f=u[l],h=c[l];if(!n(f,h))throw new Error("Arrays differ: actual["+l+"] = "+f+", expected["+l+"] = "+h+".\nActual:   "+u+".\nExpected: "+c+".")}}function dh(t,e,n){return!isFinite(t)&&!isFinite(e)||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}Object.freeze({TEST_EPSILON_FLOAT16:lh,expectArraysClose:function(t,e,n){return null==n&&(n=fh()),hh(t,e,function(t,e){return dh(t,e,n)})},testEpsilon:fh,expectPromiseToFail:function(t,e){t().then(function(){return e.fail()},function(){return e()})},expectArraysEqual:function(t,e){var n="string"==typeof e||"number"==typeof e||"boolean"==typeof e?[e]:e;return G(t)||G(t[0])||G(e)||G(e[0])?hh(t,n,function(t,e){return t==e}):hh(t,e,function(t,e){return dh(t,e,0)})},expectNumbersClose:function(t,e,n){if(null==n&&(n=fh()),!dh(t,e,n))throw new Error("Numbers differ: actual === "+t+", expected === "+e)},expectValuesInRange:function(t,e,n){for(var r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error("Value out of range:"+t[r]+" low: "+e+", high: "+n)},expectArrayBuffersEqual:function(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}}),Object.freeze({gpgpu_util:$o,webgl_util:We,forceHalfFloat:function(){f().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:is,setWebGLContext:Gt,GPGPUContext:Yo});var ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),i=r.value,o=r.grads;if(null!=n){var a=n.map(function(t){return{name:t.name,tensor:o[t.name]}});this.applyGradients(a)}else this.applyGradients(o);return Ke(o),e?i:(i.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(t,e){return function(t,e){k(Y(t),function(){return"The f passed in variableGrads(f) must be a function"}),k(null==e||Array.isArray(e)&&e.every(function(t){return t instanceof Tt}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=e;if(!n)for(var r in e=[],Lt.registeredVariables)e.push(Lt.registeredVariables[r]);var i=n?e.filter(function(t){return!t.trainable}):null,o=e.length;k((e=e.filter(function(t){return t.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."});var a=Lt.gradients(t,e,null,!0),s=a.value,u=a.grads;k(u.some(function(t){return null!=t}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),k(0===s.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var c={};return e.forEach(function(t,e){null!=u[e]&&(c[t.name]=u[e])}),null!=i&&i.forEach(function(t){return c[t.name]=null}),{value:s,grads:c}}(t,e)},e.prototype.dispose=function(){null!=this.iterations_&&Ke(this.iterations_)},e.prototype.saveIterations=function(){return u(this,void 0,void 0,function(){return c(this,function(t){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:gn(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){return c(this,function(t){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return e=this,[4,t[0].tensor.data()];case 1:return e.iterations_=n.sent()[0],[2,t.slice(1)]}})})},e}(ah);Object.defineProperty(ph,Symbol.hasInstance,{value:function(t){return null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients}});var vh=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this)||this;return i.learningRate=e,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=Lt.backend.epsilon()),i}return s(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Lt.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Ge(function(){return Cn(i).variable(!1)})}),null==e.accumulatedUpdates[r]&&(e.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Ge(function(){return Cn(i).variable(!1)})});var o=Array.isArray(t)?t[r].tensor:t[n];if(null!=o){var a=e.accumulatedGrads[r].variable,s=e.accumulatedUpdates[r].variable;Ge(function(){var t=a.mul(e.rho).add(o.square().mul(1-e.rho)),n=s.add(e.epsilon).sqrt().div(a.add(e.epsilon).sqrt()).mul(o),r=s.mul(e.rho).add(n.square().mul(1-e.rho));a.assign(t),s.assign(r);var u=n.mul(-e.learningRate).add(i);i.assign(u)})}}),this.incrementIterations()},e.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Ke(this.accumulatedGrads.map(function(t){return t.variable})),Ke(this.accumulatedUpdates.map(function(t){return t.variable})))},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),e=t.length/2,this.accumulatedGrads=t.slice(0,e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.accumulatedUpdates=t.slice(e,2*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},e.className="Adadelta",e}(ph);uh(vh);var gh=function(t){function e(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;return r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Lt.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Ge(function(){return _n(i.shape,e.initialAccumulatorValue).variable(!1)})});var o=Array.isArray(t)?t[r].tensor:t[n];if(null!=o){var a=e.accumulatedGrads[r].variable;Ge(function(){var t=a.add(o.square());a.assign(t);var n=o.div(t.add(Lt.backend.epsilon()).sqrt()).mul(-e.learningRate).add(i);i.assign(n)})}}),this.incrementIterations()},e.prototype.dispose=function(){null!=this.accumulatedGrads&&Ke(this.accumulatedGrads.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),this.accumulatedGrads=t.map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},e.className="Adagrad",e}(ph);uh(gh);var mh=function(t){function e(e,n,r,i){void 0===i&&(i=null);var o=t.call(this)||this;return o.learningRate=e,o.beta1=n,o.beta2=r,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],Ge(function(){o.accBeta1=gn(n).variable(),o.accBeta2=gn(r).variable()}),null==i&&(o.epsilon=Lt.backend.epsilon()),o}return s(e,t),e.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t);Ge(function(){var r=Ou(1,e.accBeta1),i=Ou(1,e.accBeta2);n.forEach(function(n,o){var a=Lt.registeredVariables[n];null==e.accumulatedFirstMoment[o]&&(e.accumulatedFirstMoment[o]={originalName:n+"/m",variable:Ge(function(){return Cn(a).variable(!1)})}),null==e.accumulatedSecondMoment[o]&&(e.accumulatedSecondMoment[o]={originalName:n+"/v",variable:Ge(function(){return Cn(a).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[o].variable,c=e.accumulatedSecondMoment[o].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),f=c.mul(e.beta2).add(s.square().mul(1-e.beta2)),h=l.div(r),d=f.div(i);u.assign(l),c.assign(f);var p=h.div(d.sqrt().add(e.epsilon)).mul(-e.learningRate).add(a);a.assign(p)}}),e.accBeta1.assign(e.accBeta1.mul(e.beta1)),e.accBeta2.assign(e.accBeta2.mul(e.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Ke(this.accumulatedFirstMoment.map(function(t){return t.variable})),null!=this.accumulatedSecondMoment&&Ke(this.accumulatedSecondMoment.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){var e,n=this;return c(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),Ge(function(){n.accBeta1.assign(ku(n.beta1,n.iterations_+1)),n.accBeta2.assign(ku(n.beta2,n.iterations_+1))}),e=t.length/2,this.accumulatedFirstMoment=t.slice(0,e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.accumulatedSecondMoment=t.slice(e,2*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},e.className="Adam",e}(ph);uh(mh);var yh=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=0);var a=t.call(this)||this;return a.learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.decay=o,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],Ge(function(){a.iteration=gn(0).variable(),a.accBeta1=gn(n).variable()}),null==i&&(a.epsilon=Lt.backend.epsilon()),a}return s(e,t),e.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t);Ge(function(){var r=Ou(1,e.accBeta1),i=hu(-e.learningRate,e.iteration.mul(e.decay).add(1));n.forEach(function(n,o){var a=Lt.registeredVariables[n];null==e.accumulatedFirstMoment[o]&&(e.accumulatedFirstMoment[o]={originalName:n+"/m",variable:Cn(a).variable(!1)}),null==e.accumulatedWeightedInfNorm[o]&&(e.accumulatedWeightedInfNorm[o]={originalName:n+"/v",variable:Cn(a).variable(!1)});var s=Array.isArray(t)?t[o].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[o].variable,c=e.accumulatedWeightedInfNorm[o].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),f=c.mul(e.beta2),h=s.abs(),d=f.maximum(h);u.assign(l),c.assign(d);var p=i.div(r).mul(l.div(d.add(e.epsilon))).add(a);a.assign(p)}}),e.iteration.assign(e.iteration.add(1)),e.accBeta1.assign(e.accBeta1.mul(e.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Ke(this.accumulatedFirstMoment.map(function(t){return t.variable})),null!=this.accumulatedWeightedInfNorm&&Ke(this.accumulatedWeightedInfNorm.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(t){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){return c(this,function(t){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},e.className="Adamax",e}(ph);uh(yh);var bh=function(t){function e(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return s(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Array.isArray(t)?t[r].tensor:t[n];if(null!=i){var o=Lt.registeredVariables[n];Ge(function(){var t=e.c.mul(i).add(o);o.assign(t)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=function(t){return Lt.keep(t)}(gn(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:if(0!==(t=e.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,e){return new t(e.learningRate)},e.className="SGD",e}(ph);uh(bh);var wh=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e)||this;return i.learningRate=e,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=gn(i.momentum),i}return s(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Lt.registeredVariables[n];null==e.accumulations[r]&&(e.accumulations[r]={originalName:n+"/momentum",variable:Ge(function(){return Cn(i).variable(!1)})});var o=e.accumulations[r].variable,a=Array.isArray(t)?t[r].tensor:t[n];null!=a&&Ge(function(){var t,n=e.m.mul(o).add(a);t=e.useNesterov?e.c.mul(a.add(n.mul(e.m))).add(i):e.c.mul(n).add(i),o.assign(n),i.assign(t)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Ke(this.accumulations.map(function(t){return t.variable}))},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),this.accumulations=t.map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},e.className="Momentum",e}(bh);uh(wh);var xh=function(t){function e(e,n,r,i,o){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===o&&(o=!1);var a=t.call(this)||this;if(a.learningRate=e,a.decay=n,a.momentum=r,a.epsilon=i,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=o,null==i&&(a.epsilon=Lt.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return s(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Lt.registeredVariables[n];null==e.accumulatedMeanSquares[r]&&(e.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Ge(function(){return Cn(i).variable(!1)})}),null==e.accumulatedMoments[r]&&(e.accumulatedMoments[r]={originalName:n+"/momentum",variable:Ge(function(){return Cn(i).variable(!1)})}),null==e.accumulatedMeanGrads[r]&&e.centered&&(e.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Ge(function(){return Cn(i).variable(!1)})});var o=Array.isArray(t)?t[r].tensor:t[n];if(null!=o){var a=e.accumulatedMeanSquares[r].variable,s=e.accumulatedMoments[r].variable;Ge(function(){var t=a.mul(e.decay).add(o.square().mul(1-e.decay));if(e.centered){var n=e.accumulatedMeanGrads[r].variable,u=n.mul(e.decay).add(o.mul(1-e.decay)),c=s.mul(e.momentum).add(o.mul(e.learningRate).div(t.sub(u.square().add(e.epsilon)).sqrt()));a.assign(t),n.assign(u),s.assign(c);var l=i.sub(c);i.assign(l)}else{var f=a.mul(e.decay).add(o.square().mul(1-e.decay));c=s.mul(e.momentum).add(o.mul(e.learningRate).div(f.add(e.epsilon).sqrt())),a.assign(f),s.assign(c),l=i.sub(c),i.assign(l)}})}}),this.incrementIterations()},e.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Ke(this.accumulatedMeanSquares.map(function(t){return t.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Ke(this.accumulatedMeanGrads.map(function(t){return t.variable})),null!=this.accumulatedMoments&&Ke(this.accumulatedMoments.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),e=this.centered?t.length/3:t.length/2,this.accumulatedMeanSquares=t.slice(0,e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.accumulatedMoments=t.slice(e,2*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=t.slice(2*e,3*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},e.className="RMSProp",e}(ph);uh(xh);var Eh=function(){function t(){}return t.sgd=function(t){return new bh(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new wh(t,e,n)},t.rmsprop=function(t,e,n,r,i){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new xh(t,e,n,r,i)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new mh(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new vh(t,e,n)},t.adamax=function(t,e,n,r,i){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new yh(t,e,n,r,i)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new gh(t,e)},t}();Eh.sgd,Eh.momentum,Eh.adadelta,Eh.adagrad,Eh.rmsprop,Eh.adamax,Eh.adam,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame;xt.prototype.squaredDifference=function(t){return ss(this,t)},bt=ql}).call(this,n(33),n(82),n(261).Buffer,n(265).setImmediate)},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},function(t,e,n){t.exports=n(223)()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(19);function i(t,e){if(null==t)return{};var n,i,o=Object(r.a)(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"===typeof t||"number"===typeof t)i+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}e.a=function(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}},function(t,e,n){"use strict";var r=n(2),i=n(98),o=n(108);e.a=function(t,e){return Object(i.a)(t,Object(r.a)({defaultTheme:o.a},e))}},function(t,e,n){"use strict";var r=n(162),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&"object"===typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:l,merge:function t(){var e={};function n(n,r){u(e[r])&&u(n)?e[r]=t(e[r],n):u(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(109);function i(t){if("string"!==typeof t)throw new Error(Object(r.a)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(54);function o(t,e){return r.useMemo(function(){return null==t&&null==e?null:function(n){Object(i.a)(t,n),Object(i.a)(e,n)}},[t,e])}},function(t,e,n){"use strict";n.r(e);var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;var i=n(31);var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create;var f=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),h="[DEFAULT]",d=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=h);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=o({identifier:h,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:h})}catch(d){}try{for(var r=u(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=c(i.value,2),a=o[0],s=o[1],l=this.normalizeInstanceIdentifier(a);try{var f=this.getOrInitializeService({instanceIdentifier:l});s.resolve(f)}catch(d){}}}catch(p){e={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=h),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(l(l([],c(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),c(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=h),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?h:r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var f=u(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=c(d.value,2),v=p[0],g=p[1];s===this.normalizeInstanceIdentifier(v)&&g.resolve(l)}}catch(m){e={error:m}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(l,s),l},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=u(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(s){}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===h?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:h:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var p,v=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new d(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var m,y=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(m||(m={}));var b,w={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},x=m.INFO,E=((p={})[m.DEBUG]="log",p[m.VERBOSE]="log",p[m.INFO]="info",p[m.WARN]="warn",p[m.ERROR]="error",p),_=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=E[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,g(["["+i+"]  "+t.name+":"],n))}},k=function(){function t(t){this.name=t,this._logLevel=x,this._logHandler=_,this._userLogHandler=null,y.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in m))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?w[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.DEBUG],t)),this._logHandler.apply(this,g([this,m.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.VERBOSE],t)),this._logHandler.apply(this,g([this,m.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.INFO],t)),this._logHandler.apply(this,g([this,m.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.WARN],t)),this._logHandler.apply(this,g([this,m.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,g([this,m.ERROR],t)),this._logHandler.apply(this,g([this,m.ERROR],t))},t}();function S(t){y.forEach(function(e){e.setLogLevel(t)})}n.d(e,"firebase",function(){return W});var C,O=((b={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",b["bad-app-name"]="Illegal App name: '{$appName}",b["duplicate-app"]="Firebase App named '{$appName}' already exists",b["app-deleted"]="Firebase App named '{$appName}' already deleted",b["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",b["invalid-log-argument"]="First argument to `onLog` must be null or a function.",b),T=new i.b("app","Firebase",O),I="@firebase/app",R="0.6.22",A="[DEFAULT]",P=((C={})[I]="fire-core",C["@firebase/analytics"]="fire-analytics",C["@firebase/app-check"]="fire-app-check",C["@firebase/auth"]="fire-auth",C["@firebase/database"]="fire-rtdb",C["@firebase/functions"]="fire-fn",C["@firebase/installations"]="fire-iid",C["@firebase/messaging"]="fire-fcm",C["@firebase/performance"]="fire-perf",C["@firebase/remote-config"]="fire-rc",C["@firebase/storage"]="fire-gcs",C["@firebase/firestore"]="fire-fst",C["fire-js"]="fire-js",C["firebase-wrapper"]="fire-js-all",C),N=new k("@firebase/app"),D=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(i.e)(t),this.container=new v(e.name),this._addComponent(new f("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=A),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=A),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){N.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw T.create("app-deleted",{appName:this.name_})},t}();D.prototype.name&&D.prototype.options||D.prototype.delete||console.log("dc");var M="8.6.1";function j(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==typeof o||null===o){var a=o;o={name:a}}var s=o;void 0===s.name&&(s.name=A);var u=s.name;if("string"!==typeof u||!u)throw T.create("bad-app-name",{appName:String(u)});if(Object(i.c)(e,u))throw T.create("duplicate-app",{appName:u});var c=new t(n,s,r);return e[u]=c,c},app:o,registerVersion:function(t,e,n){var r,i=null!==(r=P[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void N.warn(u.join(" "))}a(new f(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:S,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw T.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=w[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:m[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=y;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:M,INTERNAL:{registerComponent:a,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||A,!Object(i.c)(e,t))throw T.create("no-app",{appName:t});return e[t]}function a(a){var s=a.name;if(n.has(s))return N.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?r[s]:null;if(n.set(s,a),"PUBLIC"===a.type){var u=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[s])throw T.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==a.serviceProps&&Object(i.f)(u,a.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,a.multipleInstances?t:[])}}for(var c=0,l=Object.keys(e);c<l.length;c++){var f=l[c];e[f]._addComponent(a)}return"PUBLIC"===a.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),o.App=t,r}var F=function t(){var e=j(D);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(i.f)(e,t)},createSubscribe:i.d,ErrorFactory:i.b,deepExtend:i.f}),e}(),L=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(i.g)()&&void 0!==self.firebase){N.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var B=self.firebase.SDK_VERSION;B&&B.indexOf("LITE")>=0&&N.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var V=F.initializeApp;F.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.h)()&&N.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),V.apply(void 0,t)};var U,z,W=F;(U=W).INTERNAL.registerComponent(new f("platform-logger",function(t){return new L(t)},"PRIVATE")),U.registerVersion(I,R,z),U.registerVersion("fire-js","");e.default=W},function(t,e,n){"use strict";function r(t,e){return function(){return null}}n.r(e);var i=n(100),o=n(4),a=n.n(o);var s=(a.a.element,function(){return null});s.isRequired=(a.a.element.isRequired,function(){return null});var u=s;var c=(o.elementType,function(){return null});n(21),n(2);function l(t){return t}var f=n(109),h=n(40),d=n(46),p=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.displayName||t.name||function(t){var e="".concat(t).match(p);return e&&e[1]||""}(t)||e}function g(t,e,n){var r=v(e);return t.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function m(t){if(null!=t){if("string"===typeof t)return t;if("function"===typeof t)return v(t,"Component");if("object"===Object(h.a)(t))switch(t.$$typeof){case d.ForwardRef:return g(t,t.render,"ForwardRef");case d.Memo:return g(t,t.type,"memo");default:return}}}function y(t,e,n,r,i){return null}var b="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),w=a.a.oneOfType([a.a.func,a.a.object]);n.d(e,"chainPropTypes",function(){return r}),n.d(e,"deepmerge",function(){return i.a}),n.d(e,"elementAcceptingRef",function(){return u}),n.d(e,"elementTypeAcceptingRef",function(){return c}),n.d(e,"exactProp",function(){return l}),n.d(e,"formatMuiErrorMessage",function(){return f.a}),n.d(e,"getDisplayName",function(){return m}),n.d(e,"HTMLElementType",function(){return y}),n.d(e,"ponyfillGlobal",function(){return b}),n.d(e,"refType",function(){return w})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},function(t,e,n){t.exports=n(255)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(218)},function(t,e,n){"use strict";var r=!0;e.a=function(t,e){if(!r){if(t)return;var n="Warning: "+e;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(i){}}}},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(117),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.a=o},function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)})}}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(191);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Object(r.a)(t,e)}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(t){var e=r.useRef(t);return i(function(){e.current=t}),r.useCallback(function(){return e.current.apply(void 0,arguments)},[])}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return u});var r=n(159),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};function o(t){return a(void 0,t)}function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=a(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function c(){return"object"===typeof self&&self.self===self}var l="FirebaseError",f=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=l,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,h.prototype.create),o}return Object(r.b)(e,t),e}(Error),h=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(d,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new f(i,s,r)},t}();var d=/\{\$([^}]+)}/g;function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function v(t,e){var n=new g(t,e);return n.subscribe.bind(n)}var g=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=m),void 0===r.error&&(r.error=m),void 0===r.complete&&(r.complete=m);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function m(){}}).call(this,n(33))},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(170),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";function r(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce(function(t,n){return t[n]=e[n],r&&"undefined"===typeof e[n]&&(t[n]=r[n]),t},{})}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(102);var i=n(104),o=n(72);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(i.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";var r=n(110);var i=n(72),o=n(111);function a(t,e){return Object(r.a)(t)||function(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Object(i.a)(t,e)||Object(o.a)()}n.d(e,"a",function(){return a})},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(46),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(e),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=h(n,m);try{c(e,m,y)}catch(b){}}}}return e}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";(function(t){var r=n(117),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.a.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();e.a=s}).call(this,n(135)(t))},function(t,e,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty,a="undefined"!==typeof Element;t.exports=function(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var s,u,c,l=r(e),f=r(n);if(l&&f){if((u=e.length)!=n.length)return!1;for(s=u;0!==s--;)if(!t(e[s],n[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=n instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==n.getTime();var p=e instanceof RegExp,v=n instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==n.toString();var g=i(e);if((u=g.length)!==i(n).length)return!1;for(s=u;0!==s--;)if(!o.call(n,g[s]))return!1;if(a&&e instanceof Element&&n instanceof Element)return e===n;for(s=u;0!==s--;)if(("_owner"!==(c=g[s])||!e.$$typeof)&&!t(e[c],n[c]))return!1;return!0}return e!==e&&n!==n}(t,e)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},function(t,e,n){"use strict";var r=n(101);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";t.exports=n(225)},,function(t,e,n){"use strict";n.d(e,"c",function(){return d}),n.d(e,"a",function(){return v}),n.d(e,"b",function(){return g});var r,i=n(2),o=n(5),a=n(0),s=n.n(a),u=(n(4),n(105)),c=n(58),l=n(130),f=Object(c.b)(Object(l.a)()),h=Object(u.a)(),d=new Map,p={disableGeneration:!1,generateClassName:h,jss:f,sheetsCache:null,sheetsManager:d,sheetsRegistry:null},v=s.a.createContext(p);function g(t){var e=t.children,n=t.injectFirst,a=void 0!==n&&n,u=t.disableGeneration,f=void 0!==u&&u,h=Object(o.a)(t,["children","injectFirst","disableGeneration"]),d=s.a.useContext(v),p=Object(i.a)({},d,{disableGeneration:f},h);if(!p.jss.options.insertionPoint&&a&&"undefined"!==typeof window){if(!r){var g=document.head;r=document.createComment("mui-inject-first"),g.insertBefore(r,g.firstChild)}p.jss=Object(c.b)({plugins:Object(l.a)().plugins,insertionPoint:r})}return s.a.createElement(v.Provider,{value:p},e)}},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"e",function(){return h});var r=n(109);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function o(t){if(t.type)return t;if("#"===t.charAt(0))return o(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map(function(t){return t+t})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3}).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,t));var i=t.substring(e+1,t.length-1).split(",");return{type:n,values:i=i.map(function(t){return parseFloat(t)})}}function a(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map(function(t,e){return e<3?parseInt(t,10):t}):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function s(t,e){var n=u(t),r=u(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(t){var e="hsl"===(t=o(t)).type?o(function(t){var e=(t=o(t)).values,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-s*Math.max(Math.min(e-3,9-e,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===t.type&&(c+="a",l.push(e[3])),a({type:c,values:l})}(t)).values:t.values;return e=e.map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(t)>.5?f(t,e):h(t,e)}function l(t,e){return t=o(t),e=i(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,a(t)}function f(t,e){if(t=o(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return a(t)}function h(t,e){if(t=o(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return a(t)}},function(t,e,n){"use strict";var r=n(100);e.a=function(t,e){return e?Object(r.a)(t,e,{clone:!1}):t}},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(77)),o=n(69),a=r(n(234));var s=function(t,e){return(0,o.withStyles)(t,(0,i.default)({defaultTheme:a.default},e))};e.default=s},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(101),i=(n(0),n(108));function o(){return Object(r.a)()||i.a}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(84);function o(){return r.useContext(i.a)}},function(t,e,n){"use strict";function r(t,e){"function"===typeof t?t(e):t&&(t.current=e)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return null==e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}},function(){})}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(299),i=n(304);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return Y}),n.d(e,"b",function(){return mt}),n.d(e,"c",function(){return gt});var r=n(2),i=n(29),o=(n(18),n(20)),a=n(27),s=n(28),u=n(19),c={}.constructor;function l(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(l);if(t.constructor!==c)return t;var e={};for(var n in t)e[n]=l(t[n]);return e}function f(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,i=l(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var h=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},d=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=h(t[r]," ");else n=h(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function p(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function v(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var i=n.indent,o=void 0===i?0:i,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+p(c+": "+d(l)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+p(f+": "+d(h)+";",o))}for(var v in e){var g=e[v];null!=g&&"fallbacks"!==v&&(r&&(r+="\n"),r+=""+p(v+": "+d(g)+";",o))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),p(t+" {"+r,--o)+p("}",o)):r}var g=/([[\].#*$><+~=|^:(),"'`\s])/g,m="undefined"!==typeof CSS&&CSS.escape,y=function(t){return m?m(t):t.replace(g,"\\$1")},b=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var i=e;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==i||!1===i,a=t in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,i),this;var u=this.options.sheet;return u&&u.attached,this},t}(),w=function(t){function e(e,n,r){var i;(i=t.call(this,e,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+y(i.id)),i}Object(a.a)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=d(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return v(this.selectorText,this.style,n)},Object(o.a)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(b),x={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new w(t,e,n)}},E={indent:1,children:!0},_=/@([\w-]+)/,k=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var i=t.match(_);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new K(Object(r.a)({},n,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=E),null==t.indent&&(t.indent=E.indent),null==t.children&&(t.children=E.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),S=/@media|@supports\s+/,C={onCreateRule:function(t,e,n){return S.test(t)?new k(t,e,n):null}},O={indent:1,children:!0},T=/@keyframes\s+([\w-]+)/,I=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=t.match(T);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:y(s(this,a)),this.rules=new K(Object(r.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=O),null==t.indent&&(t.indent=O.indent),null==t.children&&(t.children=O.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),R=/@keyframes\s+/,A=/\$([\w-]+)/g,P=function(t,e){return"string"===typeof t?t.replace(A,function(t,n){return n in e?e[n]:t}):t},N=function(t,e,n){var r=t[e],i=P(r,n);i!==r&&(t[e]=i)},D={onCreateRule:function(t,e,n){return"string"===typeof t&&R.test(t)?new I(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&N(t,"animation-name",n.keyframes),"animation"in t&&N(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return P(t,r.keyframes);default:return t}}},M=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return Object(a.a)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return v(this.key,this.style,n)},e}(b),j={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new M(t,e,n):null}},F=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=v(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return v(this.at,this.style,t)},t}(),L=/@font-face/,B={onCreateRule:function(t,e,n){return L.test(t)?new F(t,e,n):null}},V=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return v(this.key,this.style,t)},t}(),U={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new V(t,e,n):null}},z=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),W={"@charset":!0,"@import":!0,"@namespace":!0},q=[x,C,D,j,B,U,{onCreateRule:function(t,e,n){return t in W?new z(t,e,n):null}}],H={process:!0},G={force:!0,process:!0},K=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:t,keyframes:this.keyframes,selector:void 0},n),d=t;t in this.raw&&(d=t+"-d"+this.counter++),this.raw[d]=e,d in this.classes&&(h.selector="."+y(this.classes[d]));var p=f(d,e,h);if(!p)return null;this.register(p);var v=void 0===h.index?this.index.length:h.index;return this.index.splice(v,0,p),p},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof w?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof I&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof w?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof I&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=H);var i=this.options,o=i.jss.plugins,a=i.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var s=e,u=s.style;if(o.onUpdate(n,e,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,G)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,G)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e},t}(),X=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new K(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var i=this.addRule(r,t[r],e);i&&n.push(i)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),$=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](t,e,n);if(i)return i}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Y=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(u.a)(e,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(o.a)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}(),Q=new Y,J="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Z="2f1acc6c3a606b082e5eef5e54414ffb";null==J[Z]&&(J[Z]=0);var tt=J[Z]++,et=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),t.minify?""+(o||"c")+tt+i+e:o+n.key+"-"+tt+(i?"-"+i:"")+"-"+e}},nt=function(t){var e;return function(){return e||(e=t()),e}},rt=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},it=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=d(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(i){return!1}return!0},ot=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},at=function(t,e){return t.selectorText=e,t.selectorText===e},st=nt(function(){return document.querySelector("head")});function ut(t){var e=Q.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var i=function(t){for(var e=st(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ct=nt(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),lt=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},ft=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},ht=function(){var t=document.createElement("style");return t.textContent="\n",t},dt=function(){function t(t){this.getPropertyValue=rt,this.setProperty=it,this.removeProperty=ot,this.setSelector=at,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&Q.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||ht(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ct();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=ut(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling)}else st().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,i=n;if("conditional"===t.type||"keyframes"===t.type){var o=ft(n,e);if(!1===(i=lt(n,r.toString({children:!1}),o)))return!1;this.refCssRule(t,o,i)}return this.insertRules(r.rules,i),i}var a=t.toString();if(!a)return!1;var s=ft(n,e),u=lt(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,s,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof X&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),pt=0,vt=function(){function t(t){this.id=pt++,this.version="10.6.0",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:et,Renderer:i.a?dt:null,plugins:[]},this.generateId=et({minify:!1});for(var e=0;e<q.length;e++)this.plugins.use(q[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(r.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===Q.index?0:Q.index+1);var i=new X(t,Object(r.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},e.removeStyleSheet=function(t){return t.detach(),Q.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var i=Object(r.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=f(t,e,i);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.plugins.use(e)}),this},t}();function gt(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if("function"===i)e||(e={}),e[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=gt(r);o&&(e||(e={}),e[n]=o)}}return e}"object"===typeof CSS&&null!=CSS&&CSS;var mt=function(t){return new vt(t)};mt()},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(5),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(t){return"".concat(Math.round(t),"ms")}e.a={easing:i,duration:o,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,s=void 0===n?o.standard:n,u=e.easing,c=void 0===u?i.easeInOut:u,l=e.delay,f=void 0===l?0:l;Object(r.a)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map(function(t){return"".concat(t," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof f?f:a(f))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r=function(t){return t.scrollTop};function i(t,e){var n=t.timeout,r=t.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[e.mode]||0,delay:i.transitionDelay}}},function(t,e,n){"use strict";var r=n(1);function i(t,e,n){if(void 0===n&&(n=!1),t.beginPath(),e.slice(1).forEach(function(n,r){var i=n.x,o=n.y,a=e[r];t.moveTo(a.x,a.y),t.lineTo(i,o)}),n){var r=e[e.length-1],i=e[0];if(!r||!i)return;t.moveTo(r.x,r.y),t.lineTo(i.x,i.y)}t.stroke()}var o=n(3),a=function(){function t(t,e){if(!v(t)||!v(e))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:e}));this._width=t,this._height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.reverse=function(){return new t(1/this.width,1/this.height)},t}();function s(t,e){return t instanceof r.a&&t.shape.length===e}function u(t){return s(t,3)}function c(t){return s(t,4)}function l(t){return t%2===0}function f(t,e){void 0===e&&(e=2);var n=Math.pow(10,e);return Math.floor(t*n)/n}function h(t){return t&&t.width&&t.height}function d(t){return t.reduce(function(t,e){return t.add(e)},new m(0,0)).div(new m(t.length,t.length))}function p(t,e,n){return Array(t).fill(0).map(function(t,r){return e+r*n})}function v(t){return!!t&&t!==1/0&&t!==-1/0&&!isNaN(t)||0===t}function g(t){return v(t)&&0<=t&&t<=1}var m=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.div=function(e){return new t(this.x/e.x,this.y/e.y)},t.prototype.abs=function(){return new t(Math.abs(this.x),Math.abs(this.y))},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t}(),y=function(){function t(e,n){void 0===n&&(n=!0);var r=e||{},i=[r.left,r.top,r.right,r.bottom].every(v),o=[r.x,r.y,r.width,r.height].every(v);if(!o&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=o?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],u=a[1],c=a[2],l=a[3];t.assertIsValidBox({x:s,y:u,width:c,height:l},"Box.constructor",n),this._x=s,this._y=u,this._width=c,this._height=l}return t.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(v)},t.assertIsValidBox=function(e,n,r){if(void 0===r&&(r=!1),!t.isRect(e))throw new Error(n+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!r&&(e.width<0||e.height<0))throw new Error(n+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return new m(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRight",{get:function(){return new m(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeft",{get:function(){return new m(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRight",{get:function(){return new m(this.right,this.bottom)},enumerable:!0,configurable:!0}),t.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(t){return Math.round(t)});return new t({x:e[0],y:e[1],width:e[2],height:e[3]})},t.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(t){return Math.floor(t)});return new t({x:e[0],y:e[1],width:e[2],height:e[3]})},t.prototype.toSquare=function(){var e=this.x,n=this.y,r=this.width,i=this.height,o=Math.abs(r-i);return r<i&&(e-=o/2,r+=o),i<r&&(n-=o/2,i+=o),new t({x:e,y:n,width:r,height:i})},t.prototype.rescale=function(e){var n=h(e)?e.width:e,r=h(e)?e.height:e;return new t({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},t.prototype.pad=function(e,n){var r=[this.x-e/2,this.y-n/2,this.width+e,this.height+n];return new t({x:r[0],y:r[1],width:r[2],height:r[3]})},t.prototype.clipAtImageBorders=function(e,n){var r=this.x,i=this.y,o=this.right,a=this.bottom,s=Math.max(r,0),u=Math.max(i,0),c=o-s,l=a-u;return new t({x:s,y:u,width:Math.min(c,e-s),height:Math.min(l,n-u)}).floor()},t.prototype.shift=function(e,n){var r=this.width,i=this.height;return new t({x:this.x+e,y:this.y+n,width:r,height:i})},t.prototype.padAtBorders=function(t,e){var n=this.width+1,r=this.height+1,i=n,o=r,a=this.left,s=this.top,u=this.right,c=this.bottom;return u>e&&(i=-u+e+n,u=e),c>t&&(o=-c+t+r,c=t),a<1&&(o=2-a,a=1),s<1&&(o=2-s,s=1),{dy:1,edy:o,dx:1,edx:i,y:s,ey:c,x:a,ex:u,w:n,h:r}},t.prototype.calibrate=function(e){return new t({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},t}(),b=function(t){function e(e,n,r,i,o){return void 0===o&&(o=!1),t.call(this,{left:e,top:n,right:r,bottom:i},o)||this}return Object(o.c)(e,t),e}(y),w=function(){function t(t,e,n,r,i){this._imageDims=new a(i.width,i.height),this._score=t,this._classScore=e,this._className=n,this._box=new y(r).rescale(this._imageDims)}return Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeBox",{get:function(){return new y(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new t(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:n})},t}(),x=function(t){function e(e,n,r){return t.call(this,e,e,"",n,r)||this}return Object(o.c)(e,t),e.prototype.forSize=function(n,r){var i=t.prototype.forSize.call(this,n,r);return new e(i.score,i.relativeBox,i.imageDims)},e}(w);function E(t,e,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));return n?r/(t.area+e.area-r):r/Math.min(t.area,e.area)}function _(t,e,n,r){void 0===r&&(r=!0);for(var i=e.map(function(t,e){return{score:t,boxIndex:e}}).sort(function(t,e){return t.score-e.score}).map(function(t){return t.boxIndex}),o=[],a=function(){var e=i.pop();o.push(e);for(var a=i,s=[],u=0;u<a.length;u++){var c=a[u],l=t[e],f=t[c];s.push(E(l,f,r))}i=i.filter(function(t,e){return s[e]<=n})};i.length>0;)a();return o}function k(t,e){return r.L(function(){var n=e[0],i=e[1],a=e[2],s=r.n(Object(o.e)(t.shape.slice(0,3),[1]),n),u=r.n(Object(o.e)(t.shape.slice(0,3),[1]),i),c=r.n(Object(o.e)(t.shape.slice(0,3),[1]),a),l=r.h([s,u,c],3);return r.F(t,l)})}function S(t){return 1/(1+Math.exp(-t))}var C=function(t){function e(e,n,r,i,o){return void 0===o&&(o=!1),t.call(this,{x:e,y:n,width:r,height:i},o)||this}return Object(o.c)(e,t),e}(y),O=function(){function t(t,e,n){void 0===n&&(n=new m(0,0));var r=e.width,i=e.height;this._imgDims=new a(r,i),this._shift=n,this._positions=t.map(function(t){return t.mul(new m(r,i)).add(n)})}return Object.defineProperty(t.prototype,"shift",{get:function(){return new m(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(e){return e.sub(t._shift).div(new m(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),t.prototype.forSize=function(t,e){return new this.constructor(this.relativePositions,{width:t,height:e})},t.prototype.shiftBy=function(t,e){return new this.constructor(this.relativePositions,this._imgDims,new m(t,e))},t.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},t.prototype.align=function(t,e){if(void 0===e&&(e={}),t){var n=t instanceof x?t.box.floor():new y(t);return this.shiftBy(n.x,n.y).align(null,e)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},e),i=r.useDlibAlignment,o=r.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(o)},t.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),e=t[0],n=t[1],r=t[2],i=function(t){return r.sub(t).magnitude()},o=(i(e)+i(n))/2,a=Math.floor(o/.45),s=d(t),u=Math.floor(Math.max(0,s.x-.5*a)),c=Math.floor(Math.max(0,s.y-.43*a));return new C(u,c,Math.min(a,this.imageWidth+u),Math.min(a,this.imageHeight+c))},t.prototype.alignMinBbox=function(t){var e=function(t){var e=t.map(function(t){return t.x}),n=t.map(function(t){return t.y}),r=e.reduce(function(t,e){return e<t?e:t},1/0),i=n.reduce(function(t,e){return e<t?e:t},1/0),o=e.reduce(function(t,e){return t<e?e:t},0),a=n.reduce(function(t,e){return t<e?e:t},0);return new b(r,i,o,a)}(this.positions);return e.pad(e.width*t,e.height*t)},t.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},t}(),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getRefPointsForAlignment=function(){var t=this.positions;return[t[0],t[1],d([t[3],t[4]])]},e}(O),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(d)},e}(O),R=function(){function t(t,e){this._label=t,this._distance=e}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){return void 0===t&&(t=!0),this.label+(t?" ("+f(this.distance)+")":"")},t}(),A=function(t){function e(e,n){var r=t.call(this,e)||this;return r._label=n,r}return Object(o.c)(e,t),e.assertIsValidLabeledBox=function(t,e){if(y.assertIsValidBox(t,e),!v(t.label))throw new Error(e+" - expected property label ("+t.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e}(y),P=function(){function t(t,e){if("string"!==typeof t)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(e)||e.some(function(t){return!(t instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=e}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},t.fromJSON=function(e){var n=e.descriptors.map(function(t){return new Float32Array(t)});return new t(e.label,n)},t}();!function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o._score=r,o._classScore=i,o}Object(o.c)(e,t),e.assertIsValidPredictedBox=function(t,e){if(A.assertIsValidLabeledBox(t,e),!g(t.score)||!g(t.classScore))throw new Error(e+" - expected properties score ("+t.score+") and ("+t.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(A);function N(t){return t.detection instanceof x}function D(t,e){var n={detection:e};return Object.assign({},t,n)}function M(){var t=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:t,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}var j=n(125),F=n(150);function L(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}var B,V=n(151);function U(t){B=t}function z(){L()&&U(M()),Object(V.a)()&&U(Object(F.a)())}var W,q={getEnv:function(){if(!B)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return B},setEnv:U,initialize:z,createBrowserEnv:M,createFileSystem:j.a,createNodejsEnv:F.a,monkeyPatch:function(t){if(B||z(),!B)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=t.Canvas,n=void 0===e?B.Canvas:e,r=t.Image,i=void 0===r?B.Image:r;B.Canvas=n,B.Image=i,B.createCanvasElement=t.createCanvasElement||function(){return new n},B.createImageElement=t.createImageElement||function(){return new i},B.ImageData=t.ImageData||B.ImageData,B.Video=t.Video||B.Video,B.fetch=t.fetch||B.fetch,B.readFile=t.readFile||B.readFile},isBrowser:L,isNodejs:V.a};function H(t){return q.isNodejs()||"string"!==typeof t?t:document.getElementById(t)}function G(t){var e=q.getEnv(),n=e.Canvas;if(t instanceof e.CanvasRenderingContext2D)return t;var r=H(t);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=r.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}z(),function(t){t.TOP_LEFT="TOP_LEFT",t.TOP_RIGHT="TOP_RIGHT",t.BOTTOM_LEFT="BOTTOM_LEFT",t.BOTTOM_RIGHT="BOTTOM_RIGHT"}(W||(W={}));var K=function(){return function(t){void 0===t&&(t={});var e=t.anchorPosition,n=t.backgroundColor,r=t.fontColor,i=t.fontSize,o=t.fontStyle,a=t.padding;this.anchorPosition=e||W.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=i||14,this.fontStyle=o||"Georgia",this.padding=a||4}}(),X=function(){function t(e,n,r){void 0===r&&(r={}),this.text="string"===typeof e?[e]:e instanceof t?e.text:e,this.anchor=n,this.options=new K(r)}return t.prototype.measureWidth=function(t){var e=this.options.padding;return this.text.map(function(e){return t.measureText(e).width}).reduce(function(t,e){return t<e?e:t},0)+2*e},t.prototype.measureHeight=function(){var t=this.options,e=t.fontSize,n=t.padding;return this.text.length*e+2*n},t.prototype.getUpperLeft=function(t,e){var n=this.options.anchorPosition,r=n===W.BOTTOM_RIGHT||n===W.TOP_RIGHT,i=n===W.BOTTOM_LEFT||n===W.BOTTOM_RIGHT,o=this.measureWidth(t),a=this.measureHeight(),s=r?this.anchor.x-o:this.anchor.x,u=i?this.anchor.y-a:this.anchor.y;if(e){var c=e.width,l=e.height;return{x:Math.max(Math.min(s,c-o),0),y:Math.max(Math.min(u,l-a),0)}}return{x:s,y:u}},t.prototype.draw=function(t){var e=H(t),n=G(e),r=this.options,i=r.backgroundColor,o=r.fontColor,a=r.fontSize,s=r.fontStyle,u=r.padding;n.font=a+"px "+s;var c=this.measureWidth(n),l=this.measureHeight();n.fillStyle=i;var f=this.getUpperLeft(n,e);n.fillRect(f.x,f.y,c,l),n.fillStyle=o,this.text.forEach(function(t,e){var r=u+f.x,i=u+f.y+(e+1)*a;n.fillText(t,r,i)})},t}(),$=function(){return function(t){void 0===t&&(t={});var e=t.boxColor,n=t.lineWidth,r=t.label,i=t.drawLabelOptions;this.boxColor=e||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var o={anchorPosition:W.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new K(Object.assign({},o,i))}}();!function(){function t(t,e){void 0===e&&(e={}),this.box=new y(t),this.options=new $(e)}t.prototype.draw=function(t){var e=G(t),n=this.options,r=n.boxColor,i=n.lineWidth,o=this.box,a=o.x,s=o.y,u=o.width,c=o.height;e.strokeStyle=r,e.lineWidth=i,e.strokeRect(a,s,u,c);var l=this.options.label;l&&new X([l],{x:a-i/2,y:s},this.options.drawLabelOptions).draw(t)}}();function Y(t){var e=q.getEnv(),n=e.Image,r=e.Video;return t instanceof n&&t.complete||t instanceof r&&t.readyState>=3}function Q(t){var e=q.getEnv(),n=e.Image,r=e.Video;return t instanceof n?new a(t.naturalWidth,t.naturalHeight):t instanceof r?new a(t.videoWidth,t.videoHeight):new a(t.width,t.height)}function J(t){var e=t.width,n=t.height,r=(0,q.getEnv().createCanvasElement)();return r.width=e,r.height=n,r}function Z(t,e){var n=q.getEnv().ImageData;if(!(t instanceof n)&&!Y(t))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=e||Q(t),i=r.width,o=r.height,a=J({width:i,height:o});return t instanceof n?G(a).putImageData(t,0,0):G(a).drawImage(t,0,0,i,o),a}function tt(t,e){return Object(o.b)(this,void 0,void 0,function(){var n,i,a,s,u,l;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=e||q.getEnv().createCanvasElement(),i=t.shape.slice(c(t)?1:0),a=i[0],s=i[1],u=i[2],l=r.L(function(){return t.as3D(a,s,u).toInt()}),[4,r.f.toPixels(l,n)];case 1:return o.sent(),l.dispose(),[2,n]}})})}function et(t){var e=q.getEnv(),n=e.Image,r=e.Canvas,i=e.Video;return t instanceof n||t instanceof r||t instanceof i}var nt=function(){function t(t,e){var n=this;if(void 0===e&&(e=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=e,this._batchSize=t.length,t.forEach(function(t,e){if(u(t))return n._imageTensors[e]=t,void(n._inputDimensions[e]=t.shape);if(c(t)){var r=t.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[e]=t,void(n._inputDimensions[e]=t.shape.slice(1))}var i=t instanceof q.getEnv().Canvas?t:Z(t);n._canvases[e]=i,n._inputDimensions[e]=[i.height,i.width,3]})}return Object.defineProperty(t.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reshapedInputDimensions",{get:function(){var t=this;return p(this.batchSize,0,1).map(function(e,n){return t.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),t.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},t.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},t.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},t.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},t.prototype.getReshapedInputDimensions=function(t){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(t,e){var n=t.width,r=t.height,i=e/Math.max(r,n);return new a(Math.round(n*i),Math.round(r*i))}({width:this.getInputWidth(t),height:this.getInputHeight(t)},this.inputSize)},t.prototype.toBatchTensor=function(t,e){var n=this;return void 0===e&&(e=!0),this._inputSize=t,r.L(function(){var i=p(n.batchSize,0,1).map(function(i){var o=n.getInput(i);if(o instanceof r.a){var a=c(o)?o:o.expandDims();return(a=function(t,e){return void 0===e&&(e=!1),r.L(function(){var n=t.shape.slice(1),i=n[0],o=n[1];if(i===o)return t;var a=Math.abs(i-o),s=Math.round(a*(e?.5:1)),u=i>o?2:1,c=function(e){var n=t.shape.slice();return n[u]=e,r.n(n,0)},l=c(s),f=a-l.shape[u],h=[e&&f?c(f):null,t,l].filter(function(t){return!!t}).map(function(t){return t.toFloat()});return r.h(h,u)})}(a,e)).shape[1]===t&&a.shape[2]===t||(a=r.o.resizeBilinear(a,[t,t])),a.as3D(t,t,3)}if(o instanceof q.getEnv().Canvas)return r.f.fromPixels(function(t,e,n){void 0===n&&(n=!1);var r=q.getEnv(),i=r.Image,o=r.Canvas;if(!(t instanceof i||t instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=Q(t),s=e/Math.max(a.height,a.width),u=s*a.width,c=s*a.height,l=J({width:e,height:e}),f=t instanceof o?t:Z(t),h=Math.abs(u-c)/2,d=n&&u<c?h:0,p=n&&c<u?h:0;return G(l).drawImage(f,d,p,u,c),l}(o,t,e));throw new Error("toBatchTensor - at batchIdx "+i+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+o)});return r.E(i.map(function(t){return t.toFloat()})).as4D(n.batchSize,t,t,3)})},t}();function rt(t){return Object(o.b)(this,void 0,void 0,function(){var e,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:if(t instanceof nt)return[2,t];if(!(e=Array.isArray(t)?t:[t]).length)throw new Error("toNetInput - empty array passed as input");return n=function(e){return Array.isArray(t)?" at input index "+e+":":""},(r=e.map(H)).forEach(function(t,r){if(!et(t)&&!u(t)&&!c(t)){if("string"===typeof e[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+e[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(c(t)){var i=t.shape[0];if(1!==i)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+i+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(t){return et(t)&&(e=t,new Promise(function(t,n){if(e instanceof q.getEnv().Canvas||Y(e))return t();function r(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",i),t(e))}function i(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",i),n(t))}e.addEventListener("load",r),e.addEventListener("error",i)}));var e}))];case 1:return i.sent(),[2,new nt(r,Array.isArray(t))]}})})}function it(t,e){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s,u;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=q.getEnv().Canvas,r=t,t instanceof n?[3,5]:[4,rt(t)];case 1:if((i=o.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(a=i.getInput(0))instanceof n?(s=a,[3,4]):[3,2];case 2:return[4,tt(a)];case 3:s=o.sent(),o.label=4;case 4:r=s,o.label=5;case 5:return u=G(r),[2,e.map(function(t){return t instanceof x?t.forSize(r.width,r.height).box.floor():t}).map(function(t){return t.clipAtImageBorders(r.width,r.height)}).map(function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=J({width:r,height:i});return G(o).putImageData(u.getImageData(e,n,r,i),0,0),o})]}})})}function ot(t,e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(n){if(!u(t)&&!c(t))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(c(t)&&t.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,r.L(function(){var n=t.shape.slice(c(t)?1:0),i=n[0],o=n[1],a=n[2];return e.map(function(t){return t instanceof x?t.forSize(o,i).box:t}).map(function(t){return t.clipAtImageBorders(o,i)}).map(function(e){var n=e.x,s=e.y,u=e.width,c=e.height;return r.C(t.as3D(i,o,a),[s,n,0],[c,u,a])})})]})})}function at(t,e){return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return[4,(0,q.getEnv().fetch)(t,e)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function st(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(e){switch(e.label){case 0:return[4,at(t)];case 1:return[2,e.sent().json()]}})})}function ut(t,e){var n=e+"-weights_manifest.json";if(!t)return{modelBaseUri:"",manifestUri:n};if("/"===t)return{modelBaseUri:"/",manifestUri:"/"+n};var r=t.startsWith("http://")?"http://":t.startsWith("https://")?"https://":"",i=(t=t.replace(r,"")).split("/").filter(function(t){return t}),o=t.endsWith(".json")?i[i.length-1]:n,a=r+(t.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return{modelBaseUri:a=t.startsWith("/")?"/"+a:a,manifestUri:"/"===a?"/"+o:a+"/"+o}}function ct(t,e){return Object(o.b)(this,void 0,void 0,function(){var n,i,a,s;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=ut(t,e),i=n.manifestUri,a=n.modelBaseUri,[4,st(i)];case 1:return s=o.sent(),[2,r.p.loadWeights(s,a)]}})})}function lt(t,e,n){void 0===n&&(n=!1);var r=n?Q(e):e,i=r.width,o=r.height;return t.width=i,t.height=o,{width:i,height:o}}var ft=function(){function t(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),t.prototype.getParamFromPath=function(t){var e=this.traversePropertyPath(t);return e.obj[e.objProp]},t.prototype.reassignParamFromPath=function(t,e){var n=this.traversePropertyPath(t),r=n.obj,i=n.objProp;r[i].dispose(),r[i]=e},t.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(e){var n=e.paramPath;return{path:n,tensor:t.getParamFromPath(n)}})},t.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof r.b})},t.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof r.b)})},t.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(e){var n=e.path,r=e.tensor;t.reassignParamFromPath(n,r.variable())})},t.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(e){var n=e.path,i=e.tensor,o=r.G(i.dataSync());i.dispose(),t.reassignParamFromPath(n,o)})},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.getParamList().forEach(function(e){if(t&&e.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+e.path);e.tensor.dispose()}),this._params=void 0},t.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var e=t.tensor;return Array.from(e.dataSync())}).reduce(function(t,e){return t.concat(e)}))},t.prototype.load=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(e){switch(e.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return e.sent(),[2]}})})},t.prototype.loadFromUri=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:if(t&&"string"!==typeof t)throw new Error(this._name+".loadFromUri - expected model uri");return[4,ct(t,this.getDefaultModelName())];case 1:return e=n.sent(),this.loadFromWeightMap(e),[2]}})})},t.prototype.loadFromDisk=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n,i,a,s,u,c,l,f,h;return Object(o.d)(this,function(o){switch(o.label){case 0:if(t&&"string"!==typeof t)throw new Error(this._name+".loadFromDisk - expected model file path");return e=q.getEnv().readFile,n=ut(t,this.getDefaultModelName()),i=n.manifestUri,a=n.modelBaseUri,s=function(t){return Promise.all(t.map(function(t){return e(t).then(function(t){return t.buffer})}))},u=r.p.weightsLoaderFactory(s),f=(l=JSON).parse,[4,e(i)];case 1:return c=f.apply(l,[o.sent().toString()]),[4,u(c,a)];case 2:return h=o.sent(),this.loadFromWeightMap(h),[2]}})})},t.prototype.loadFromWeightMap=function(t){var e=this.extractParamsFromWeigthMap(t),n=e.paramMappings,r=e.params;this._paramMappings=n,this._params=r},t.prototype.extractWeights=function(t){var e=this.extractParams(t),n=e.paramMappings,r=e.params;this._paramMappings=n,this._params=r},t.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var e=t.split("/").reduce(function(e,n){if(!e.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+t);return{obj:e.nextObj,objProp:n,nextObj:e.nextObj[n]}},{nextObj:this.params}),n=e.obj,i=e.objProp;if(!n||!i||!(n[i]instanceof r.a))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:n,objProp:i}},t}();function ht(t,e,n){return r.L(function(){var i=r.z(t,e.depthwise_filter,e.pointwise_filter,n,"same");return i=r.c(i,e.bias)})}function dt(t,e,n){return void 0===n&&(n=!1),r.L(function(){var i=r.w(n?r.c(r.i(t,e.conv0.filters,[2,2],"same"),e.conv0.bias):ht(t,e.conv0,[2,2])),o=ht(i,e.conv1,[1,1]),a=ht(r.w(r.c(i,o)),e.conv2,[1,1]);return r.w(r.c(i,r.c(o,a)))})}function pt(t,e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!0),r.L(function(){var o=r.w(n?r.c(r.i(t,e.conv0.filters,i?[2,2]:[1,1],"same"),e.conv0.bias):ht(t,e.conv0,i?[2,2]:[1,1])),a=ht(o,e.conv1,[1,1]),s=ht(r.w(r.c(o,a)),e.conv2,[1,1]),u=ht(r.w(r.c(o,r.c(a,s))),e.conv3,[1,1]);return r.w(r.c(o,r.c(a,r.c(s,u))))})}function vt(t,e,n,i){return void 0===n&&(n="same"),void 0===i&&(i=!1),r.L(function(){var o=r.c(r.i(t,e.filters,[1,1],n),e.bias);return i?r.w(o):o})}function gt(t,e){Object.keys(t).forEach(function(n){e.some(function(t){return t.originalPath===n})||t[n].dispose()})}function mt(t,e){return function(n,i,o,a){var s=r.K(t(n*i*o*o),[o,o,n,i]),u=r.H(t(i));return e.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}}function yt(t,e){return function(n,i,o){var a=r.I(t(n*i),[n,i]),s=r.H(t(i));return e.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:a,bias:s}}}var bt=function(){return function(t,e,n){this.depthwise_filter=t,this.pointwise_filter=e,this.bias=n}}();function wt(t,e){return function(n,i,o){var a=r.K(t(9*n),[3,3,n,1]),s=r.K(t(n*i),[1,1,n,i]),u=r.H(t(i));return e.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new bt(a,s,u)}}function xt(t){return function(e){var n=t(e+"/depthwise_filter",4),r=t(e+"/pointwise_filter",4),i=t(e+"/bias",1);return new bt(n,r,i)}}function Et(t,e){return function(n,r,i){var o=t[n];if(!s(o,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+o);return e.push({originalPath:n,paramPath:i||n}),o}}function _t(t){var e=t;return{extractWeights:function(t){var n=e.slice(0,t);return e=e.slice(t),n},getRemainingWeights:function(){return e}}}function kt(t,e){var n=mt(t,e),r=wt(t,e);function i(t,e,i,o){return void 0===o&&(o=!1),{conv0:o?n(t,e,3,i+"/conv0"):r(t,e,i+"/conv0"),conv1:r(e,e,i+"/conv1"),conv2:r(e,e,i+"/conv2")}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:function(t,e,n,o){void 0===o&&(o=!1);var a=i(t,e,n,o);return{conv0:a.conv0,conv1:a.conv1,conv2:a.conv2,conv3:r(e,e,n+"/conv3")}}}}function St(t){return function(e){return{filters:t(e+"/filters",4),bias:t(e+"/bias",1)}}}function Ct(t,e){var n=Et(t,e),r=St(n),i=xt(n);return{extractDenseBlock3Params:function(t,e){return void 0===e&&(e=!1),{conv0:e?r(t+"/conv0"):i(t+"/conv0"),conv1:i(t+"/conv1"),conv2:i(t+"/conv2")}},extractDenseBlock4Params:function(t,e){return void 0===e&&(e=!1),{conv0:e?r(t+"/conv0"):i(t+"/conv0"),conv1:i(t+"/conv1"),conv2:i(t+"/conv2"),conv3:i(t+"/conv3")}}}}var Ot=function(t){function e(){return t.call(this,"FaceFeatureExtractor")||this}return Object(o.c)(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("FaceFeatureExtractor - load model before inference");return r.L(function(){var n=pt(k(t.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(r.y(255)),e.dense0,!0);return n=pt(n,e.dense1),n=pt(n,e.dense2),n=pt(n,e.dense3),n=r.d(n,[7,7],[2,2],"valid")})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(t){return function(t){var e=[],n=Ct(t,e).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return gt(t,e),{params:r,paramMappings:e}}(t)},e.prototype.extractParams=function(t){return function(t){var e=[],n=_t(t),r=n.extractWeights,i=n.getRemainingWeights,o=kt(r,e).extractDenseBlock4Params,a=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2"),c=o(128,256,"dense3");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{dense0:a,dense1:s,dense2:u,dense3:c}}}(t)},e}(ft);function Tt(t,e){return r.L(function(){return r.c(r.q(t,e.weights),e.bias)})}function It(t){var e={},n={};return Object.keys(t).forEach(function(r){(r.startsWith("fc")?n:e)[r]=t[r]}),{featureExtractorMap:e,classifierMap:n}}var Rt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._faceFeatureExtractor=n,r}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var e=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return r.L(function(){var r=t instanceof nt?e.faceFeatureExtractor.forwardInput(t):t;return Tt(r.as2D(r.shape[0],-1),n.fc)})},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.faceFeatureExtractor.dispose(e),t.prototype.dispose.call(this,e)},e.prototype.loadClassifierParams=function(t){var e=this.extractClassifierParams(t),n=e.params,r=e.paramMappings;this._params=n,this._paramMappings=r},e.prototype.extractClassifierParams=function(t){return function(t,e,n){var r=[],i=_t(t),o=i.extractWeights,a=i.getRemainingWeights,s=yt(o,r)(e,n,"fc");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}(t,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(t){var e=It(t),n=e.featureExtractorMap,r=e.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(t){var e,n=[],r=Et(t,n),i={fc:(e="fc",{weights:r(e+"/weights",2),bias:r(e+"/bias",1)})};return gt(t,n),{params:i,paramMappings:n}}(r)},e.prototype.extractParams=function(t){var e=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*e+n,i=t.slice(0,t.length-r),o=t.slice(t.length-r);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(o)},e}(ft),At=["neutral","happy","sad","angry","fearful","disgusted","surprised"],Pt=function(){function t(t){var e=this;if(7!==t.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);At.forEach(function(n,r){e[n]=t[r]})}return t.prototype.asSortedArray=function(){var t=this;return At.map(function(e){return{expression:e,probability:t[e]}}).sort(function(t,e){return e.probability-t.probability})},t}(),Nt=function(t){function e(e){return void 0===e&&(e=new Ot),t.call(this,"FaceExpressionNet",e)||this}return Object(o.c)(e,t),e.prototype.forwardInput=function(t){var e=this;return r.L(function(){return r.D(e.runNet(t))})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.predictExpressions=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n,i,a,s=this;return Object(o.d)(this,function(u){switch(u.label){case 0:return[4,rt(t)];case 1:return e=u.sent(),[4,this.forwardInput(e)];case 2:return n=u.sent(),[4,Promise.all(r.O(n).map(function(t){return Object(o.b)(s,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,t.data()];case 1:return e=n.sent(),t.dispose(),[2,e]}})})}))];case 3:return i=u.sent(),n.dispose(),a=i.map(function(t){return new Pt(t)}),[2,e.isBatchInput?a:a[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e}(Rt);function Dt(t,e){var n={expressions:e};return Object.assign({},t,n)}function Mt(t){return N(t)&&t.landmarks instanceof O&&t.unshiftedLandmarks instanceof O&&t.alignedRect instanceof x}function jt(t,e){var n=t.detection.box,r=e.shiftBy(n.x,n.y),i=r.align(),o=t.detection.imageDims,a={landmarks:r,unshiftedLandmarks:e,alignedRect:new x(t.detection.score,i.rescale(o.reverse()),o)};return Object.assign({},t,a)}var Ft=function(){return function(t){void 0===t&&(t={});var e=t.drawLines,n=void 0===e||e,r=t.drawPoints,i=void 0===r||r,o=t.lineWidth,a=t.lineColor,s=t.pointSize,u=t.pointColor;this.drawLines=n,this.drawPoints=i,this.lineWidth=o||1,this.pointSize=s||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"}}();!function(){function t(t,e){void 0===e&&(e={}),this.faceLandmarks=t,this.options=new Ft(e)}t.prototype.draw=function(t){var e=G(t),n=this.options,r=n.drawLines,o=n.drawPoints,a=n.lineWidth,s=n.lineColor,u=n.pointSize,c=n.pointColor;if(r&&this.faceLandmarks instanceof I&&(e.strokeStyle=s,e.lineWidth=a,i(e,this.faceLandmarks.getJawOutline()),i(e,this.faceLandmarks.getLeftEyeBrow()),i(e,this.faceLandmarks.getRightEyeBrow()),i(e,this.faceLandmarks.getNose()),i(e,this.faceLandmarks.getLeftEye(),!0),i(e,this.faceLandmarks.getRightEye(),!0),i(e,this.faceLandmarks.getMouth(),!0)),o){e.strokeStyle=c,e.fillStyle=c;this.faceLandmarks.positions.forEach(function(t){e.beginPath(),e.arc(t.x,t.y,u,0,2*Math.PI),e.fill()})}}}();function Lt(t,e){var n=[],r=_t(t),i=r.extractWeights,o=r.getRemainingWeights,a=function(t,e){var n=mt(t,e),r=wt(t,e);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(t,e,i){return{separable_conv0:r(t,e,i+"/separable_conv0"),separable_conv1:r(e,e,i+"/separable_conv1"),expansion_conv:n(t,e,1,i+"/expansion_conv")}},extractMainBlockParams:function(t,e){return{separable_conv0:r(t,t,e+"/separable_conv0"),separable_conv1:r(t,t,e+"/separable_conv1"),separable_conv2:r(t,t,e+"/separable_conv2")}}}}(i,n),s=a.extractConvParams,u=a.extractSeparableConvParams,c=a.extractReductionBlockParams,l=a.extractMainBlockParams,f={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:c(32,64,"entry_flow/reduction_block_0"),reduction_block_1:c(64,128,"entry_flow/reduction_block_1")},h={};p(e,0,1).forEach(function(t){h["main_block_"+t]=l(128,"middle_flow/main_block_"+t)});var d={reduction_block:c(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{entry_flow:f,middle_flow:h,exit_flow:d}}}function Bt(t,e){var n=[],r=function(t,e){var n=Et(t,e),r=St(n),i=xt(n);return{extractConvParams:r,extractSeparableConvParams:i,extractReductionBlockParams:function(t){return{separable_conv0:i(t+"/separable_conv0"),separable_conv1:i(t+"/separable_conv1"),expansion_conv:r(t+"/expansion_conv")}},extractMainBlockParams:function(t){return{separable_conv0:i(t+"/separable_conv0"),separable_conv1:i(t+"/separable_conv1"),separable_conv2:i(t+"/separable_conv2")}}}}(t,n),i=r.extractConvParams,o=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:i("entry_flow/conv_in"),reduction_block_0:a("entry_flow/reduction_block_0"),reduction_block_1:a("entry_flow/reduction_block_1")},c={};p(e,0,1).forEach(function(t){c["main_block_"+t]=s("middle_flow/main_block_"+t)});var l={reduction_block:a("exit_flow/reduction_block"),separable_conv:o("exit_flow/separable_conv")};return gt(t,n),{params:{entry_flow:u,middle_flow:c,exit_flow:l},paramMappings:n}}function Vt(t,e,n){return r.c(r.i(t,e.filters,n,"same"),e.bias)}function Ut(t,e,n){void 0===n&&(n=!0);var i=n?r.w(t):t;return i=ht(i,e.separable_conv0,[1,1]),i=ht(r.w(i),e.separable_conv1,[1,1]),i=r.s(i,[3,3],[2,2],"same"),i=r.c(i,Vt(t,e.expansion_conv,[2,2]))}var zt,Wt=function(t){function e(e){var n=t.call(this,"TinyXception")||this;return n._numMainBlocks=e,n}return Object(o.c)(e,t),e.prototype.forwardInput=function(t){var e=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return r.L(function(){var i=k(t.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(r.y(256)),o=r.w(Vt(i,n.entry_flow.conv_in,[2,2]));return o=Ut(o,n.entry_flow.reduction_block_0,!1),o=Ut(o,n.entry_flow.reduction_block_1),p(e._numMainBlocks,0,1).forEach(function(t){o=function(t,e){var n=ht(r.w(t),e.separable_conv0,[1,1]);return n=ht(r.w(n),e.separable_conv1,[1,1]),n=ht(r.w(n),e.separable_conv2,[1,1]),n=r.c(n,t)}(o,n.middle_flow["main_block_"+t])}),o=Ut(o,n.exit_flow.reduction_block),o=r.w(ht(o,n.exit_flow.separable_conv,[1,1]))})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(t){return Bt(t,this._numMainBlocks)},e.prototype.extractParams=function(t){return Lt(t,this._numMainBlocks)},e}(ft);!function(t){t.FEMALE="female",t.MALE="male"}(zt||(zt={}));var qt=function(t){function e(e){void 0===e&&(e=new Wt(2));var n=t.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=e,n}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var e=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return r.L(function(){var i=t instanceof nt?e.faceFeatureExtractor.forwardInput(t):t,o=r.d(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1);return{age:Tt(o,n.fc.age).as1D(),gender:Tt(o,n.fc.gender)}})},e.prototype.forwardInput=function(t){var e=this;return r.L(function(){var n=e.runNet(t),i=n.age,o=n.gender;return{age:i,gender:r.D(o)}})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.predictAgeAndGender=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n,i,a,s,u,c=this;return Object(o.d)(this,function(l){switch(l.label){case 0:return[4,rt(t)];case 1:return e=l.sent(),[4,this.forwardInput(e)];case 2:return n=l.sent(),i=r.O(n.age),a=r.O(n.gender),s=i.map(function(t,e){return{ageTensor:t,genderTensor:a[e]}}),[4,Promise.all(s.map(function(t){var e=t.ageTensor,n=t.genderTensor;return Object(o.b)(c,void 0,void 0,function(){var t,r,i,a,s;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,e.data()];case 1:return t=o.sent()[0],[4,n.data()];case 2:return r=o.sent()[0],a=(i=r>.5)?zt.MALE:zt.FEMALE,s=i?r:1-r,e.dispose(),n.dispose(),[2,{age:t,gender:a,genderProbability:s}]}})})}))];case 3:return u=l.sent(),n.age.dispose(),n.gender.dispose(),[2,e.isBatchInput?u:u[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.faceFeatureExtractor.dispose(e),t.prototype.dispose.call(this,e)},e.prototype.loadClassifierParams=function(t){var e=this.extractClassifierParams(t),n=e.params,r=e.paramMappings;this._params=n,this._paramMappings=r},e.prototype.extractClassifierParams=function(t){return function(t){var e=[],n=_t(t),r=n.extractWeights,i=n.getRemainingWeights,o=yt(r,e),a=o(512,1,"fc/age"),s=o(512,2,"fc/gender");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{fc:{age:a,gender:s}}}}(t)},e.prototype.extractParamsFromWeigthMap=function(t){var e=It(t),n=e.featureExtractorMap,r=e.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(t){var e=[],n=Et(t,e);function r(t){return{weights:n(t+"/weights",2),bias:n(t+"/bias",1)}}var i={fc:{age:r("fc/age"),gender:r("fc/gender")}};return gt(t,e),{params:i,paramMappings:e}}(r)},e.prototype.extractParams=function(t){var e=t.slice(0,t.length-1539),n=t.slice(t.length-1539);return this.faceFeatureExtractor.extractWeights(e),this.extractClassifierParams(n)},e}(ft),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.postProcess=function(t,e,n){var i=n.map(function(t){var n=t.width,r=t.height,i=e/Math.max(r,n);return{width:n*i,height:r*i}}),o=i.length;return r.L(function(){var n=function(t,e){return r.E([r.n([68],t),r.n([68],e)],1).as2D(1,136).as1D()},a=function(t,e){var n=i[t],r=n.width,o=n.height;return e(r,o)?Math.abs(r-o)/2:0};return t.mul(r.n([o,136],e)).sub(r.E(Array.from(Array(o),function(t,e){return n(function(t){return a(t,function(t,e){return t<e})}(e),function(t){return a(t,function(t,e){return e<t})}(e))}))).div(r.E(Array.from(Array(o),function(t,e){return n(i[e].width,i[e].height)})))})},e.prototype.forwardInput=function(t){var e=this;return r.L(function(){var n=e.runNet(t);return e.postProcess(n,t.inputSize,t.inputDimensions.map(function(t){return{height:t[0],width:t[1]}}))})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.detectLandmarks=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n,i,a=this;return Object(o.d)(this,function(s){switch(s.label){case 0:return[4,rt(t)];case 1:return e=s.sent(),n=r.L(function(){return r.O(a.forwardInput(e))}),[4,Promise.all(n.map(function(t,n){return Object(o.b)(a,void 0,void 0,function(){var r,i,a,s,u;return Object(o.d)(this,function(o){switch(o.label){case 0:return a=(i=Array).from,[4,t.data()];case 1:return r=a.apply(i,[o.sent()]),s=r.filter(function(t,e){return l(e)}),u=r.filter(function(t,e){return!l(e)}),[2,new I(Array(68).fill(0).map(function(t,e){return new m(s[e],u[e])}),{height:e.getInputHeight(n),width:e.getInputWidth(n)})]}})})}))];case 2:return i=s.sent(),n.forEach(function(t){return t.dispose()}),[2,e.isBatchInput?i:i[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e}(Rt),Gt=function(t){function e(e){return void 0===e&&(e=new Ot),t.call(this,"FaceLandmark68Net",e)||this}return Object(o.c)(e,t),e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e}(Ht);var Kt=function(t){function e(){return t.call(this,"TinyFaceFeatureExtractor")||this}return Object(o.c)(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("TinyFaceFeatureExtractor - load model before inference");return r.L(function(){var n=dt(k(t.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(r.y(255)),e.dense0,!0);return n=dt(n,e.dense1),n=dt(n,e.dense2),n=r.d(n,[14,14],[2,2],"valid")})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(t){return function(t){var e=[],n=Ct(t,e).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return gt(t,e),{params:r,paramMappings:e}}(t)},e.prototype.extractParams=function(t){return function(t){var e=[],n=_t(t),r=n.extractWeights,i=n.getRemainingWeights,o=kt(r,e).extractDenseBlock3Params,a=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{dense0:a,dense1:s,dense2:u}}}(t)},e}(ft),Xt=function(t){function e(e){return void 0===e&&(e=new Kt),t.call(this,"FaceLandmark68TinyNet",e)||this}return Object(o.c)(e,t),e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e}(Ht);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o.c)(e,t)}(Gt);function $t(t,e,n,i,o){void 0===o&&(o="same");var a=e.conv,s=a.filters,u=a.bias,c=r.i(t,s,n,o);return c=function(t,e){return r.c(r.t(t,e.weights),e.biases)}(c=r.c(c,u),e.scale),i?r.w(c):c}function Yt(t,e){return $t(t,e,[1,1],!1)}function Qt(t,e){return $t(t,e,[2,2],!0,"valid")}function Jt(t,e){function n(n,i,o,a){var s=function(e,n,i){var o=t(e),a=o.length/(n*i*i);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+o.length+", numFilters: "+n+", filterSize: "+i);return r.L(function(){return r.N(r.K(o,[n,a,i,i]),[2,3,1,0])})}(n,i,o),u=r.H(t(i));return e.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}function i(i,o,a,s){return{conv:n(i,o,a,s+"/conv"),scale:function(n,i){var o=r.H(t(n)),a=r.H(t(n));return e.push({paramPath:i+"/weights"},{paramPath:i+"/biases"}),{weights:o,biases:a}}(o,s+"/scale")}}return{extractConvLayerParams:i,extractResidualLayerParams:function(t,e,n,r,o){return void 0===o&&(o=!1),{conv1:i((o?.5:1)*t,e,n,r+"/conv1"),conv2:i(t,e,n,r+"/conv2")}}}}function Zt(t,e){var n=Et(t,e);function r(t){return{conv:{filters:n(t+"/conv/filters",4),bias:n(t+"/conv/bias",1)},scale:function(t){return{weights:n(t+"/scale/weights",1),biases:n(t+"/scale/biases",1)}}(t)}}return{extractConvLayerParams:r,extractResidualLayerParams:function(t){return{conv1:r(t+"/conv1"),conv2:r(t+"/conv2")}}}}function te(t){var e=[],n=Zt(t,e),r=n.extractConvLayerParams,i=n.extractResidualLayerParams,o=r("conv32_down"),a=i("conv32_1"),u=i("conv32_2"),c=i("conv32_3"),l=i("conv64_down"),f=i("conv64_1"),h=i("conv64_2"),d=i("conv64_3"),p=i("conv128_down"),v=i("conv128_1"),g=i("conv128_2"),m=i("conv256_down"),y=i("conv256_1"),b=i("conv256_2"),w=i("conv256_down_out"),x=t.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!s(x,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var E={conv32_down:o,conv32_1:a,conv32_2:u,conv32_3:c,conv64_down:l,conv64_1:f,conv64_2:h,conv64_3:d,conv128_down:p,conv128_1:v,conv128_2:g,conv256_down:m,conv256_1:y,conv256_2:b,conv256_down_out:w,fc:x};return gt(t,e),{params:E,paramMappings:e}}function ee(t,e){var n=function(t,e){return $t(t,e,[1,1],!0)}(t,e.conv1);return n=Yt(n,e.conv2),n=r.c(n,t),n=r.w(n)}function ne(t,e){var n=Qt(t,e.conv1);n=Yt(n,e.conv2);var i=r.d(t,2,2,"valid"),a=r.P(i.shape),s=i.shape[3]!==n.shape[3];if(i.shape[1]!==n.shape[1]||i.shape[2]!==n.shape[2]){var u=Object(o.e)(n.shape);u[1]=1;var c=r.P(u);n=r.h([n,c],1);var l=Object(o.e)(n.shape);l[2]=1;var f=r.P(l);n=r.h([n,f],2)}return i=s?r.h([i,a],3):i,n=r.c(i,n),n=r.w(n)}var re=function(t){function e(){return t.call(this,"FaceRecognitionNet")||this}return Object(o.c)(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("FaceRecognitionNet - load model before inference");return r.L(function(){var n=Qt(k(t.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(r.y(256)),e.conv32_down);n=ee(n=r.s(n,3,2,"valid"),e.conv32_1),n=ee(n,e.conv32_2),n=ee(n,e.conv32_3),n=ee(n=ne(n,e.conv64_down),e.conv64_1),n=ee(n,e.conv64_2),n=ee(n,e.conv64_3),n=ee(n=ne(n,e.conv128_down),e.conv128_1),n=ee(n,e.conv128_2),n=ee(n=ne(n,e.conv256_down),e.conv256_1);var i=(n=ne(n=ee(n,e.conv256_2),e.conv256_down_out)).mean([1,2]);return r.q(i,e.fc)})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.computeFaceDescriptor=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n,i,a=this;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,rt(t)];case 1:return e=o.sent(),n=r.L(function(){return r.O(a.forwardInput(e))}),[4,Promise.all(n.map(function(t){return t.data()}))];case 2:return i=o.sent(),n.forEach(function(t){return t.dispose()}),[2,e.isBatchInput?i:i[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(t){return te(t)},e.prototype.extractParams=function(t){return function(t){var e=_t(t),n=e.extractWeights,i=e.getRemainingWeights,o=[],a=Jt(n,o),s=a.extractConvLayerParams,u=a.extractResidualLayerParams,c=s(4704,32,7,"conv32_down"),l=u(9216,32,3,"conv32_1"),f=u(9216,32,3,"conv32_2"),h=u(9216,32,3,"conv32_3"),d=u(36864,64,3,"conv64_down",!0),p=u(36864,64,3,"conv64_1"),v=u(36864,64,3,"conv64_2"),g=u(36864,64,3,"conv64_3"),m=u(147456,128,3,"conv128_down",!0),y=u(147456,128,3,"conv128_1"),b=u(147456,128,3,"conv128_2"),w=u(589824,256,3,"conv256_down",!0),x=u(589824,256,3,"conv256_1"),E=u(589824,256,3,"conv256_2"),_=u(589824,256,3,"conv256_down_out"),k=r.L(function(){return r.N(r.I(n(32768),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{conv32_down:c,conv32_1:l,conv32_2:f,conv32_3:h,conv64_down:d,conv64_1:p,conv64_2:v,conv64_3:g,conv128_down:m,conv128_1:y,conv128_2:b,conv256_down:w,conv256_1:x,conv256_2:E,conv256_down_out:_,fc:k},paramMappings:o}}(t)},e}(ft);function ie(t,e){var n={descriptor:e};return Object.assign({},t,n)}function oe(t,e){var n={age:e};return Object.assign({},t,n)}function ae(t,e,n){var r={gender:e,genderProbability:n};return Object.assign({},t,r)}var se=function(){function t(t){var e=void 0===t?{}:t,n=e.minFaceSize,r=e.scaleFactor,i=e.maxNumScales,o=e.scoreThresholds,a=e.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=i||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=a,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(t){return"number"!==typeof t}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(t){return"number"!==typeof t})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(t.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),t}();function ue(t,e){function n(n,i,o,a,s){var u=r.K(t(n*i*o*o),[o,o,n,i]),c=r.H(t(i));return e.push({paramPath:a+"/filters"},{paramPath:a+"/"+(s?"batch_norm_offset":"bias")}),{filters:u,bias:c}}function i(t,e,r,i){var o=n(t,e,r,i,!0);return{filters:o.filters,batch_norm_offset:o.bias}}function o(n,o,a){return{depthwise_conv:function(n,i){var o=r.K(t(9*n),[3,3,n,1]),a=r.H(t(n)),s=r.H(t(n)),u=r.H(t(n)),c=r.H(t(n));return e.push({paramPath:i+"/filters"},{paramPath:i+"/batch_norm_scale"},{paramPath:i+"/batch_norm_offset"},{paramPath:i+"/batch_norm_mean"},{paramPath:i+"/batch_norm_variance"}),{filters:o,batch_norm_scale:a,batch_norm_offset:s,batch_norm_mean:u,batch_norm_variance:c}}(n,a+"/depthwise_conv"),pointwise_conv:i(n,o,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:i(3,32,3,"mobilenetv1/conv_0"),conv_1:o(32,64,"mobilenetv1/conv_1"),conv_2:o(64,128,"mobilenetv1/conv_2"),conv_3:o(128,128,"mobilenetv1/conv_3"),conv_4:o(128,256,"mobilenetv1/conv_4"),conv_5:o(256,256,"mobilenetv1/conv_5"),conv_6:o(256,512,"mobilenetv1/conv_6"),conv_7:o(512,512,"mobilenetv1/conv_7"),conv_8:o(512,512,"mobilenetv1/conv_8"),conv_9:o(512,512,"mobilenetv1/conv_9"),conv_10:o(512,512,"mobilenetv1/conv_10"),conv_11:o(512,512,"mobilenetv1/conv_11"),conv_12:o(512,1024,"mobilenetv1/conv_12"),conv_13:o(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:i(1024,256,1,"prediction_layer/conv_0"),conv_1:i(256,512,3,"prediction_layer/conv_1"),conv_2:i(512,128,1,"prediction_layer/conv_2"),conv_3:i(128,256,3,"prediction_layer/conv_3"),conv_4:i(256,128,1,"prediction_layer/conv_4"),conv_5:i(128,256,3,"prediction_layer/conv_5"),conv_6:i(256,64,1,"prediction_layer/conv_6"),conv_7:i(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function ce(t){var e=[],n=function(t,e){var n=Et(t,e);function r(t,e,r){return{filters:n(t+"/Conv2d_"+e+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(t+"/Conv2d_"+e+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function i(t){var e="mobilenetv1/conv_"+t,i="MobilenetV1/Conv2d_"+t+"_depthwise",o=e+"/depthwise_conv",a=e+"/pointwise_conv";return{depthwise_conv:{filters:n(i+"/depthwise_weights",4,o+"/filters"),batch_norm_scale:n(i+"/BatchNorm/gamma",1,o+"/batch_norm_scale"),batch_norm_offset:n(i+"/BatchNorm/beta",1,o+"/batch_norm_offset"),batch_norm_mean:n(i+"/BatchNorm/moving_mean",1,o+"/batch_norm_mean"),batch_norm_variance:n(i+"/BatchNorm/moving_variance",1,o+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",t,a)}}function o(t,e){return{filters:n(t+"/weights",4,e+"/filters"),bias:n(t+"/biases",1,e+"/bias")}}function a(t){return{box_encoding_predictor:o("Prediction/BoxPredictor_"+t+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+t+"/box_encoding_predictor"),class_predictor:o("Prediction/BoxPredictor_"+t+"/ClassPredictor","prediction_layer/box_predictor_"+t+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:a(0),box_predictor_1:a(1),box_predictor_2:a(2),box_predictor_3:a(3),box_predictor_4:a(4),box_predictor_5:a(5)}}}}(t,e),r=n.extractMobilenetV1Params,i=n.extractPredictionLayerParams,o=t["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!u(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var a={mobilenetv1:r(),prediction_layer:i(),output_layer:{extra_dim:o}};return gt(t,e),{params:a,paramMappings:e}}function le(t,e,n){return r.L(function(){var i=r.i(t,e.filters,n,"same");return i=r.c(i,e.batch_norm_offset),r.g(i,0,6)})}var fe=.0010000000474974513;function he(t,e){return r.L(function(){var n=null,i=le(t,e.conv_0,[2,2]);if([e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13].forEach(function(t,e){var o,a,s,u=e+1,c=function(t){return[2,4,6,12].some(function(e){return e===t})?[2,2]:[1,1]}(u);o=i,a=t.depthwise_conv,s=c,i=le(i=r.L(function(){var t=r.j(o,a.filters,s,"same");return t=r.e(t,a.batch_norm_mean,a.batch_norm_variance,a.batch_norm_offset,a.batch_norm_scale,fe),r.g(t,0,6)}),t.pointwise_conv,[1,1]),11===u&&(n=i)}),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:i,conv11:n}})}function de(t,e,n){var r=t.arraySync(),i=Math.min(r[e][0],r[e][2]),o=Math.min(r[e][1],r[e][3]),a=Math.max(r[e][0],r[e][2]),s=Math.max(r[e][1],r[e][3]),u=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),l=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),h=(a-i)*(s-o),d=(l-u)*(f-c);if(h<=0||d<=0)return 0;var p=Math.max(i,u),v=Math.max(o,c),g=Math.min(a,l),m=Math.min(s,f),y=Math.max(g-p,0)*Math.max(m-v,0);return y/(h+d-y)}function pe(t,e){var n=function(t){var e=r.O(r.N(t,[1,0])),n=[r.F(e[2],e[0]),r.F(e[3],e[1])];return{sizes:n,centers:[r.c(e[0],r.k(n[0],r.y(2))),r.c(e[1],r.k(n[1],r.y(2)))]}}(t),i=n.sizes,o=n.centers,a=r.O(r.N(e,[1,0])),s=r.k(r.t(r.l(r.k(a[2],r.y(5))),i[0]),r.y(2)),u=r.c(r.t(r.k(a[0],r.y(10)),i[0]),o[0]),c=r.k(r.t(r.l(r.k(a[3],r.y(5))),i[1]),r.y(2)),l=r.c(r.t(r.k(a[1],r.y(10)),i[1]),o[1]);return r.N(r.E([r.F(u,s),r.F(l,c),r.c(u,s),r.c(l,c)]),[1,0])}function ve(t,e){return r.L(function(){var n=t.shape[0];return{boxPredictionEncoding:r.x(vt(t,e.box_encoding_predictor),[n,-1,1,4]),classPrediction:r.x(vt(t,e.class_predictor),[n,-1,3])}})}var ge=function(){function t(t){var e=void 0===t?{}:t,n=e.minConfidence,r=e.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(t.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),t}(),me=function(t){function e(){return t.call(this,"SsdMobilenetv1")||this}return Object(o.c)(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("SsdMobilenetv1 - load model before inference");return r.L(function(){var n=t.toBatchTensor(512,!1).toFloat(),i=he(r.F(r.t(n,r.y(.007843137718737125)),r.y(1)),e.mobilenetv1),o=function(t,e,n){return r.L(function(){var i=le(t,n.conv_0,[1,1]),o=le(i,n.conv_1,[2,2]),a=le(o,n.conv_2,[1,1]),s=le(a,n.conv_3,[2,2]),u=le(s,n.conv_4,[1,1]),c=le(u,n.conv_5,[2,2]),l=le(c,n.conv_6,[1,1]),f=le(l,n.conv_7,[2,2]),h=ve(e,n.box_predictor_0),d=ve(t,n.box_predictor_1),p=ve(o,n.box_predictor_2),v=ve(s,n.box_predictor_3),g=ve(c,n.box_predictor_4),m=ve(f,n.box_predictor_5);return{boxPredictions:r.h([h.boxPredictionEncoding,d.boxPredictionEncoding,p.boxPredictionEncoding,v.boxPredictionEncoding,g.boxPredictionEncoding,m.boxPredictionEncoding],1),classPredictions:r.h([h.classPrediction,d.classPrediction,p.classPrediction,v.classPrediction,g.classPrediction,m.classPrediction],1)}})}(i.out,i.conv11,e.prediction_layer);return function(t,e,n){return r.L(function(){var i=t.shape[0],o=pe(r.x(r.M(n.extra_dim,[i,1,1]),[-1,4]),r.x(t,[-1,4]));o=r.x(o,[i,o.shape[0]/i,4]);var a=r.A(r.B(e,[0,0,1],[-1,-1,-1])),s=r.B(a,[0,0,0],[-1,-1,1]);return s=r.x(s,[i,s.shape[1]]),{boxes:r.O(o),scores:r.O(s)}})}(o.boxPredictions,o.classPredictions,e.output_layer)})},e.prototype.forward=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,rt(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.locateFaces=function(t,e){return void 0===e&&(e={}),Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s,u,c,l,f,h,d,p,v,g,m,y,b,w,E,_;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=new ge(e),r=n.maxResults,i=n.minConfidence,[4,rt(t)];case 1:for(a=o.sent(),s=this.forwardInput(a),u=s.boxes,c=s.scores,l=u[0],f=c[0],h=1;h<u.length;h++)u[h].dispose(),c[h].dispose();return v=(p=Array).from,[4,f.data()];case 2:return d=v.apply(p,[o.sent()]),.5,g=function(t,e,n,r,i){var o=t.shape[0],a=Math.min(n,o),s=e.map(function(t,e){return{score:t,boxIndex:e}}).filter(function(t){return t.score>i}).sort(function(t,e){return e.score-t.score}),u=[];return s.forEach(function(e){if(!(u.length>=a)){for(var n=e.score,o=u.length-1;o>=0;--o){var s=de(t,e.boxIndex,u[o]);if(0!==s&&(e.score*=s<=r?1:0,e.score<=i))break}n===e.score&&u.push(e.boxIndex)}}),u}(l,d,r,.5,i),m=a.getReshapedInputDimensions(0),y=a.inputSize,b=y/m.width,w=y/m.height,E=l.arraySync(),_=g.map(function(t){var e=[Math.max(0,E[t][0]),Math.min(1,E[t][2])].map(function(t){return t*w}),n=e[0],r=e[1],i=[Math.max(0,E[t][1]),Math.min(1,E[t][3])].map(function(t){return t*b}),o=i[0],s=i[1];return new x(d[t],new C(o,n,s-o,r-n),{height:a.getInputHeight(0),width:a.getInputWidth(0)})}),l.dispose(),f.dispose(),[2,_]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(t){return ce(t)},e.prototype.extractParams=function(t){return function(t){var e=[],n=_t(t),i=n.extractWeights,o=n.getRemainingWeights,a=ue(i,e),s=a.extractMobilenetV1Params,u=a.extractPredictionLayerParams,c=s(),l=u(),f={extra_dim:r.J(i(20472),[1,5118,4])};if(e.push({paramPath:"output_layer/extra_dim"}),0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:c,prediction_layer:l,output_layer:f},paramMappings:e}}(t)},e}(ft);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o.c)(e,t)}(me);var ye,be=.4,we=[new m(.738768,.874946),new m(2.42204,2.65704),new m(4.30971,7.04493),new m(10.246,4.59428),new m(12.6868,11.8741)],xe=[new m(1.603231,2.094468),new m(6.041143,7.080126),new m(2.882459,3.518061),new m(4.266906,5.178857),new m(9.041765,10.66308)],Ee=[117.001,114.697,97.404],_e=function(t){return"number"===typeof t};function ke(t){return r.L(function(){var e=r.t(t,r.y(.10000000149011612));return r.c(r.w(r.F(t,e)),e)})}function Se(t,e){return r.L(function(){var n=r.v(t,[[0,0],[1,1],[1,1],[0,0]]);return n=r.i(n,e.conv.filters,[1,1],"valid"),n=r.F(n,e.bn.sub),n=r.t(n,e.bn.truediv),ke(n=r.c(n,e.conv.bias))})}function Ce(t,e){return r.L(function(){var n=r.v(t,[[0,0],[1,1],[1,1],[0,0]]);return n=r.z(n,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),ke(n=r.c(n,e.bias))})}function Oe(t,e){var n=mt(t,e);var i=wt(t,e);return{extractConvParams:n,extractConvWithBatchNormParams:function(i,o,a){return{conv:n(i,o,3,a+"/conv"),bn:function(n,i){var o=r.H(t(n)),a=r.H(t(n));return e.push({paramPath:i+"/sub"},{paramPath:i+"/truediv"}),{sub:o,truediv:a}}(o,a+"/bn")}},extractSeparableConvParams:i}}function Te(t,e){var n=Et(t,e);function r(t){return{filters:n(t+"/filters",4),bias:n(t+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(t){return{conv:r(t+"/conv"),bn:function(t){return{sub:n(t+"/sub",1),truediv:n(t+"/truediv",1)}}(t+"/bn")}},extractSeparableConvParams:xt(n)}}!function(t){t[t.XS=224]="XS",t[t.SM=320]="SM",t[t.MD=416]="MD",t[t.LG=608]="LG"}(ye||(ye={}));var Ie=function(){function t(t){var e=void 0===t?{}:t,n=e.inputSize,r=e.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),t}(),Re=function(t){function e(e){var n=t.call(this,"TinyYolov2")||this;return function(t){if(!t)throw new Error("invalid config: "+t);if("boolean"!==typeof t.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+t.withSeparableConvs);if(!_e(t.iouThreshold)||t.iouThreshold<0||t.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+t.iouThreshold);if(!Array.isArray(t.classes)||!t.classes.length||!t.classes.every(function(t){return"string"===typeof t}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(t.classes));if(!Array.isArray(t.anchors)||!t.anchors.length||!t.anchors.map(function(t){return t||{}}).every(function(t){return _e(t.x)&&_e(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(t.anchors));if(t.meanRgb&&(!Array.isArray(t.meanRgb)||3!==t.meanRgb.length||!t.meanRgb.every(_e)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(t.meanRgb))}(e),n._config=e,n}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(t,e){var n=Se(t,e.conv0);return n=Se(n=r.s(n,[2,2],[2,2],"same"),e.conv1),n=Se(n=r.s(n,[2,2],[2,2],"same"),e.conv2),n=Se(n=r.s(n,[2,2],[2,2],"same"),e.conv3),n=Se(n=r.s(n,[2,2],[2,2],"same"),e.conv4),n=Se(n=r.s(n,[2,2],[2,2],"same"),e.conv5),n=Se(n=r.s(n,[2,2],[1,1],"same"),e.conv6),vt(n=Se(n,e.conv7),e.conv8,"valid",!1)},e.prototype.runMobilenet=function(t,e){var n=this.config.isFirstLayerConv2d?ke(vt(t,e.conv0,"valid",!1)):Ce(t,e.conv0);return n=Ce(n=r.s(n,[2,2],[2,2],"same"),e.conv1),n=Ce(n=r.s(n,[2,2],[2,2],"same"),e.conv2),n=Ce(n=r.s(n,[2,2],[2,2],"same"),e.conv3),n=Ce(n=r.s(n,[2,2],[2,2],"same"),e.conv4),n=Ce(n=r.s(n,[2,2],[2,2],"same"),e.conv5),n=r.s(n,[2,2],[1,1],"same"),n=e.conv6?Ce(n,e.conv6):n,vt(n=e.conv7?Ce(n,e.conv7):n,e.conv8,"valid",!1)},e.prototype.forwardInput=function(t,e){var n=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return r.L(function(){var o=t.toBatchTensor(e,!1).toFloat();return o=(o=n.config.meanRgb?k(o,n.config.meanRgb):o).div(r.y(256)),n.config.withSeparableConvs?n.runMobilenet(o,i):n.runTinyYolov2(o,i)})},e.prototype.forward=function(t,e){return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,rt(t)];case 1:return[4,n.apply(this,[r.sent(),e])];case 2:return[2,r.sent()]}})})},e.prototype.detect=function(t,e){return void 0===e&&(e={}),Object(o.b)(this,void 0,void 0,function(){var n,i,a,s,u,c,l,f,h,d,p,v,g,m=this;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=new Ie(e),i=n.inputSize,a=n.scoreThreshold,[4,rt(t)];case 1:return s=o.sent(),[4,this.forwardInput(s,i)];case 2:return u=o.sent(),c=r.L(function(){return r.O(u)[0].expandDims()}),l={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),a)];case 3:return f=o.sent(),u.dispose(),c.dispose(),h=f.map(function(t){return t.box}),d=f.map(function(t){return t.score}),p=f.map(function(t){return t.classScore}),v=f.map(function(t){return m.config.classes[t.label]}),g=_(h.map(function(t){return t.rescale(i)}),d,this.config.iouThreshold,!0),[2,g.map(function(t){return new w(d[t],p[t],v[t],h[t],l)})]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(t){return function(t,e){var n,r=[],i=Te(t,r),o=i.extractConvParams,a=i.extractConvWithBatchNormParams,s=i.extractSeparableConvParams;if(e.withSeparableConvs){var u=e.filterSizes&&e.filterSizes.length||9;n={conv0:e.isFirstLayerConv2d?o("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:o("conv8")}}else n={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:o("conv8")};return gt(t,r),{params:n,paramMappings:r}}(t,this.config)},e.prototype.extractParams=function(t){var n=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(t,e,n,r){var i,o=_t(t),a=o.extractWeights,s=o.getRemainingWeights,u=[],c=Oe(a,u),l=c.extractConvParams,f=c.extractConvWithBatchNormParams,h=c.extractSeparableConvParams;if(e.withSeparableConvs){var d=r[0],p=r[1],v=r[2],g=r[3],m=r[4],y=r[5],b=r[6],w=r[7],x=r[8];i={conv0:e.isFirstLayerConv2d?l(d,p,3,"conv0"):h(d,p,"conv0"),conv1:h(p,v,"conv1"),conv2:h(v,g,"conv2"),conv3:h(g,m,"conv3"),conv4:h(m,y,"conv4"),conv5:h(y,b,"conv5"),conv6:w?h(b,w,"conv6"):void 0,conv7:x?h(w,x,"conv7"):void 0,conv8:l(x||w||b,5*n,1,"conv8")}}else d=r[0],p=r[1],v=r[2],g=r[3],m=r[4],y=r[5],b=r[6],w=r[7],x=r[8],i={conv0:f(d,p,"conv0"),conv1:f(p,v,"conv1"),conv2:f(v,g,"conv2"),conv3:f(g,m,"conv3"),conv4:f(m,y,"conv4"),conv5:f(y,b,"conv5"),conv6:f(b,w,"conv6"),conv7:f(w,x,"conv7"),conv8:l(x,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:i,paramMappings:u}}(t,this.config,this.boxEncodingSize,n)},e.prototype.extractBoxes=function(t,e,n){return Object(o.b)(this,void 0,void 0,function(){var i,a,s,u,c,l,f,h,d,p,v,g,m,y,w,x,E,_,k,C,O,T,I,R,A,P,N,D,M,j=this;return Object(o.d)(this,function(F){switch(F.label){case 0:return i=e.width,a=e.height,s=Math.max(i,a),u=s/i,c=s/a,l=t.shape[1],f=this.config.anchors.length,h=r.L(function(){var e=t.reshape([l,l,f,j.boxEncodingSize]);return[e.slice([0,0,0,0],[l,l,f,4]),e.slice([0,0,0,4],[l,l,f,1]),j.withClassScores?r.D(e.slice([0,0,0,5],[l,l,f,j.config.classes.length]),3):r.y(0)]}),d=h[0],p=h[1],v=h[2],g=[],[4,p.array()];case 1:return m=F.sent(),[4,d.array()];case 2:y=F.sent(),w=0,F.label=3;case 3:if(!(w<l))return[3,12];x=0,F.label=4;case 4:if(!(x<l))return[3,11];E=0,F.label=5;case 5:return E<f?(_=S(m[w][x][E][0]),!n||_>n?(k=(x+S(y[w][x][E][0]))/l*u,C=(w+S(y[w][x][E][1]))/l*c,O=Math.exp(y[w][x][E][2])*this.config.anchors[E].x/l*u,T=Math.exp(y[w][x][E][3])*this.config.anchors[E].y/l*c,I=k-O/2,R=C-T/2,A={row:w,col:x,anchor:E},this.withClassScores?[4,this.extractPredictedClass(v,A)]:[3,7]):[3,9]):[3,10];case 6:return M=F.sent(),[3,8];case 7:M={classScore:1,label:0},F.label=8;case 8:N=(P=M).classScore,D=P.label,g.push(Object(o.a)({box:new b(I,R,I+O,R+T),score:_,classScore:_*N,label:D},A)),F.label=9;case 9:return E++,[3,5];case 10:return x++,[3,4];case 11:return w++,[3,3];case 12:return d.dispose(),p.dispose(),v.dispose(),[2,g]}})})},e.prototype.extractPredictedClass=function(t,e){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=e.row,r=e.col,i=e.anchor,[4,t.array()];case 1:return a=o.sent(),[2,Array(this.config.classes.length).fill(0).map(function(t,e){return a[n][r][i][e]}).map(function(t,e){return{classScore:t,label:e}}).reduce(function(t,e){return t.classScore>e.classScore?t:e})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e}(ft),Ae=function(t){function e(e){void 0===e&&(e=!0);var n=Object.assign({},{withSeparableConvs:e,iouThreshold:be,classes:["face"]},e?{anchors:xe,meanRgb:Ee}:{anchors:we,withClassScores:!0});return t.call(this,n)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,this.detect(t,e)];case 1:return[2,n.sent().map(function(t){return new x(t.score,t.relativeBox,{width:t.imageWidth,height:t.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},e.prototype.extractParamsFromWeigthMap=function(e){return t.prototype.extractParamsFromWeigthMap.call(this,e)},e}(Re);var Pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="TinyFaceDetectorOptions",e}return Object(o.c)(e,t),e}(Ie),Ne=function(){function t(){}return t.prototype.then=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(n){switch(n.label){case 0:return e=t,[4,this.run()];case 1:return[2,e.apply(void 0,[n.sent()])]}})})},t.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},t}();function De(t,e,n,i,a){return void 0===a&&(a=function(t){return t.alignedRect}),Object(o.b)(this,void 0,void 0,function(){var s,u,c,l,f;return Object(o.d)(this,function(o){switch(o.label){case 0:return s=t.map(function(t){return Mt(t)?a(t):t.detection}),(c=i)?[3,5]:e instanceof r.a?[4,ot(e,s)]:[3,2];case 1:return l=o.sent(),[3,4];case 2:return[4,it(e,s)];case 3:l=o.sent(),o.label=4;case 4:c=l,o.label=5;case 5:return[4,n(u=c)];case 6:return f=o.sent(),u.forEach(function(t){return t instanceof r.a&&t.dispose()}),[2,f]}})})}function Me(t,e,n,r,i){return Object(o.b)(this,void 0,void 0,function(){var a=this;return Object(o.d)(this,function(s){return[2,De([t],e,function(t){return Object(o.b)(a,void 0,void 0,function(){return Object(o.d)(this,function(e){return[2,n(t[0])]})})},r,i)]})})}var je=2,Fe=12;function Le(t){var e=_t(t),n=e.extractWeights,i=e.getRemainingWeights,a=[],s=function(t,e){var n=mt(t,e),i=yt(t,e);function a(n,i){var o=r.H(t(n));return e.push({paramPath:i}),o}function s(t,e,r){return void 0===r&&(r=!1),{conv1:n(t[0],t[1],3,e+"/conv1"),prelu1_alpha:a(t[1],e+"/prelu1_alpha"),conv2:n(t[1],t[2],3,e+"/conv2"),prelu2_alpha:a(t[2],e+"/prelu2_alpha"),conv3:n(t[2],t[3],r?2:3,e+"/conv3"),prelu3_alpha:a(t[3],e+"/prelu3_alpha")}}return{extractPNetParams:function(){var t=s([3,10,16,32],"pnet"),e=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Object(o.a)(Object(o.a)({},t),{conv4_1:e,conv4_2:r})},extractRNetParams:function(){var t=s([3,28,48,64],"rnet",!0),e=i(576,128,"rnet/fc1"),n=a(128,"rnet/prelu4_alpha"),r=i(128,2,"rnet/fc2_1"),u=i(128,4,"rnet/fc2_2");return Object(o.a)(Object(o.a)({},t),{fc1:e,prelu4_alpha:n,fc2_1:r,fc2_2:u})},extractONetParams:function(){var t=s([3,32,64,64],"onet"),e=n(64,128,2,"onet/conv4"),r=a(128,"onet/prelu4_alpha"),u=i(1152,256,"onet/fc1"),c=a(256,"onet/prelu5_alpha"),l=i(256,2,"onet/fc2_1"),f=i(256,4,"onet/fc2_2"),h=i(256,10,"onet/fc2_3");return Object(o.a)(Object(o.a)({},t),{conv4:e,prelu4_alpha:r,fc1:u,prelu5_alpha:c,fc2_1:l,fc2_2:f,fc2_3:h})}}}(n,a),u=s.extractPNetParams,c=s.extractRNetParams,l=s.extractONetParams,f=u(),h=c(),d=l();if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{pnet:f,rnet:h,onet:d},paramMappings:a}}function Be(t){var e=[],n=function(t,e){var n=Et(t,e);function r(t){return{filters:n(t+"/weights",4,t+"/filters"),bias:n(t+"/bias",1)}}function i(t){return{weights:n(t+"/weights",2),bias:n(t+"/bias",1)}}function a(t){return n(t,1)}function s(t){return{conv1:r(t+"/conv1"),prelu1_alpha:a(t+"/prelu1_alpha"),conv2:r(t+"/conv2"),prelu2_alpha:a(t+"/prelu2_alpha"),conv3:r(t+"/conv3"),prelu3_alpha:a(t+"/prelu3_alpha")}}return{extractPNetParams:function(){var t=s("pnet"),e=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Object(o.a)(Object(o.a)({},t),{conv4_1:e,conv4_2:n})},extractRNetParams:function(){var t=s("rnet"),e=i("rnet/fc1"),n=a("rnet/prelu4_alpha"),r=i("rnet/fc2_1"),u=i("rnet/fc2_2");return Object(o.a)(Object(o.a)({},t),{fc1:e,prelu4_alpha:n,fc2_1:r,fc2_2:u})},extractONetParams:function(){var t=s("onet"),e=r("onet/conv4"),n=a("onet/prelu4_alpha"),u=i("onet/fc1"),c=a("onet/prelu5_alpha"),l=i("onet/fc2_1"),f=i("onet/fc2_2"),h=i("onet/fc2_3");return Object(o.a)(Object(o.a)({},t),{conv4:e,prelu4_alpha:n,fc1:u,prelu5_alpha:c,fc2_1:l,fc2_2:f,fc2_3:h})}}}(t,e),r=n.extractPNetParams,i=n.extractRNetParams,a=n.extractONetParams,s=r(),u=i(),c=a();return gt(t,e),{params:{pnet:s,rnet:u,onet:c},paramMappings:e}}function Ve(t,e){var n=e[0],r=e[1];return{height:Math.floor(n*t),width:Math.floor(r*t)}}var Ue=function(t){function e(e,n,r,i){return t.call(this,{left:e,top:n,right:r,bottom:i},!0)||this}return Object(o.c)(e,t),e}(y);function ze(t){return r.L(function(){return r.t(r.F(t,r.y(127.5)),r.y(.0078125))})}function We(t,e){return r.L(function(){return r.c(r.w(t),r.t(e,r.u(r.w(r.u(t)))))})}function qe(t,e,n){return void 0===n&&(n=!1),r.L(function(){var i=vt(t,e.conv1,"valid");return i=We(i,e.prelu1_alpha),i=We(i=vt(i=r.s(i,n?[2,2]:[3,3],[2,2],"same"),e.conv2,"valid"),e.prelu2_alpha),i=We(i=vt(i=n?i:r.s(i,[3,3],[2,2],"valid"),e.conv3,"valid"),e.prelu3_alpha)})}function He(t,e,n,i,o){o.stage1=[];var a=e.map(function(e){return r.L(function(){var n={scale:e},o=function(t,e){return r.L(function(){var n=Ve(e,t.shape.slice(1)),i=n.height,o=n.width,a=ze(r.o.resizeBilinear(t,[i,o]));return r.N(a,[0,2,1,3])})}(t,e),a=Date.now(),s=function(t,e){return r.L(function(){var n=qe(t,e,!0),i=vt(n,e.conv4_1,"valid"),o=r.m(r.r(i,3),3);return{prob:r.D(r.F(i,o),3),regions:vt(n,e.conv4_2,"valid")}})}(o,i),u=s.prob,c=s.regions;return n.pnet=Date.now()-a,{scoresTensor:r.O(r.O(u,3)[1])[0],regionsTensor:r.O(c)[0],scale:e,statsForScale:n}})}).map(function(t){var e=t.scoresTensor,r=t.regionsTensor,i=t.scale,a=t.statsForScale,s=function(t,e,n,r){for(var i=[],o=t.arraySync(),a=0;a<t.shape[0];a++)for(var s=0;s<t.shape[1];s++)o[a][s]>=r&&i.push(new m(s,a));return i.map(function(t){var r=new b(Math.round((t.y*je+1)/n),Math.round((t.x*je+1)/n),Math.round((t.y*je+Fe)/n),Math.round((t.x*je+Fe)/n)),i=o[t.y][t.x],a=e.arraySync();return{cell:r,score:i,region:new Ue(a[t.y][t.x][0],a[t.y][t.x][1],a[t.y][t.x][2],a[t.y][t.x][3])}})}(e,r,i,n);if(e.dispose(),r.dispose(),!s.length)return o.stage1.push(a),[];var u=Date.now(),c=_(s.map(function(t){return t.cell}),s.map(function(t){return t.score}),.5);return a.nms=Date.now()-u,a.numBoxes=c.length,o.stage1.push(a),c.map(function(t){return s[t]})}).reduce(function(t,e){return t.concat(e)},[]),s=[],u=[];if(a.length>0){var c=Date.now(),l=_(a.map(function(t){return t.cell}),a.map(function(t){return t.score}),.7);o.stage1_nms=Date.now()-c,u=l.map(function(t){return a[t].score}),s=l.map(function(t){return a[t]}).map(function(t){var e=t.cell,n=t.region;return new b(e.left+n.left*e.width,e.top+n.top*e.height,e.right+n.right*e.width,e.bottom+n.bottom*e.height).toSquare().round()})}return{boxes:s,scores:u}}function Ge(t,e,n){var i=n.width,a=n.height;return Object(o.b)(this,void 0,void 0,function(){var n,s,u,c=this;return Object(o.d)(this,function(l){switch(l.label){case 0:return n=G(t),[4,Promise.all(e.map(function(e){return Object(o.b)(c,void 0,void 0,function(){var r,i,a,s,u,c,l,f;return Object(o.d)(this,function(o){return r=e.padAtBorders(t.height,t.width),i=r.y,a=r.ey,s=r.x,u=r.ex,c=s-1,l=i-1,f=n.getImageData(c,l,u-c,a-l),[2,q.isNodejs()?Z(f):createImageBitmap(f)]})})}))];case 1:return s=l.sent(),u=[],s.forEach(function(t){var e=G(J({width:i,height:a}));e.drawImage(t,0,0,i,a);for(var n=e.getImageData(0,0,i,a).data,r=[],o=0;o<n.length;o+=4)r.push(n[o+2]),r.push(n[o+1]),r.push(n[o]);u.push(r)}),[2,u.map(function(t){return r.L(function(){return ze(r.N(r.K(t,[1,i,a,3]),[0,2,1,3]).toFloat())})})]}})})}function Ke(t,e,n,i,a){return Object(o.b)(this,void 0,void 0,function(){var s,u,c,l,f,h,d,p,v,g,m,y,b,w;return Object(o.d)(this,function(o){switch(o.label){case 0:return s=Date.now(),[4,Ge(t,e,{width:24,height:24})];case 1:return u=o.sent(),a.stage2_extractImagePatches=Date.now()-s,s=Date.now(),c=u.map(function(t){var e=function(t,e){return r.L(function(){var n=qe(t,e),i=We(Tt(r.x(n,[n.shape[0],e.fc1.weights.shape[0]]),e.fc1),e.prelu4_alpha),o=Tt(i,e.fc2_1),a=r.m(r.r(o,1),1),s=r.D(r.F(o,a),1),u=Tt(i,e.fc2_2);return{scores:r.O(s,1)[1],regions:u}})}(t,i);return t.dispose(),e}),a.stage2_rnet=Date.now()-s,l=c.length>1?r.h(c.map(function(t){return t.scores})):c[0].scores,d=(h=Array).from,[4,l.data()];case 2:return f=d.apply(h,[o.sent()]),l.dispose(),p=f.map(function(t,e){return{score:t,idx:e}}).filter(function(t){return t.score>n}).map(function(t){return t.idx}),v=p.map(function(t){return e[t]}),g=p.map(function(t){return f[t]}),m=[],y=[],v.length>0&&(s=Date.now(),b=_(v,g,.7),a.stage2_nms=Date.now()-s,w=b.map(function(t){var e=c[p[t]].regions.arraySync();return new Ue(e[0][0],e[0][1],e[0][2],e[0][3])}),y=b.map(function(t){return g[t]}),m=b.map(function(t,e){return v[t].calibrate(w[e])})),c.forEach(function(t){t.regions.dispose(),t.scores.dispose()}),[2,{boxes:m,scores:y}]}})})}function Xe(t,e,n,i,a){return Object(o.b)(this,void 0,void 0,function(){var s,u,c,l,f,h,d,p,v,g,y,b,w,x,E;return Object(o.d)(this,function(o){switch(o.label){case 0:return s=Date.now(),[4,Ge(t,e,{width:48,height:48})];case 1:return u=o.sent(),a.stage3_extractImagePatches=Date.now()-s,s=Date.now(),c=u.map(function(t){var e=function(t,e){return r.L(function(){var n=qe(t,e);n=We(n=vt(n=r.s(n,[2,2],[2,2],"same"),e.conv4,"valid"),e.prelu4_alpha);var i=We(Tt(r.x(n,[n.shape[0],e.fc1.weights.shape[0]]),e.fc1),e.prelu5_alpha),o=Tt(i,e.fc2_1),a=r.m(r.r(o,1),1),s=r.D(r.F(o,a),1),u=Tt(i,e.fc2_2),c=Tt(i,e.fc2_3);return{scores:r.O(s,1)[1],regions:u,points:c}})}(t,i);return t.dispose(),e}),a.stage3_onet=Date.now()-s,l=c.length>1?r.h(c.map(function(t){return t.scores})):c[0].scores,d=(h=Array).from,[4,l.data()];case 2:return f=d.apply(h,[o.sent()]),l.dispose(),p=f.map(function(t,e){return{score:t,idx:e}}).filter(function(t){return t.score>n}).map(function(t){return t.idx}),v=p.map(function(t){var e=c[t].regions.arraySync();return new Ue(e[0][0],e[0][1],e[0][2],e[0][3])}),g=p.map(function(t,n){return e[t].calibrate(v[n])}),y=p.map(function(t){return f[t]}),b=[],w=[],x=[],g.length>0&&(s=Date.now(),E=_(g,y,.7,!1),a.stage3_nms=Date.now()-s,b=E.map(function(t){return g[t]}),w=E.map(function(t){return y[t]}),x=E.map(function(t,e){return Array(5).fill(0).map(function(n,r){var i=c[t].points.arraySync();return new m(i[0][r]*(b[e].width+1)+b[e].left,i[0][r+5]*(b[e].height+1)+b[e].top)})})),c.forEach(function(t){t.regions.dispose(),t.scores.dispose(),t.points.dispose()}),[2,{boxes:b,scores:w,points:x}]}})})}var $e=function(t){function e(){return t.call(this,"Mtcnn")||this}return Object(o.c)(e,t),e.prototype.load=function(e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.load.call(this,e)]})})},e.prototype.loadFromDisk=function(e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.loadFromDisk.call(this,e)]})})},e.prototype.forwardInput=function(t,e){return void 0===e&&(e={}),Object(o.b)(this,void 0,void 0,function(){var n,i,a,s,u,c,l,f,h,d,p,v,g,y,b,w,E,_,k,S,O;return Object(o.d)(this,function(o){switch(o.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(i=t.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},s=Date.now(),u=r.L(function(){return t=r.m(r.f.fromPixels(i)).toFloat(),r.L(function(){return r.E(r.O(t,3).reverse(),3)});var t}),c=function(t){return u.dispose(),a.total=Date.now()-s,t},l=u.shape.slice(1),f=l[0],h=l[1],d=new se(e),p=d.minFaceSize,v=d.scaleFactor,g=d.maxNumScales,y=d.scoreThresholds,b=d.scaleSteps,w=(b||function(t,e,n){for(var r=n[0],i=n[1],o=Fe/t,a=[],s=Math.min(r,i)*o,u=0;s>=12;)a.push(o*Math.pow(e,u)),s*=e,u+=1;return a}(p,v,[f,h])).filter(function(t){var e=Ve(t,[f,h]);return Math.min(e.width,e.height)>Fe}).slice(0,g),a.scales=w,a.pyramid=w.map(function(t){return Ve(t,[f,h])}),E=Date.now(),[4,He(u,w,y[0],n.pnet,a)];case 1:return _=o.sent(),a.total_stage1=Date.now()-E,_.boxes.length?(a.stage2_numInputBoxes=_.boxes.length,E=Date.now(),[4,Ke(i,_.boxes,y[1],n.rnet,a)]):[2,c({results:[],stats:a})];case 2:return k=o.sent(),a.total_stage2=Date.now()-E,k.boxes.length?(a.stage3_numInputBoxes=k.boxes.length,E=Date.now(),[4,Xe(i,k.boxes,y[2],n.onet,a)]):[2,c({results:[],stats:a})];case 3:return S=o.sent(),a.total_stage3=Date.now()-E,O=S.boxes.map(function(t,e){return jt(D({},new x(S.scores[e],new C(t.left/h,t.top/f,t.width/h,t.height/f),{height:f,width:h})),new T(S.points[e].map(function(e){return e.sub(new m(t.left,t.top)).div(new m(t.width,t.height))}),{width:t.width,height:t.height}))}),[2,c({results:O,stats:a})]}})})},e.prototype.forward=function(t,e){return void 0===e&&(e={}),Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,rt(t)];case 1:return[4,n.apply(this,[r.sent(),e])];case 2:return[2,r.sent().results]}})})},e.prototype.forwardWithStats=function(t,e){return void 0===e&&(e={}),Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,rt(t)];case 1:return[2,n.apply(this,[r.sent(),e])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(t){return Be(t)},e.prototype.extractParams=function(t){return Le(t)},e}(ft),Ye=.4,Qe=[new m(1.603231,2.094468),new m(6.041143,7.080126),new m(2.882459,3.518061),new m(4.266906,5.178857),new m(9.041765,10.66308)],Je=[117.001,114.697,97.404],Ze=function(t){function e(){var e={withSeparableConvs:!0,iouThreshold:Ye,classes:["face"],anchors:Qe,meanRgb:Je,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return t.call(this,e)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,this.detect(t,e)];case 1:return[2,n.sent().map(function(t){return new x(t.score,t.relativeBox,{width:t.imageWidth,height:t.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(e){return t.prototype.extractParamsFromWeigthMap.call(this,e)},e}(Re),tn={ssdMobilenetv1:new me,tinyFaceDetector:new Ze,tinyYolov2:new Ae,mtcnn:new $e,faceLandmark68Net:new Gt,faceLandmark68TinyNet:new Xt,faceRecognitionNet:new re,faceExpressionNet:new Nt,ageGenderNet:new qt},en=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parentTask=e,i.input=n,i.extractedFaces=r,i}return Object(o.c)(e,t),e}(Ne),nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.d)(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,De(t=r.sent(),this.input,function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.d)(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(function(t){return tn.faceExpressionNet.predictExpressions(t)}))];case 1:return[2,e.sent()]}})})},this.extractedFaces)];case 2:return e=r.sent(),[2,t.map(function(t,n){return Dt(t,e[n])})]}})})},e.prototype.withAgeAndGender=function(){return new un(this,this.input)},e}(en),rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(t=n.sent())?[4,Me(t,this.input,function(t){return tn.faceExpressionNet.predictExpressions(t)},this.extractedFaces)]:[2];case 2:return e=n.sent(),[2,Dt(t,e)]}})})},e.prototype.withAgeAndGender=function(){return new cn(this,this.input)},e}(en),on=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.withAgeAndGender=function(){return new ln(this,this.input)},e.prototype.withFaceDescriptors=function(){return new dn(this,this.input)},e}(nn),an=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.withAgeAndGender=function(){return new fn(this,this.input)},e.prototype.withFaceDescriptor=function(){return new pn(this,this.input)},e}(rn),sn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parentTask=e,i.input=n,i.extractedFaces=r,i}return Object(o.c)(e,t),e}(Ne),un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.d)(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,De(t=r.sent(),this.input,function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.d)(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(function(t){return tn.ageGenderNet.predictAgeAndGender(t)}))];case 1:return[2,e.sent()]}})})},this.extractedFaces)];case 2:return e=r.sent(),[2,t.map(function(t,n){var r=e[n],i=r.age;return oe(ae(t,r.gender,r.genderProbability),i)})]}})})},e.prototype.withFaceExpressions=function(){return new nn(this,this.input)},e}(sn),cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return(t=o.sent())?[4,Me(t,this.input,function(t){return tn.ageGenderNet.predictAgeAndGender(t)},this.extractedFaces)]:[2];case 2:return e=o.sent(),n=e.age,r=e.gender,i=e.genderProbability,[2,oe(ae(t,r,i),n)]}})})},e.prototype.withFaceExpressions=function(){return new rn(this,this.input)},e}(sn),ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.withFaceExpressions=function(){return new on(this,this.input)},e.prototype.withFaceDescriptors=function(){return new dn(this,this.input)},e}(un),fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.withFaceExpressions=function(){return new an(this,this.input)},e.prototype.withFaceDescriptor=function(){return new pn(this,this.input)},e}(cn),hn=function(t){function e(e,n){var r=t.call(this)||this;return r.parentTask=e,r.input=n,r}return Object(o.c)(e,t),e}(Ne),dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.d)(this,function(e){switch(e.label){case 0:return[4,this.parentTask];case 1:return[4,De(t=e.sent(),this.input,function(t){return Promise.all(t.map(function(t){return tn.faceRecognitionNet.computeFaceDescriptor(t)}))},null,function(t){return t.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,e.sent().map(function(e,n){return ie(t[n],e)})]}})})},e.prototype.withFaceExpressions=function(){return new on(this,this.input)},e.prototype.withAgeAndGender=function(){return new ln(this,this.input)},e}(hn),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(t=n.sent())?[4,Me(t,this.input,function(t){return tn.faceRecognitionNet.computeFaceDescriptor(t)},null,function(t){return t.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return e=n.sent(),[2,ie(t,e)]}})})},e.prototype.withFaceExpressions=function(){return new an(this,this.input)},e.prototype.withAgeAndGender=function(){return new fn(this,this.input)},e}(hn),vn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parentTask=e,i.input=n,i.useTinyLandmarkNet=r,i}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?tn.faceLandmark68TinyNet:tn.faceLandmark68Net},enumerable:!0,configurable:!0}),e}(Ne),gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n,i,a,s=this;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),e=t.map(function(t){return t.detection}),this.input instanceof r.a?[4,ot(this.input,e)]:[3,3];case 2:return i=o.sent(),[3,5];case 3:return[4,it(this.input,e)];case 4:i=o.sent(),o.label=5;case 5:return n=i,[4,Promise.all(n.map(function(t){return s.landmarkNet.detectLandmarks(t)}))];case 6:return a=o.sent(),n.forEach(function(t){return t instanceof r.a&&t.dispose()}),[2,t.map(function(t,e){return jt(t,a[e])})]}})})},e.prototype.withFaceExpressions=function(){return new on(this,this.input)},e.prototype.withAgeAndGender=function(){return new ln(this,this.input)},e.prototype.withFaceDescriptors=function(){return new dn(this,this.input)},e}(vn),mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n,i,a;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return(t=o.sent())?(e=t.detection,this.input instanceof r.a?[4,ot(this.input,[e])]:[3,3]):[2];case 2:return i=o.sent(),[3,5];case 3:return[4,it(this.input,[e])];case 4:i=o.sent(),o.label=5;case 5:return n=i,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return a=o.sent(),n.forEach(function(t){return t instanceof r.a&&t.dispose()}),[2,jt(t,a)]}})})},e.prototype.withFaceExpressions=function(){return new an(this,this.input)},e.prototype.withAgeAndGender=function(){return new fn(this,this.input)},e.prototype.withFaceDescriptor=function(){return new pn(this,this.input)},e}(vn),yn=function(t){function e(e,n){void 0===n&&(n=new ge);var r=t.call(this)||this;return r.input=e,r.options=n,r}return Object(o.c)(e,t),e}(Ne),bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return e=(t=this).input,(n=t.options)instanceof se?[4,tn.mtcnn.forward(e,n)]:[3,2];case 1:return[2,i.sent().map(function(t){return t.detection})];case 2:if(!(r=n instanceof Pe?function(t){return tn.tinyFaceDetector.locateFaces(t,n)}:n instanceof ge?function(t){return tn.ssdMobilenetv1.locateFaces(t,n)}:n instanceof Ie?function(t){return tn.tinyYolov2.locateFaces(t,n)}:null))throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(e)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var t=this;return new Promise(function(e){return Object(o.b)(t,void 0,void 0,function(){var t;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return t=n.sent(),[2,e(t.map(function(t){return D({},t)}))]}})})})},e.prototype.withFaceLandmarks=function(t){return void 0===t&&(t=!1),new gn(this.runAndExtendWithFaceDetections(),this.input,t)},e.prototype.withFaceExpressions=function(){return new nn(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new un(this.runAndExtendWithFaceDetections(),this.input)},e}(yn),wn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.run=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,new bn(this.input,this.options)];case 1:return t=n.sent(),e=t[0],t.forEach(function(t){t.score>e.score&&(e=t)}),[2,e]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var t=this;return new Promise(function(e){return Object(o.b)(t,void 0,void 0,function(){var t;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return t=n.sent(),[2,e(t?D({},t):void 0)]}})})})},e.prototype.withFaceLandmarks=function(t){return void 0===t&&(t=!1),new mn(this.runAndExtendWithFaceDetection(),this.input,t)},e.prototype.withFaceExpressions=function(){return new rn(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new cn(this.runAndExtendWithFaceDetection(),this.input)},e}(yn);function xn(t,e){return void 0===e&&(e=new ge),new wn(t,e)}!function(){function t(t,e){void 0===e&&(e=.6),this._distanceThreshold=e;var n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,i=function(){return"person "+r++};this._labeledDescriptors=n.map(function(t){if(t instanceof P)return t;if(t instanceof Float32Array)return new P(i(),[t]);if(t.descriptor&&t.descriptor instanceof Float32Array)return new P(i(),[t.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}Object.defineProperty(t.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),t.prototype.computeMeanDistance=function(t,e){return e.map(function(e){return function(t,e){if(t.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(t),r=Array.from(e);return Math.sqrt(n.map(function(t,e){return t-r[e]}).reduce(function(t,e){return t+Math.pow(e,2)},0))}(e,t)}).reduce(function(t,e){return t+e},0)/(e.length||1)},t.prototype.matchDescriptor=function(t){var e=this;return this.labeledDescriptors.map(function(n){var r=n.descriptors,i=n.label;return new R(i,e.computeMeanDistance(t,r))}).reduce(function(t,e){return t.distance<e.distance?t:e})},t.prototype.findBestMatch=function(t){var e=this.matchDescriptor(t);return e.distance<this.distanceThreshold?e:new R("unknown",e.distance)},t.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},t.fromJSON=function(e){return new t(e.labeledDescriptors.map(function(t){return P.fromJSON(t)}),e.distanceThreshold)}}();n.d(e,"c",function(){return lt}),n.d(e,"b",function(){return xn}),n.d(e,"d",function(){return tn}),n.d(e,"a",function(){return Pe})},,function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=r(n(226)),a=r(n(157));var s=function(t,e){var n=function(e){return i.default.createElement(a.default,e,t)};return n.displayName="".concat(e,"Icon"),(n=(0,o.default)(n)).muiName="SvgIcon",n};e.default=s},function(t,e,n){"use strict";var r=n(105);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(190);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(48);n.d(e,"b",function(){return r.b}),n.d(e,"a",function(){return r.a}),n.d(e,"c",function(){return r.c})},function(t,e,n){var r=n(88),i=n(300),o=n(301),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(138),i=n(143);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){"use strict";n.r(e);var r=n(64);function i(t){return t}var o=n(78),a=n(79),s=n(65),u=n(80),c=n(2),l=n(116),f=n(20),h=n(0),d=n.n(h),p=n(58),v=n(48),g=n(105),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,t),this.options=e}return Object(f.a)(t,[{key:"collect",value:function(t){var e=new Map;this.sheetsRegistry=new p.a;var n=Object(g.a)();return d.a.createElement(v.b,Object(c.a)({sheetsManager:e,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),t)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(t){return d.a.createElement("style",Object(c.a)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},t))}}]),t}(),y=n(5),b=n(6),w=(n(4),n(41)),x=n.n(w),E=n(190);function _(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=Object(y.a)(n,["name"]);var o,a=r,s="function"===typeof e?function(t){return{root:function(n){return e(Object(c.a)({theme:t},n))}}}:{root:e},u=Object(E.a)(s,Object(c.a)({Component:t,name:r||t.displayName,classNamePrefix:a},i));e.filterProps&&(o=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var l=d.a.forwardRef(function(e,n){var r=e.children,i=e.className,a=e.clone,s=e.component,l=Object(y.a)(e,["children","className","clone","component"]),f=u(e),h=Object(b.a)(f.root,i),p=l;if(o&&(p=function(t,e){var n={};return Object.keys(t).forEach(function(r){-1===e.indexOf(r)&&(n[r]=t[r])}),n}(p,o)),a)return d.a.cloneElement(r,Object(c.a)({className:Object(b.a)(r.props.className,h)},p));if("function"===typeof r)return r(Object(c.a)({className:h},p));var v=s||t;return d.a.createElement(v,Object(c.a)({ref:n,className:h},p),r)});return x()(l,t),l}}var k=n(66),S=n(158),C=n(45),O=n(98),T=n(101);function I(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme;return function(e){var n=d.a.forwardRef(function(n,r){var i=n.innerRef,o=Object(y.a)(n,["innerRef"]),a=Object(T.a)()||t;return d.a.createElement(e,Object(c.a)({theme:a,ref:i||r},o))});return x()(n,e),n}}var R=I();n.d(e,"createGenerateClassName",function(){return r.a}),n.d(e,"createStyles",function(){return i}),n.d(e,"getThemeProps",function(){return o.a}),n.d(e,"jssPreset",function(){return a.a}),n.d(e,"makeStyles",function(){return s.a}),n.d(e,"mergeClasses",function(){return u.a}),n.d(e,"ServerStyleSheets",function(){return m}),n.d(e,"styled",function(){return _}),n.d(e,"StylesProvider",function(){return k.b}),n.d(e,"sheetsManager",function(){return k.c}),n.d(e,"StylesContext",function(){return k.a}),n.d(e,"ThemeProvider",function(){return S.a}),n.d(e,"useTheme",function(){return C.a}),n.d(e,"withStyles",function(){return O.a}),n.d(e,"withTheme",function(){return R}),n.d(e,"withThemeCreator",function(){return I})},function(t,e,n){"use strict";n.d(e,"b",function(){return c});var r=n(36),i=n(2),o=n(40),a=(n(4),n(50)),s={xs:0,sm:600,md:960,lg:1280,xl:1920},u={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(s[t],"px)")}};function c(t,e,n){if(Array.isArray(e)){var r=t.theme.breakpoints||u;return e.reduce(function(t,i,o){return t[r.up(r.keys[o])]=n(e[o]),t},{})}if("object"===Object(o.a)(e)){var i=t.theme.breakpoints||u;return Object.keys(e).reduce(function(t,r){return t[i.up(r)]=n(e[r]),t},{})}return n(e)}e.a=function(t){var e=function(e){var n=t(e),r=e.theme.breakpoints||u,o=r.keys.reduce(function(n,o){return e[o]&&((n=n||{})[r.up(o)]=t(Object(i.a)({theme:e.theme},e[o]))),n},null);return Object(a.a)(n,o)};return e.propTypes={},e.filterProps=["xs","sm","md","lg","xl"].concat(Object(r.a)(t.filterProps)),e}},function(t,e,n){"use strict";var r=n(37),i=n(70),o=n(50);n.d(e,"a",function(){return f});var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}(function(t){if(t.length>2){if(!u[t])return[t];t=u[t]}var e=t.split(""),n=Object(r.a)(e,2),i=n[0],o=n[1],c=a[i],l=s[o]||"";return Array.isArray(l)?l.map(function(t){return c+t}):[c+l]}),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(t){var e=t.spacing||8;return"number"===typeof e?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:"function"===typeof e?e:function(){}}function h(t,e){return function(n){return t.reduce(function(t,r){return t[r]=function(t,e){if("string"===typeof e||null==e)return e;var n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:"-".concat(n)}(e,n),t},{})}}function d(t){var e=f(t.theme);return Object.keys(t).map(function(n){if(-1===l.indexOf(n))return null;var r=h(c(n),e),o=t[n];return Object(i.b)(t,o,r)}).reduce(o.a,{})}d.propTypes={},d.filterProps=l;e.b=d},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(102);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";var r=n(0),i=n(44),o=n.n(i),a=function(t){return function(t){return!!t&&"object"===typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===s}(t)}(t)};var s="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function u(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function c(t,e,n){return t.concat(e).map(function(t){return u(t,n)})}function l(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||c,n.isMergeableObject=n.isMergeableObject||a;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){r[e]=u(t[e],n)}),Object.keys(e).forEach(function(i){n.isMergeableObject(e[i])&&t[i]?r[i]=l(t[i],e[i],n):r[i]=u(e[i],n)}),r}(t,e,n):u(e,n)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return l(t,n,e)},{})};var f=l,h=n(23),d=h.a.Symbol,p=Object.prototype,v=p.hasOwnProperty,g=p.toString,m=d?d.toStringTag:void 0;var y=function(t){var e=v.call(t,m),n=t[m];try{t[m]=void 0;var r=!0}catch(o){}var i=g.call(t);return r&&(e?t[m]=n:delete t[m]),i},b=Object.prototype.toString;var w=function(t){return b.call(t)},x="[object Null]",E="[object Undefined]",_=d?d.toStringTag:void 0;var k=function(t){return null==t?void 0===t?E:x:_&&_ in Object(t)?y(t):w(t)};var S=function(t,e){return function(n){return t(e(n))}},C=S(Object.getPrototypeOf,Object);var O=function(t){return null!=t&&"object"==typeof t},T="[object Object]",I=Function.prototype,R=Object.prototype,A=I.toString,P=R.hasOwnProperty,N=A.call(Object);var D=function(t){if(!O(t)||k(t)!=T)return!1;var e=C(t);if(null===e)return!0;var n=P.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==N};var M=function(){this.__data__=[],this.size=0};var j=function(t,e){return t===e||t!==t&&e!==e};var F=function(t,e){for(var n=t.length;n--;)if(j(t[n][0],e))return n;return-1},L=Array.prototype.splice;var B=function(t){var e=this.__data__,n=F(e,t);return!(n<0)&&(n==e.length-1?e.pop():L.call(e,n,1),--this.size,!0)};var V=function(t){var e=this.__data__,n=F(e,t);return n<0?void 0:e[n][1]};var U=function(t){return F(this.__data__,t)>-1};var z=function(t,e){var n=this.__data__,r=F(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}W.prototype.clear=M,W.prototype.delete=B,W.prototype.get=V,W.prototype.has=U,W.prototype.set=z;var q=W;var H=function(){this.__data__=new q,this.size=0};var G=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var K=function(t){return this.__data__.get(t)};var X=function(t){return this.__data__.has(t)};var $=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Y="[object AsyncFunction]",Q="[object Function]",J="[object GeneratorFunction]",Z="[object Proxy]";var tt=function(t){if(!$(t))return!1;var e=k(t);return e==Q||e==J||e==Y||e==Z},et=h.a["__core-js_shared__"],nt=function(){var t=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var rt=function(t){return!!nt&&nt in t},it=Function.prototype.toString;var ot=function(t){if(null!=t){try{return it.call(t)}catch(e){}try{return t+""}catch(e){}}return""},at=/^\[object .+?Constructor\]$/,st=Function.prototype,ut=Object.prototype,ct=st.toString,lt=ut.hasOwnProperty,ft=RegExp("^"+ct.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ht=function(t){return!(!$(t)||rt(t))&&(tt(t)?ft:at).test(ot(t))};var dt=function(t,e){return null==t?void 0:t[e]};var pt=function(t,e){var n=dt(t,e);return ht(n)?n:void 0},vt=pt(h.a,"Map"),gt=pt(Object,"create");var mt=function(){this.__data__=gt?gt(null):{},this.size=0};var yt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt="__lodash_hash_undefined__",wt=Object.prototype.hasOwnProperty;var xt=function(t){var e=this.__data__;if(gt){var n=e[t];return n===bt?void 0:n}return wt.call(e,t)?e[t]:void 0},Et=Object.prototype.hasOwnProperty;var _t=function(t){var e=this.__data__;return gt?void 0!==e[t]:Et.call(e,t)},kt="__lodash_hash_undefined__";var St=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gt&&void 0===e?kt:e,this};function Ct(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ct.prototype.clear=mt,Ct.prototype.delete=yt,Ct.prototype.get=xt,Ct.prototype.has=_t,Ct.prototype.set=St;var Ot=Ct;var Tt=function(){this.size=0,this.__data__={hash:new Ot,map:new(vt||q),string:new Ot}};var It=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Rt=function(t,e){var n=t.__data__;return It(e)?n["string"==typeof e?"string":"hash"]:n.map};var At=function(t){var e=Rt(this,t).delete(t);return this.size-=e?1:0,e};var Pt=function(t){return Rt(this,t).get(t)};var Nt=function(t){return Rt(this,t).has(t)};var Dt=function(t,e){var n=Rt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mt.prototype.clear=Tt,Mt.prototype.delete=At,Mt.prototype.get=Pt,Mt.prototype.has=Nt,Mt.prototype.set=Dt;var jt=Mt,Ft=200;var Lt=function(t,e){var n=this.__data__;if(n instanceof q){var r=n.__data__;if(!vt||r.length<Ft-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jt(r)}return n.set(t,e),this.size=n.size,this};function Bt(t){var e=this.__data__=new q(t);this.size=e.size}Bt.prototype.clear=H,Bt.prototype.delete=G,Bt.prototype.get=K,Bt.prototype.has=X,Bt.prototype.set=Lt;var Vt=Bt;var Ut=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},zt=function(){try{var t=pt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var Wt=function(t,e,n){"__proto__"==e&&zt?zt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},qt=Object.prototype.hasOwnProperty;var Ht=function(t,e,n){var r=t[e];qt.call(t,e)&&j(r,n)&&(void 0!==n||e in t)||Wt(t,e,n)};var Gt=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Wt(n,s,u):Ht(n,s,u)}return n};var Kt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Xt="[object Arguments]";var $t=function(t){return O(t)&&k(t)==Xt},Yt=Object.prototype,Qt=Yt.hasOwnProperty,Jt=Yt.propertyIsEnumerable,Zt=$t(function(){return arguments}())?$t:function(t){return O(t)&&Qt.call(t,"callee")&&!Jt.call(t,"callee")},te=Array.isArray,ee=n(118),ne=9007199254740991,re=/^(?:0|[1-9]\d*)$/;var ie=function(t,e){var n=typeof t;return!!(e=null==e?ne:e)&&("number"==n||"symbol"!=n&&re.test(t))&&t>-1&&t%1==0&&t<e},oe=9007199254740991;var ae=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=oe},se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se["[object Arguments]"]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se["[object Function]"]=se["[object Map]"]=se["[object Number]"]=se["[object Object]"]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var ue=function(t){return O(t)&&ae(t.length)&&!!se[k(t)]};var ce=function(t){return function(e){return t(e)}},le=n(43),fe=le.a&&le.a.isTypedArray,he=fe?ce(fe):ue,de=Object.prototype.hasOwnProperty;var pe=function(t,e){var n=te(t),r=!n&&Zt(t),i=!n&&!r&&Object(ee.a)(t),o=!n&&!r&&!i&&he(t),a=n||r||i||o,s=a?Kt(t.length,String):[],u=s.length;for(var c in t)!e&&!de.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ie(c,u))||s.push(c);return s},ve=Object.prototype;var ge=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ve)},me=S(Object.keys,Object),ye=Object.prototype.hasOwnProperty;var be=function(t){if(!ge(t))return me(t);var e=[];for(var n in Object(t))ye.call(t,n)&&"constructor"!=n&&e.push(n);return e};var we=function(t){return null!=t&&ae(t.length)&&!tt(t)};var xe=function(t){return we(t)?pe(t):be(t)};var Ee=function(t,e){return t&&Gt(e,xe(e),t)};var _e=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},ke=Object.prototype.hasOwnProperty;var Se=function(t){if(!$(t))return _e(t);var e=ge(t),n=[];for(var r in t)("constructor"!=r||!e&&ke.call(t,r))&&n.push(r);return n};var Ce=function(t){return we(t)?pe(t,!0):Se(t)};var Oe=function(t,e){return t&&Gt(e,Ce(e),t)},Te=n(193);var Ie=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var Re=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};var Ae=function(){return[]},Pe=Object.prototype.propertyIsEnumerable,Ne=Object.getOwnPropertySymbols,De=Ne?function(t){return null==t?[]:(t=Object(t),Re(Ne(t),function(e){return Pe.call(t,e)}))}:Ae;var Me=function(t,e){return Gt(t,De(t),e)};var je=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Fe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)je(e,De(t)),t=C(t);return e}:Ae;var Le=function(t,e){return Gt(t,Fe(t),e)};var Be=function(t,e,n){var r=e(t);return te(t)?r:je(r,n(t))};var Ve=function(t){return Be(t,xe,De)};var Ue=function(t){return Be(t,Ce,Fe)},ze=pt(h.a,"DataView"),We=pt(h.a,"Promise"),qe=pt(h.a,"Set"),He=pt(h.a,"WeakMap"),Ge=ot(ze),Ke=ot(vt),Xe=ot(We),$e=ot(qe),Ye=ot(He),Qe=k;(ze&&"[object DataView]"!=Qe(new ze(new ArrayBuffer(1)))||vt&&"[object Map]"!=Qe(new vt)||We&&"[object Promise]"!=Qe(We.resolve())||qe&&"[object Set]"!=Qe(new qe)||He&&"[object WeakMap]"!=Qe(new He))&&(Qe=function(t){var e=k(t),n="[object Object]"==e?t.constructor:void 0,r=n?ot(n):"";if(r)switch(r){case Ge:return"[object DataView]";case Ke:return"[object Map]";case Xe:return"[object Promise]";case $e:return"[object Set]";case Ye:return"[object WeakMap]"}return e});var Je=Qe,Ze=Object.prototype.hasOwnProperty;var tn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ze.call(t,"index")&&(n.index=t.index,n.input=t.input),n},en=h.a.Uint8Array;var nn=function(t){var e=new t.constructor(t.byteLength);return new en(e).set(new en(t)),e};var rn=function(t,e){var n=e?nn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},on=/\w*$/;var an=function(t){var e=new t.constructor(t.source,on.exec(t));return e.lastIndex=t.lastIndex,e},sn=d?d.prototype:void 0,un=sn?sn.valueOf:void 0;var cn=function(t){return un?Object(un.call(t)):{}};var ln=function(t,e){var n=e?nn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},fn="[object Boolean]",hn="[object Date]",dn="[object Map]",pn="[object Number]",vn="[object RegExp]",gn="[object Set]",mn="[object String]",yn="[object Symbol]",bn="[object ArrayBuffer]",wn="[object DataView]",xn="[object Float32Array]",En="[object Float64Array]",_n="[object Int8Array]",kn="[object Int16Array]",Sn="[object Int32Array]",Cn="[object Uint8Array]",On="[object Uint8ClampedArray]",Tn="[object Uint16Array]",In="[object Uint32Array]";var Rn=function(t,e,n){var r=t.constructor;switch(e){case bn:return nn(t);case fn:case hn:return new r(+t);case wn:return rn(t,n);case xn:case En:case _n:case kn:case Sn:case Cn:case On:case Tn:case In:return ln(t,n);case dn:return new r;case pn:case mn:return new r(t);case vn:return an(t);case gn:return new r;case yn:return cn(t)}},An=Object.create,Pn=function(){function t(){}return function(e){if(!$(e))return{};if(An)return An(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var Nn=function(t){return"function"!=typeof t.constructor||ge(t)?{}:Pn(C(t))},Dn="[object Map]";var Mn=function(t){return O(t)&&Je(t)==Dn},jn=le.a&&le.a.isMap,Fn=jn?ce(jn):Mn,Ln="[object Set]";var Bn=function(t){return O(t)&&Je(t)==Ln},Vn=le.a&&le.a.isSet,Un=Vn?ce(Vn):Bn,zn=1,Wn=2,qn=4,Hn="[object Arguments]",Gn="[object Function]",Kn="[object GeneratorFunction]",Xn="[object Object]",$n={};$n[Hn]=$n["[object Array]"]=$n["[object ArrayBuffer]"]=$n["[object DataView]"]=$n["[object Boolean]"]=$n["[object Date]"]=$n["[object Float32Array]"]=$n["[object Float64Array]"]=$n["[object Int8Array]"]=$n["[object Int16Array]"]=$n["[object Int32Array]"]=$n["[object Map]"]=$n["[object Number]"]=$n[Xn]=$n["[object RegExp]"]=$n["[object Set]"]=$n["[object String]"]=$n["[object Symbol]"]=$n["[object Uint8Array]"]=$n["[object Uint8ClampedArray]"]=$n["[object Uint16Array]"]=$n["[object Uint32Array]"]=!0,$n["[object Error]"]=$n[Gn]=$n["[object WeakMap]"]=!1;var Yn=function t(e,n,r,i,o,a){var s,u=n&zn,c=n&Wn,l=n&qn;if(r&&(s=o?r(e,i,o,a):r(e)),void 0!==s)return s;if(!$(e))return e;var f=te(e);if(f){if(s=tn(e),!u)return Ie(e,s)}else{var h=Je(e),d=h==Gn||h==Kn;if(Object(ee.a)(e))return Object(Te.a)(e,u);if(h==Xn||h==Hn||d&&!o){if(s=c||d?{}:Nn(e),!u)return c?Le(e,Oe(s,e)):Me(e,Ee(s,e))}else{if(!$n[h])return o?e:{};s=Rn(e,h,u)}}a||(a=new Vt);var p=a.get(e);if(p)return p;a.set(e,s),Un(e)?e.forEach(function(i){s.add(t(i,n,r,i,e,a))}):Fn(e)&&e.forEach(function(i,o){s.set(o,t(i,n,r,o,e,a))});var v=f?void 0:(l?c?Ue:Ve:c?Ce:xe)(e);return Ut(v||e,function(i,o){v&&(i=e[o=i]),Ht(s,o,t(i,n,r,o,e,a))}),s},Qn=4;var Jn=function(t){return Yn(t,Qn)};var Zn=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},tr="[object Symbol]";var er=function(t){return"symbol"==typeof t||O(t)&&k(t)==tr},nr="Expected a function";function rr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(nr);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(rr.Cache||jt),n}rr.Cache=jt;var ir=rr,or=500;var ar=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sr=/\\(\\)?/g,ur=function(t){var e=ir(t,function(t){return n.size===or&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ar,function(t,n,r,i){e.push(r?i.replace(sr,"$1"):n||t)}),e}),cr=1/0;var lr=function(t){if("string"==typeof t||er(t))return t;var e=t+"";return"0"==e&&1/t==-cr?"-0":e},fr=1/0,hr=d?d.prototype:void 0,dr=hr?hr.toString:void 0;var pr=function t(e){if("string"==typeof e)return e;if(te(e))return Zn(e,t)+"";if(er(e))return dr?dr.call(e):"";var n=e+"";return"0"==n&&1/e==-fr?"-0":n};var vr=function(t){return null==t?"":pr(t)};var gr=function(t){return te(t)?Zn(t,lr):er(t)?[t]:Ie(ur(vr(t)))},mr=n(18),yr=n(41),br=n.n(yr),wr=1,xr=4;var Er=function(t){return Yn(t,wr|xr)};function _r(){return(_r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function kr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Sr(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Cr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return Hr});var Or=function(t){return Array.isArray(t)&&0===t.length},Tr=function(t){return"function"===typeof t},Ir=function(t){return null!==t&&"object"===typeof t},Rr=function(t){return String(Math.floor(Number(t)))===t},Ar=function(t){return"[object String]"===Object.prototype.toString.call(t)},Pr=function(t){return 0===r.Children.count(t)},Nr=function(t){return Ir(t)&&Tr(t.then)};function Dr(t,e,n,r){void 0===r&&(r=0);for(var i=gr(e);t&&r<i.length;)t=t[i[r++]];return void 0===t?n:t}function Mr(t,e,n){for(var r=Jn(t),i=r,o=0,a=gr(e);o<a.length-1;o++){var s=a[o],u=Dr(t,a.slice(0,o+1));if(u&&(Ir(u)||Array.isArray(u)))i=i[s]=Jn(u);else{var c=a[o+1];i=i[s]=Rr(c)&&Number(c)>=0?[]:{}}}return(0===o?t:i)[a[o]]===n?t:(void 0===n?delete i[a[o]]:i[a[o]]=n,0===o&&void 0===n&&delete r[a[o]],r)}function jr(t,e,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,o=Object.keys(t);i<o.length;i++){var a=o[i],s=t[a];Ir(s)?n.get(s)||(n.set(s,!0),r[a]=Array.isArray(s)?[]:{},jr(s,e,n,r[a])):r[a]=e}return r}var Fr=Object(r.createContext)(void 0);Fr.displayName="FormikContext";var Lr=Fr.Provider,Br=Fr.Consumer;function Vr(){var t=Object(r.useContext)(Fr);return t||Object(mr.a)(!1),t}function Ur(t,e){switch(e.type){case"SET_VALUES":return _r({},t,{values:e.payload});case"SET_TOUCHED":return _r({},t,{touched:e.payload});case"SET_ERRORS":return o()(t.errors,e.payload)?t:_r({},t,{errors:e.payload});case"SET_STATUS":return _r({},t,{status:e.payload});case"SET_ISSUBMITTING":return _r({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return _r({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return _r({},t,{values:Mr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return _r({},t,{touched:Mr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return _r({},t,{errors:Mr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return _r({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return _r({},t,{touched:jr(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return _r({},t,{isSubmitting:!1});default:return t}}var zr={},Wr={};function qr(t){var e=t.validateOnChange,n=void 0===e||e,i=t.validateOnBlur,a=void 0===i||i,s=t.validateOnMount,u=void 0!==s&&s,c=t.isInitialValid,l=t.enableReinitialize,h=void 0!==l&&l,d=t.onSubmit,p=Sr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=_r({validateOnChange:n,validateOnBlur:a,validateOnMount:u,onSubmit:d},p),g=Object(r.useRef)(v.initialValues),m=Object(r.useRef)(v.initialErrors||zr),y=Object(r.useRef)(v.initialTouched||Wr),b=Object(r.useRef)(v.initialStatus),w=Object(r.useRef)(!1),x=Object(r.useRef)({});Object(r.useEffect)(function(){return w.current=!0,function(){w.current=!1}},[]);var E=Object(r.useReducer)(Ur,{values:v.initialValues,errors:v.initialErrors||zr,touched:v.initialTouched||Wr,status:v.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),_=E[0],k=E[1],S=Object(r.useCallback)(function(t,e){return new Promise(function(n,r){var i=v.validate(t,e);null==i?n(zr):Nr(i)?i.then(function(t){n(t||zr)},function(t){r(t)}):n(i)})},[v.validate]),C=Object(r.useCallback)(function(t,e){var n=v.validationSchema,r=Tr(n)?n(e):n,i=e&&r.validateAt?r.validateAt(e,t):function(t,e,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=function t(e){var n=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=String(r);!0===Array.isArray(e[i])?n[i]=e[i].map(function(e){return!0===Array.isArray(e)||D(e)?t(e):""!==e?e:void 0}):D(e[i])?n[i]=t(e[i]):n[i]=""!==e[i]?e[i]:void 0}return n}(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(t,r);return new Promise(function(t,e){i.then(function(){t(zr)},function(n){"ValidationError"===n.name?t(function(t){var e={};if(t.inner){if(0===t.inner.length)return Mr(e,t.path,t.message);for(var n=t.inner,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;Dr(e,a.path)||(e=Mr(e,a.path,a.message))}}return e}(n)):e(n)})})},[v.validationSchema]),O=Object(r.useCallback)(function(t,e){return new Promise(function(n){return n(x.current[t].validate(e))})},[]),T=Object(r.useCallback)(function(t){var e=Object.keys(x.current).filter(function(t){return Tr(x.current[t].validate)}),n=e.length>0?e.map(function(e){return O(e,Dr(t,e))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then(function(t){return t.reduce(function(t,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n?t:(n&&(t=Mr(t,e[r],n)),t)},{})})},[O]),I=Object(r.useCallback)(function(t){return Promise.all([T(t),v.validationSchema?C(t):{},v.validate?S(t):{}]).then(function(t){var e=t[0],n=t[1],r=t[2];return f.all([e,n,r],{arrayMerge:Gr})})},[v.validate,v.validationSchema,T,S,C]),R=Xr(function(t){return void 0===t&&(t=_.values),k({type:"SET_ISVALIDATING",payload:!0}),I(t).then(function(t){return w.current&&(k({type:"SET_ISVALIDATING",payload:!1}),k({type:"SET_ERRORS",payload:t})),t})});Object(r.useEffect)(function(){u&&!0===w.current&&o()(g.current,v.initialValues)&&R(g.current)},[u,R]);var A=Object(r.useCallback)(function(t){var e=t&&t.values?t.values:g.current,n=t&&t.errors?t.errors:m.current?m.current:v.initialErrors||{},r=t&&t.touched?t.touched:y.current?y.current:v.initialTouched||{},i=t&&t.status?t.status:b.current?b.current:v.initialStatus;g.current=e,m.current=n,y.current=r,b.current=i;var o=function(){k({type:"RESET_FORM",payload:{isSubmitting:!!t&&!!t.isSubmitting,errors:n,touched:r,status:i,values:e,isValidating:!!t&&!!t.isValidating,submitCount:t&&t.submitCount&&"number"===typeof t.submitCount?t.submitCount:0}})};if(v.onReset){var a=v.onReset(_.values,Q);Nr(a)?a.then(o):o()}else o()},[v.initialErrors,v.initialStatus,v.initialTouched]);Object(r.useEffect)(function(){!0!==w.current||o()(g.current,v.initialValues)||(h&&(g.current=v.initialValues,A()),u&&R(g.current))},[h,v.initialValues,A,u,R]),Object(r.useEffect)(function(){h&&!0===w.current&&!o()(m.current,v.initialErrors)&&(m.current=v.initialErrors||zr,k({type:"SET_ERRORS",payload:v.initialErrors||zr}))},[h,v.initialErrors]),Object(r.useEffect)(function(){h&&!0===w.current&&!o()(y.current,v.initialTouched)&&(y.current=v.initialTouched||Wr,k({type:"SET_TOUCHED",payload:v.initialTouched||Wr}))},[h,v.initialTouched]),Object(r.useEffect)(function(){h&&!0===w.current&&!o()(b.current,v.initialStatus)&&(b.current=v.initialStatus,k({type:"SET_STATUS",payload:v.initialStatus}))},[h,v.initialStatus,v.initialTouched]);var P=Xr(function(t){if(x.current[t]&&Tr(x.current[t].validate)){var e=Dr(_.values,t),n=x.current[t].validate(e);return Nr(n)?(k({type:"SET_ISVALIDATING",payload:!0}),n.then(function(t){return t}).then(function(e){k({type:"SET_FIELD_ERROR",payload:{field:t,value:e}}),k({type:"SET_ISVALIDATING",payload:!1})})):(k({type:"SET_FIELD_ERROR",payload:{field:t,value:n}}),Promise.resolve(n))}return v.validationSchema?(k({type:"SET_ISVALIDATING",payload:!0}),C(_.values,t).then(function(t){return t}).then(function(e){k({type:"SET_FIELD_ERROR",payload:{field:t,value:e[t]}}),k({type:"SET_ISVALIDATING",payload:!1})})):Promise.resolve()}),N=Object(r.useCallback)(function(t,e){var n=e.validate;x.current[t]={validate:n}},[]),M=Object(r.useCallback)(function(t){delete x.current[t]},[]),j=Xr(function(t,e){return k({type:"SET_TOUCHED",payload:t}),(void 0===e?a:e)?R(_.values):Promise.resolve()}),F=Object(r.useCallback)(function(t){k({type:"SET_ERRORS",payload:t})},[]),L=Xr(function(t,e){var r=Tr(t)?t(_.values):t;return k({type:"SET_VALUES",payload:r}),(void 0===e?n:e)?R(r):Promise.resolve()}),B=Object(r.useCallback)(function(t,e){k({type:"SET_FIELD_ERROR",payload:{field:t,value:e}})},[]),V=Xr(function(t,e,r){return k({type:"SET_FIELD_VALUE",payload:{field:t,value:e}}),(void 0===r?n:r)?R(Mr(_.values,t,e)):Promise.resolve()}),U=Object(r.useCallback)(function(t,e){var n,r=e,i=t;if(!Ar(t)){t.persist&&t.persist();var o=t.target?t.target:t.currentTarget,a=o.type,s=o.name,u=o.id,c=o.value,l=o.checked,f=(o.outerHTML,o.options),h=o.multiple;r=e||(s||u),i=/number|range/.test(a)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(a)?function(t,e,n){if("boolean"===typeof t)return Boolean(e);var r=[],i=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),i=o>=0;else if(!n||"true"==n||"false"==n)return Boolean(e);if(e&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,o).concat(r.slice(o+1))}(Dr(_.values,r),l,c):f&&h?function(t){return Array.from(t).filter(function(t){return t.selected}).map(function(t){return t.value})}(f):c}r&&V(r,i)},[V,_.values]),z=Xr(function(t){if(Ar(t))return function(e){return U(e,t)};U(t)}),W=Xr(function(t,e,n){return void 0===e&&(e=!0),k({type:"SET_FIELD_TOUCHED",payload:{field:t,value:e}}),(void 0===n?a:n)?R(_.values):Promise.resolve()}),q=Object(r.useCallback)(function(t,e){t.persist&&t.persist();var n=t.target,r=n.name,i=n.id,o=(n.outerHTML,e||(r||i));W(o,!0)},[W]),H=Xr(function(t){if(Ar(t))return function(e){return q(e,t)};q(t)}),G=Object(r.useCallback)(function(t){Tr(t)?k({type:"SET_FORMIK_STATE",payload:t}):k({type:"SET_FORMIK_STATE",payload:function(){return t}})},[]),K=Object(r.useCallback)(function(t){k({type:"SET_STATUS",payload:t})},[]),X=Object(r.useCallback)(function(t){k({type:"SET_ISSUBMITTING",payload:t})},[]),$=Xr(function(){return k({type:"SUBMIT_ATTEMPT"}),R().then(function(t){var e=t instanceof Error;if(!e&&0===Object.keys(t).length){var n;try{if(void 0===(n=J()))return}catch(r){throw r}return Promise.resolve(n).then(function(t){return w.current&&k({type:"SUBMIT_SUCCESS"}),t}).catch(function(t){if(w.current)throw k({type:"SUBMIT_FAILURE"}),t})}if(w.current&&(k({type:"SUBMIT_FAILURE"}),e))throw t})}),Y=Xr(function(t){t&&t.preventDefault&&Tr(t.preventDefault)&&t.preventDefault(),t&&t.stopPropagation&&Tr(t.stopPropagation)&&t.stopPropagation(),$().catch(function(t){console.warn("Warning: An unhandled error was caught from submitForm()",t)})}),Q={resetForm:A,validateForm:R,validateField:P,setErrors:F,setFieldError:B,setFieldTouched:W,setFieldValue:V,setStatus:K,setSubmitting:X,setTouched:j,setValues:L,setFormikState:G,submitForm:$},J=Xr(function(){return d(_.values,Q)}),Z=Xr(function(t){t&&t.preventDefault&&Tr(t.preventDefault)&&t.preventDefault(),t&&t.stopPropagation&&Tr(t.stopPropagation)&&t.stopPropagation(),A()}),tt=Object(r.useCallback)(function(t){return{value:Dr(_.values,t),error:Dr(_.errors,t),touched:!!Dr(_.touched,t),initialValue:Dr(g.current,t),initialTouched:!!Dr(y.current,t),initialError:Dr(m.current,t)}},[_.errors,_.touched,_.values]),et=Object(r.useCallback)(function(t){return{setValue:function(e,n){return V(t,e,n)},setTouched:function(e,n){return W(t,e,n)},setError:function(e){return B(t,e)}}},[V,W,B]),nt=Object(r.useCallback)(function(t){var e=Ir(t),n=e?t.name:t,r=Dr(_.values,n),i={name:n,value:r,onChange:z,onBlur:H};if(e){var o=t.type,a=t.value,s=t.as,u=t.multiple;"checkbox"===o?void 0===a?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(a)),i.value=a):"radio"===o?(i.checked=r===a,i.value=a):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i},[H,z,_.values]),rt=Object(r.useMemo)(function(){return!o()(g.current,_.values)},[g.current,_.values]),it=Object(r.useMemo)(function(){return"undefined"!==typeof c?rt?_.errors&&0===Object.keys(_.errors).length:!1!==c&&Tr(c)?c(v):c:_.errors&&0===Object.keys(_.errors).length},[c,rt,_.errors,v]);return _r({},_,{initialValues:g.current,initialErrors:m.current,initialTouched:y.current,initialStatus:b.current,handleBlur:H,handleChange:z,handleReset:Z,handleSubmit:Y,resetForm:A,setErrors:F,setFormikState:G,setFieldTouched:W,setFieldValue:V,setFieldError:B,setStatus:K,setSubmitting:X,setTouched:j,setValues:L,submitForm:$,validateForm:R,validateField:P,isValid:it,dirty:rt,unregisterField:M,registerField:N,getFieldProps:nt,getFieldMeta:tt,getFieldHelpers:et,validateOnBlur:a,validateOnChange:n,validateOnMount:u})}function Hr(t){var e=qr(t),n=t.component,i=t.children,o=t.render,a=t.innerRef;return Object(r.useImperativeHandle)(a,function(){return e}),Object(r.createElement)(Lr,{value:e},n?Object(r.createElement)(n,e):o?o(e):i?Tr(i)?i(e):Pr(i)?null:r.Children.only(i):null)}function Gr(t,e,n){var r=t.slice();return e.forEach(function(e,i){if("undefined"===typeof r[i]){var o=!1!==n.clone&&n.isMergeableObject(e);r[i]=o?f(Array.isArray(e)?[]:{},e,n):e}else n.isMergeableObject(e)?r[i]=f(t[i],e,n):-1===t.indexOf(e)&&r.push(e)}),r}var Kr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function Xr(t){var e=Object(r.useRef)(t);return Kr(function(){e.current=t}),Object(r.useCallback)(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current.apply(void 0,n)},[])}function $r(t){var e=function(e){return Object(r.createElement)(Br,null,function(n){return n||Object(mr.a)(!1),Object(r.createElement)(t,Object.assign({},e,{formik:n}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",br()(e,t)}Object(r.forwardRef)(function(t,e){var n=t.action,i=Sr(t,["action"]),o=null!=n?n:"#",a=Vr(),s=a.handleReset,u=a.handleSubmit;return Object(r.createElement)("form",Object.assign({onSubmit:u,ref:e,onReset:s,action:o},i))}).displayName="Form";var Yr=function(t,e,n){var r=ti(t),i=r[e];return r.splice(e,1),r.splice(n,0,i),r},Qr=function(t,e,n){var r=ti(t),i=r[e];return r[e]=r[n],r[n]=i,r},Jr=function(t,e,n){var r=ti(t);return r.splice(e,0,n),r},Zr=function(t,e,n){var r=ti(t);return r[e]=n,r},ti=function(t){if(t){if(Array.isArray(t))return[].concat(t);var e=Object.keys(t).map(function(t){return parseInt(t)}).reduce(function(t,e){return e>t?e:t},0);return Array.from(_r({},t,{length:e+1}))}return[]},ei=function(t){function e(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(t,e,r){var i=n.props,o=i.name;(0,i.formik.setFormikState)(function(n){var i="function"===typeof r?r:t,a="function"===typeof e?e:t,s=Mr(n.values,o,t(Dr(n.values,o))),u=r?i(Dr(n.errors,o)):void 0,c=e?a(Dr(n.touched,o)):void 0;return Or(u)&&(u=void 0),Or(c)&&(c=void 0),_r({},n,{values:s,errors:r?Mr(n.errors,o,u):n.errors,touched:e?Mr(n.touched,o,c):n.touched})})},n.push=function(t){return n.updateArrayField(function(e){return[].concat(ti(e),[Er(t)])},!1,!1)},n.handlePush=function(t){return function(){return n.push(t)}},n.swap=function(t,e){return n.updateArrayField(function(n){return Qr(n,t,e)},!0,!0)},n.handleSwap=function(t,e){return function(){return n.swap(t,e)}},n.move=function(t,e){return n.updateArrayField(function(n){return Yr(n,t,e)},!0,!0)},n.handleMove=function(t,e){return function(){return n.move(t,e)}},n.insert=function(t,e){return n.updateArrayField(function(n){return Jr(n,t,e)},function(e){return Jr(e,t,null)},function(e){return Jr(e,t,null)})},n.handleInsert=function(t,e){return function(){return n.insert(t,e)}},n.replace=function(t,e){return n.updateArrayField(function(n){return Zr(n,t,e)},!1,!1)},n.handleReplace=function(t,e){return function(){return n.replace(t,e)}},n.unshift=function(t){var e=-1;return n.updateArrayField(function(n){var r=n?[t].concat(n):[t];return e<0&&(e=r.length),r},function(t){var n=t?[null].concat(t):[null];return e<0&&(e=n.length),n},function(t){var n=t?[null].concat(t):[null];return e<0&&(e=n.length),n}),e},n.handleUnshift=function(t){return function(){return n.unshift(t)}},n.handleRemove=function(t){return function(){return n.remove(t)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Cr(n)),n.pop=n.pop.bind(Cr(n)),n}kr(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){this.props.validateOnChange&&this.props.formik.validateOnChange&&!o()(Dr(t.formik.values,t.name),Dr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(t){var e;return this.updateArrayField(function(n){var r=n?ti(n):[];return e||(e=r[t]),Tr(r.splice)&&r.splice(t,1),r},!0,!0),e},n.pop=function(){var t;return this.updateArrayField(function(e){var n=e;return t||(t=n&&n.pop&&n.pop()),n},!0,!0),t},n.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},e=this.props,n=e.component,i=e.render,o=e.children,a=e.name,s=_r({},t,{form:Sr(e.formik,["validate","validationSchema"]),name:a});return n?Object(r.createElement)(n,s):i?i(s):o?"function"===typeof o?o(s):Pr(o)?null:r.Children.only(o):null},e}(r.Component);ei.defaultProps={validateOnChange:!0};r.Component,r.Component},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e.a=i.a.createContext(null)},function(t,e,n){"use strict";var r=n(0),i=r.createContext({});e.a=i},,function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,n.apply(this,arguments)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(107);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(130);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(99);n.d(e,"a",function(){return r.a})},function(t,e,n){var r=n(236);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(0),i=r.createContext();function o(){return r.useContext(i)}e.a=i},,function(t,e,n){var r=n(289),i=n(290),o=n(291),a=n(292),s=n(293);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(83);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(34).Symbol;t.exports=r},function(t,e,n){var r=n(56)(Object,"create");t.exports=r},function(t,e,n){var r=n(313);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(181),i=n(345),o=n(68);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(67),i=n(57),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(93),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},,,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=n.n(o),s=(n(4),n(41)),u=n.n(s),c=n(190),l=n(107),f=n(101);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=e.defaultTheme,s=e.withTheme,h=void 0!==s&&s,d=e.name,p=Object(i.a)(e,["defaultTheme","withTheme","name"]),v=d,g=Object(c.a)(t,Object(r.a)({defaultTheme:o,Component:n,name:d||n.displayName,classNamePrefix:v},p)),m=a.a.forwardRef(function(t,e){t.classes;var s,u=t.innerRef,c=Object(i.a)(t,["classes","innerRef"]),p=g(Object(r.a)({},n.defaultProps,t)),v=c;return("string"===typeof d||h)&&(s=Object(f.a)()||o,d&&(v=Object(l.a)({theme:s,name:d,props:c})),h&&!v.theme&&(v.theme=s)),a.a.createElement(n,Object(r.a)({ref:u||e,classes:p},v))});return u()(m,n),m}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;t.Component;if(!n)return e;var i=Object(r.a)({},e);return Object.keys(n).forEach(function(t){n[t]&&(i[t]="".concat(e[t]," ").concat(n[t]))}),i}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(2),i=n(40);function o(t){return t&&"object"===Object(i.a)(t)&&t.constructor===Object}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},t):t;return o(t)&&o(e)&&Object.keys(e).forEach(function(r){"__proto__"!==r&&(o(e[r])&&r in t?i[r]=a(t[r],e[r],n):i[r]=e[r])}),i}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(0),i=n.n(r),o=n(103);function a(){return i.a.useContext(o.a)}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(0),i=n.n(r).a.createContext(null);e.a=i},function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(106),i=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableGlobal,n=void 0!==e&&e,o=t.productionPrefix,a=void 0===o?"jss":o,s=t.seed,u=void 0===s?"":s,c=""===u?"":"".concat(u,"-"),l=0,f=function(){return l+=1};return function(t,e){var o=e.options.name;if(o&&0===o.indexOf("Mui")&&!e.options.link&&!n){if(-1!==i.indexOf(t.key))return"Mui-".concat(t.key);var s="".concat(c).concat(o,"-").concat(t.key);return e.options.theme[r.a]&&""===u?"".concat(s,"-").concat(f()):s}return"".concat(c).concat(a).concat(f())}}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;e.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(t,e,n){"use strict";function r(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var i,o=e.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(393),i=Object(r.a)();e.a=i},function(t,e,n){"use strict";function r(t){for(var e="https://material-ui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";e.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(2),i=n(0),o=n.n(i),a=n(114);function s(t,e){var n=function(e,n){return o.a.createElement(a.a,Object(r.a)({ref:n},e),t)};return n.muiName=a.a.muiName,o.a.memo(o.a.forwardRef(n))}},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=n(9),c=o.forwardRef(function(t,e){var n=t.children,s=t.classes,c=t.className,l=t.color,f=void 0===l?"inherit":l,h=t.component,d=void 0===h?"svg":h,p=t.fontSize,v=void 0===p?"default":p,g=t.htmlColor,m=t.titleAccess,y=t.viewBox,b=void 0===y?"0 0 24 24":y,w=Object(i.a)(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(d,Object(r.a)({className:Object(a.a)(s.root,c,"inherit"!==f&&s["color".concat(Object(u.a)(f))],"default"!==v&&s["fontSize".concat(Object(u.a)(v))]),focusable:"false",viewBox:b,color:g,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:e},w),n,m?o.createElement("title",null,m):null)});c.muiName="SvgIcon",e.a=Object(s.a)(function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(c)},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(63)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm7 10c0 4.52-2.98 8.69-7 9.93-4.02-1.24-7-5.41-7-9.93V6.3l7-3.11 7 3.11V11z"}),i.default.createElement("path",{d:"M7.41 11.59L6 13l4 4 8-8-1.41-1.42L10 14.17z"}))),"VerifiedUserOutlined");e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(33))},function(t,e,n){"use strict";(function(t){var r=n(23),i=n(192),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||i.a;e.a=u}).call(this,n(135)(t))},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(63)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("g",{fill:"none"},i.default.createElement("path",{d:"M0 0h24v24H0V0z"}),i.default.createElement("path",{d:"M0 0h24v24H0V0z",opacity:".87"})),i.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),"LockOutlined");e.default=o},function(t,e,n){"use strict";function r(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(r(t.value)&&""!==t.value||e&&r(t.defaultValue)&&""!==t.defaultValue)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(e),e=setTimeout(function(){t.apply(a,i)},n)}return r.clear=function(){clearTimeout(e)},r}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(42),a=n.n(o),s=n(0),u=n.n(s),c=n(4),l=n.n(c),f=n(123),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=function(t){return 0===u.a.Children.count(t)},v=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},d(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,s=t.exact,u=t.sensitive;if(n)return n;a()(e,"You should not use <Route> or withRouter() outside a <Router>");var c=e.route,l=(r||c.location).pathname;return Object(f.a)(l,{path:i,strict:o,exact:s,sensitive:u},c.match)},e.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!p(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!p(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){i()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,o=this.context.router,a=o.history,s=o.route,c=o.staticContext,l={match:t,location:this.props.location||s.location,history:a,staticContext:c};return r?t?u.a.createElement(r,l):null:i?t?i(l):null:"function"===typeof n?n(l):n&&!p(n)?u.a.Children.only(n):null},e}(u.a.Component);v.propTypes={computedMatch:l.a.object,path:l.a.string,exact:l.a.bool,strict:l.a.bool,sensitive:l.a.bool,component:l.a.func,render:l.a.func,children:l.a.oneOfType([l.a.func,l.a.node]),location:l.a.object},v.contextTypes={router:l.a.shape({history:l.a.object.isRequired,route:l.a.object.isRequired,staticContext:l.a.object})},v.childContextTypes={router:l.a.object.isRequired},e.a=v},function(t,e,n){"use strict";var r=n(195),i=n.n(r),o={},a=0;e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof e&&(e={path:e});var r=e,s=r.path,u=r.exact,c=void 0!==u&&u,l=r.strict,f=void 0!==l&&l,h=r.sensitive;if(null==s)return n;var d=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=o[n]||(o[n]={});if(r[t])return r[t];var s=[],u={re:i()(t,s,e),keys:s};return a<1e4&&(r[t]=u,a++),u}(s,{end:c,strict:f,sensitive:void 0!==h&&h}),p=d.re,v=d.keys,g=p.exec(t);if(!g)return null;var m=g[0],y=g.slice(1),b=t===m;return c&&!b?null:{path:s,url:"/"===s&&""===m?"/":m,isExact:b,params:v.reduce(function(t,e,n){return t[e.name]=y[n],t},{})}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0);function i(t){var e=t.controlled,n=t.default,i=(t.name,t.state,r.useRef(void 0!==e).current),o=r.useState(n),a=o[0],s=o[1];return[i?e:a,r.useCallback(function(t){i||s(t)},[])]}},function(t,e,n){"use strict";function r(t){var e="";if(!t)try{t=n(270)}catch(r){e=r.toString()}return{readFile:t?function(e){return new Promise(function(n,r){t.readFile(e,function(t,e){return t?r(t):n(e)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+e)}}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(0),i=r.createContext({});e.a=i},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(63)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}),i.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"SkipPrevious");e.default=o},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(63)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M8 5v14l11-7z"}),i.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"PlayArrow");e.default=o},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(63)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}),i.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"SkipNext");e.default=o},function(t,e,n){"use strict";var r=n(2),i=n(29),o=(n(18),n(20)),a=n(27),s=n(28),u=n(19),c={}.constructor;function l(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(l);if(t.constructor!==c)return t;var e={};for(var n in t)e[n]=l(t[n]);return e}function f(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,i=l(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var h=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},d=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=h(t[r]," ");else n=h(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function p(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function v(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var i=n.indent,o=void 0===i?0:i,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+p(c+": "+d(l)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+p(f+": "+d(h)+";",o))}for(var v in e){var g=e[v];null!=g&&"fallbacks"!==v&&(r&&(r+="\n"),r+=""+p(v+": "+d(g)+";",o))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),p(t+" {"+r,--o)+p("}",o)):r}var g=/([[\].#*$><+~=|^:(),"'`\s])/g,m="undefined"!==typeof CSS&&CSS.escape,y=function(t){return m?m(t):t.replace(g,"\\$1")},b=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var i=e;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==i||!1===i,a=t in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,i),this;var u=this.options.sheet;return u&&u.attached,this},t}(),w=function(t){function e(e,n,r){var i;(i=t.call(this,e,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+y(i.id)),i}Object(a.a)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=d(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return v(this.selectorText,this.style,n)},Object(o.a)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(b),x={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new w(t,e,n)}},E={indent:1,children:!0},_=/@([\w-]+)/,k=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var i=t.match(_);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new K(Object(r.a)({},n,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=E),null==t.indent&&(t.indent=E.indent),null==t.children&&(t.children=E.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),S=/@media|@supports\s+/,C={onCreateRule:function(t,e,n){return S.test(t)?new k(t,e,n):null}},O={indent:1,children:!0},T=/@keyframes\s+([\w-]+)/,I=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=t.match(T);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:y(s(this,a)),this.rules=new K(Object(r.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=O),null==t.indent&&(t.indent=O.indent),null==t.children&&(t.children=O.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),R=/@keyframes\s+/,A=/\$([\w-]+)/g,P=function(t,e){return"string"===typeof t?t.replace(A,function(t,n){return n in e?e[n]:t}):t},N=function(t,e,n){var r=t[e],i=P(r,n);i!==r&&(t[e]=i)},D={onCreateRule:function(t,e,n){return"string"===typeof t&&R.test(t)?new I(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&N(t,"animation-name",n.keyframes),"animation"in t&&N(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return P(t,r.keyframes);default:return t}}},M=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return Object(a.a)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return v(this.key,this.style,n)},e}(b),j={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new M(t,e,n):null}},F=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=v(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return v(this.at,this.style,t)},t}(),L=/@font-face/,B={onCreateRule:function(t,e,n){return L.test(t)?new F(t,e,n):null}},V=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return v(this.key,this.style,t)},t}(),U={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new V(t,e,n):null}},z=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),W={"@charset":!0,"@import":!0,"@namespace":!0},q=[x,C,D,j,B,U,{onCreateRule:function(t,e,n){return t in W?new z(t,e,n):null}}],H={process:!0},G={force:!0,process:!0},K=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:t,keyframes:this.keyframes,selector:void 0},n),d=t;t in this.raw&&(d=t+"-d"+this.counter++),this.raw[d]=e,d in this.classes&&(h.selector="."+y(this.classes[d]));var p=f(d,e,h);if(!p)return null;this.register(p);var v=void 0===h.index?this.index.length:h.index;return this.index.splice(v,0,p),p},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof w?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof I&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof w?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof I&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=H);var i=this.options,o=i.jss.plugins,a=i.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var s=e,u=s.style;if(o.onUpdate(n,e,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,G)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,G)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e},t}(),X=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new K(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var i=this.addRule(r,t[r],e);i&&n.push(i)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),$=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](t,e,n);if(i)return i}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Y=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(u.a)(e,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(o.a)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),Q="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),J="2f1acc6c3a606b082e5eef5e54414ffb";null==Q[J]&&(Q[J]=0);var Z=Q[J]++,tt=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),t.minify?""+(o||"c")+Z+i+e:o+n.key+"-"+Z+(i?"-"+i:"")+"-"+e}},et=function(t){var e;return function(){return e||(e=t()),e}},nt=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},rt=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=d(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(i){return!1}return!0},it=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},ot=function(t,e){return t.selectorText=e,t.selectorText===e},at=et(function(){return document.querySelector("head")});function st(t){var e=Y.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var i=function(t){for(var e=at(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ut=et(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),ct=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},lt=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},ft=function(){var t=document.createElement("style");return t.textContent="\n",t},ht=function(){function t(t){this.getPropertyValue=nt,this.setProperty=rt,this.removeProperty=it,this.setSelector=ot,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&Y.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||ft(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ut();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=st(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling)}else at().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,i=n;if("conditional"===t.type||"keyframes"===t.type){var o=lt(n,e);if(!1===(i=ct(n,r.toString({children:!1}),o)))return!1;this.refCssRule(t,o,i)}return this.insertRules(r.rules,i),i}var a=t.toString();if(!a)return!1;var s=lt(n,e),u=ct(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,s,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof X&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),dt=0,pt=function(){function t(t){this.id=dt++,this.version="10.6.0",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:tt,Renderer:i.a?ht:null,plugins:[]},this.generateId=tt({minify:!1});for(var e=0;e<q.length;e++)this.plugins.use(q[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(r.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===Y.index?0:Y.index+1);var i=new X(t,Object(r.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},e.removeStyleSheet=function(t){return t.detach(),Y.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var i=Object(r.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=f(t,e,i);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.plugins.use(e)}),this},t}();"object"===typeof CSS&&null!=CSS&&CSS,new pt(vt);var vt,gt=Date.now(),mt="fnValues"+gt,yt="fnStyle"+ ++gt,bt=function(){return{onCreateRule:function(t,e,n){if("function"!==typeof e)return null;var r=f(t,{},n);return r[yt]=e,r},onProcessStyle:function(t,e){if(mt in e||yt in e)return t;var n={};for(var r in t){var i=t[r];"function"===typeof i&&(delete t[r],n[r]=i)}return e[mt]=n,t},onUpdate:function(t,e,n,r){var i=e,o=i[yt];o&&(i.style=o(t)||{});var a=i[mt];if(a)for(var s in a)i.prop(s,a[s](t),r)}}},wt={}.constructor;function xt(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(xt);if(t.constructor!==wt)return t;var e={};for(var n in t)e[n]=xt(t[n]);return e}function Et(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,i=xt(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var _t=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},kt=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=_t(t[r]," ");else n=_t(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function St(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Ct(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var i=n.indent,o=void 0===i?0:i,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+St(c+": "+kt(l)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+St(f+": "+kt(h)+";",o))}for(var d in e){var p=e[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+St(d+": "+kt(p)+";",o))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),St(t+" {"+r,--o)+St("}",o)):r}var Ot=/([[\].#*$><+~=|^:(),"'`\s])/g,Tt="undefined"!==typeof CSS&&CSS.escape,It=function(t){return Tt?Tt(t):t.replace(Ot,"\\$1")},Rt=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var i=e;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==i||!1===i,a=t in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,i),this;var u=this.options.sheet;return u&&u.attached,this},t}(),At=function(t){function e(e,n,r){var i;(i=t.call(this,e,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+It(i.id)),i}Object(a.a)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=kt(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return Ct(this.selectorText,this.style,n)},Object(o.a)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(Rt),Pt={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new At(t,e,n)}},Nt={indent:1,children:!0},Dt=/@([\w-]+)/,Mt=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var i=t.match(Dt);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ie(Object(r.a)({},n,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=Nt),null==t.indent&&(t.indent=Nt.indent),null==t.children&&(t.children=Nt.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),jt=/@media|@supports\s+/,Ft={onCreateRule:function(t,e,n){return jt.test(t)?new Mt(t,e,n):null}},Lt={indent:1,children:!0},Bt=/@keyframes\s+([\w-]+)/,Vt=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=t.match(Bt);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:It(s(this,a)),this.rules=new ie(Object(r.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=Lt),null==t.indent&&(t.indent=Lt.indent),null==t.children&&(t.children=Lt.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),Ut=/@keyframes\s+/,zt=/\$([\w-]+)/g,Wt=function(t,e){return"string"===typeof t?t.replace(zt,function(t,n){return n in e?e[n]:t}):t},qt=function(t,e,n){var r=t[e],i=Wt(r,n);i!==r&&(t[e]=i)},Ht={onCreateRule:function(t,e,n){return"string"===typeof t&&Ut.test(t)?new Vt(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&qt(t,"animation-name",n.keyframes),"animation"in t&&qt(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return Wt(t,r.keyframes);default:return t}}},Gt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return Object(a.a)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return Ct(this.key,this.style,n)},e}(Rt),Kt={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new Gt(t,e,n):null}},Xt=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=Ct(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return Ct(this.at,this.style,t)},t}(),$t=/@font-face/,Yt={onCreateRule:function(t,e,n){return $t.test(t)?new Xt(t,e,n):null}},Qt=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return Ct(this.key,this.style,t)},t}(),Jt={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new Qt(t,e,n):null}},Zt=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),te={"@charset":!0,"@import":!0,"@namespace":!0},ee=[Pt,Ft,Ht,Kt,Yt,Jt,{onCreateRule:function(t,e,n){return t in te?new Zt(t,e,n):null}}],ne={process:!0},re={force:!0,process:!0},ie=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(f.selector="."+It(this.classes[h]));var d=Et(h,e,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof At?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof Vt&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof At?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof Vt&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=ne);var i=this.options,o=i.jss.plugins,a=i.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var s=e,u=s.style;if(o.onUpdate(n,e,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,re)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,re)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e},t}(),oe=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new ie(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var i=this.addRule(r,t[r],e);i&&n.push(i)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),ae=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](t,e,n);if(i)return i}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),se=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(u.a)(e,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(o.a)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),ue="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ce="2f1acc6c3a606b082e5eef5e54414ffb";null==ue[ce]&&(ue[ce]=0);var le=ue[ce]++,fe=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),t.minify?""+(o||"c")+le+i+e:o+n.key+"-"+le+(i?"-"+i:"")+"-"+e}},he=function(t){var e;return function(){return e||(e=t()),e}},de=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},pe=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=kt(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(i){return!1}return!0},ve=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},ge=function(t,e){return t.selectorText=e,t.selectorText===e},me=he(function(){return document.querySelector("head")});function ye(t){var e=se.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var i=function(t){for(var e=me(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var be=he(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),we=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},xe=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},Ee=function(){var t=document.createElement("style");return t.textContent="\n",t},_e=function(){function t(t){this.getPropertyValue=de,this.setProperty=pe,this.removeProperty=ve,this.setSelector=ge,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&se.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||Ee(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=be();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=ye(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling)}else me().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,i=n;if("conditional"===t.type||"keyframes"===t.type){var o=xe(n,e);if(!1===(i=we(n,r.toString({children:!1}),o)))return!1;this.refCssRule(t,o,i)}return this.insertRules(r.rules,i),i}var a=t.toString();if(!a)return!1;var s=xe(n,e),u=we(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,s,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof oe&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),ke=0,Se=function(){function t(t){this.id=ke++,this.version="10.6.0",this.plugins=new ae,this.options={id:{minify:!1},createGenerateId:fe,Renderer:i.a?_e:null,plugins:[]},this.generateId=fe({minify:!1});for(var e=0;e<ee.length;e++)this.plugins.use(ee[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(r.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===se.index?0:se.index+1);var i=new oe(t,Object(r.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},e.removeStyleSheet=function(t){return t.detach(),se.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var i=Object(r.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=Et(t,e,i);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.plugins.use(e)}),this},t}();"object"===typeof CSS&&null!=CSS&&CSS,function(t){new Se(t)}();var Ce="@global",Oe="@global ",Te=function(){function t(t,e,n){for(var i in this.type="global",this.at=Ce,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=n,this.rules=new ie(Object(r.a)({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r&&this.options.jss.plugins.onProcessRule(r),r},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(){return this.rules.toString()},t}(),Ie=function(){function t(t,e,n){this.type="global",this.at=Ce,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=t,this.options=n;var i=t.substr(Oe.length);this.rule=n.jss.createRule(i,e,Object(r.a)({},n,{parent:this}))}return t.prototype.toString=function(t){return this.rule?this.rule.toString(t):""},t}(),Re=/\s*,\s*/g;function Ae(t,e){for(var n=t.split(Re),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Pe=function(){return{onCreateRule:function(t,e,n){if(!t)return null;if(t===Ce)return new Te(t,e,n);if("@"===t[0]&&t.substr(0,Oe.length)===Oe)return new Ie(t,e,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=t),null},onProcessRule:function(t,e){"style"===t.type&&e&&(function(t,e){var n=t.options,i=t.style,o=i?i[Ce]:null;if(o){for(var a in o)e.addRule(a,o[a],Object(r.a)({},n,{selector:Ae(a,t.selector)}));delete i[Ce]}}(t,e),function(t,e){var n=t.options,i=t.style;for(var o in i)if("@"===o[0]&&o.substr(0,Ce.length)===Ce){var a=Ae(o.substr(Ce.length),t.selector);e.addRule(a,i[o],Object(r.a)({},n,{selector:a})),delete i[o]}}(t,e))}}},Ne=/\s*,\s*/g,De=/&/g,Me=/\$([\w-]+)/g;var je=function(){function t(t,e){return function(n,r){var i=t.getRule(r)||e&&e.getRule(r);return i?(i=i).selector:r}}function e(t,e){for(var n=e.split(Ne),r=t.split(Ne),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(De,a):a+" "+u}return i}function n(t,e,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=t.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(r.a)({},t.options,{nestingLevel:i,index:e.indexOf(t)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,u,c=o,l=c.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(c,l,s),h){var p=e(f,c.selector);u||(u=t(l,a)),p=p.replace(Me,u),l.addRule(p,i[f],Object(r.a)({},s,{selector:p}))}else d&&l.addRule(f,{},s).addRule(c.key,i[f],{selector:c.selector});delete i[f]}}return i}}},Fe=/[A-Z]/g,Le=/^ms-/,Be={};function Ve(t){return"-"+t.toLowerCase()}var Ue=function(t){if(Be.hasOwnProperty(t))return Be[t];var e=t.replace(Fe,Ve);return Be[t]=Le.test(e)?"-"+e:e};function ze(t){var e={};for(var n in t){e[0===n.indexOf("--")?n:Ue(n)]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(ze):e.fallbacks=ze(t.fallbacks)),e}var We=function(){return{onProcessStyle:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=ze(t[e]);return t}return ze(t)},onChangeValue:function(t,e,n){if(0===e.indexOf("--"))return t;var r=Ue(e);return e===r?t:(n.prop(r,t),null)}}},qe={}.constructor;function He(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(He);if(t.constructor!==qe)return t;var e={};for(var n in t)e[n]=He(t[n]);return e}function Ge(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,i=He(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var Ke=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},Xe=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=Ke(t[r]," ");else n=Ke(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function $e(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Ye(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var i=n.indent,o=void 0===i?0:i,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+$e(c+": "+Xe(l)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+$e(f+": "+Xe(h)+";",o))}for(var d in e){var p=e[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+$e(d+": "+Xe(p)+";",o))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),$e(t+" {"+r,--o)+$e("}",o)):r}var Qe=/([[\].#*$><+~=|^:(),"'`\s])/g,Je="undefined"!==typeof CSS&&CSS.escape,Ze=function(t){return Je?Je(t):t.replace(Qe,"\\$1")},tn=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var i=e;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==i||!1===i,a=t in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,i),this;var u=this.options.sheet;return u&&u.attached,this},t}(),en=function(t){function e(e,n,r){var i;(i=t.call(this,e,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+Ze(i.id)),i}Object(a.a)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=Xe(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return Ye(this.selectorText,this.style,n)},Object(o.a)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(tn),nn={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new en(t,e,n)}},rn={indent:1,children:!0},on=/@([\w-]+)/,an=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var i=t.match(on);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new In(Object(r.a)({},n,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=rn),null==t.indent&&(t.indent=rn.indent),null==t.children&&(t.children=rn.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),sn=/@media|@supports\s+/,un={onCreateRule:function(t,e,n){return sn.test(t)?new an(t,e,n):null}},cn={indent:1,children:!0},ln=/@keyframes\s+([\w-]+)/,fn=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=t.match(ln);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:Ze(s(this,a)),this.rules=new In(Object(r.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=cn),null==t.indent&&(t.indent=cn.indent),null==t.children&&(t.children=cn.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),hn=/@keyframes\s+/,dn=/\$([\w-]+)/g,pn=function(t,e){return"string"===typeof t?t.replace(dn,function(t,n){return n in e?e[n]:t}):t},vn=function(t,e,n){var r=t[e],i=pn(r,n);i!==r&&(t[e]=i)},gn={onCreateRule:function(t,e,n){return"string"===typeof t&&hn.test(t)?new fn(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&vn(t,"animation-name",n.keyframes),"animation"in t&&vn(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return pn(t,r.keyframes);default:return t}}},mn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return Object(a.a)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return Ye(this.key,this.style,n)},e}(tn),yn={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new mn(t,e,n):null}},bn=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=Ye(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return Ye(this.at,this.style,t)},t}(),wn=/@font-face/,xn={onCreateRule:function(t,e,n){return wn.test(t)?new bn(t,e,n):null}},En=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return Ye(this.key,this.style,t)},t}(),_n={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new En(t,e,n):null}},kn=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),Sn={"@charset":!0,"@import":!0,"@namespace":!0},Cn=[nn,un,gn,yn,xn,_n,{onCreateRule:function(t,e,n){return t in Sn?new kn(t,e,n):null}}],On={process:!0},Tn={force:!0,process:!0},In=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(f.selector="."+Ze(this.classes[h]));var d=Ge(h,e,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof en?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof fn&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof en?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof fn&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=On);var i=this.options,o=i.jss.plugins,a=i.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var s=e,u=s.style;if(o.onUpdate(n,e,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,Tn)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,Tn)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e},t}(),Rn=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new In(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var i=this.addRule(r,t[r],e);i&&n.push(i)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),An=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](t,e,n);if(i)return i}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Pn=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(u.a)(e,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(o.a)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),Nn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Dn="2f1acc6c3a606b082e5eef5e54414ffb";null==Nn[Dn]&&(Nn[Dn]=0);var Mn=Nn[Dn]++,jn=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),t.minify?""+(o||"c")+Mn+i+e:o+n.key+"-"+Mn+(i?"-"+i:"")+"-"+e}},Fn=function(t){var e;return function(){return e||(e=t()),e}},Ln=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},Bn=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=Xe(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(i){return!1}return!0},Vn=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},Un=function(t,e){return t.selectorText=e,t.selectorText===e},zn=Fn(function(){return document.querySelector("head")});function Wn(t){var e=Pn.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var i=function(t){for(var e=zn(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var qn=Fn(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),Hn=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},Gn=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},Kn=function(){var t=document.createElement("style");return t.textContent="\n",t},Xn=function(){function t(t){this.getPropertyValue=Ln,this.setProperty=Bn,this.removeProperty=Vn,this.setSelector=Un,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&Pn.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||Kn(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=qn();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=Wn(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling)}else zn().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,i=n;if("conditional"===t.type||"keyframes"===t.type){var o=Gn(n,e);if(!1===(i=Hn(n,r.toString({children:!1}),o)))return!1;this.refCssRule(t,o,i)}return this.insertRules(r.rules,i),i}var a=t.toString();if(!a)return!1;var s=Gn(n,e),u=Hn(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,s,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof Rn&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),$n=0,Yn=function(){function t(t){this.id=$n++,this.version="10.6.0",this.plugins=new An,this.options={id:{minify:!1},createGenerateId:jn,Renderer:i.a?Xn:null,plugins:[]},this.generateId=jn({minify:!1});for(var e=0;e<Cn.length;e++)this.plugins.use(Cn[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(r.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===Pn.index?0:Pn.index+1);var i=new Rn(t,Object(r.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},e.removeStyleSheet=function(t){return t.detach(),Pn.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var i=Object(r.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=Ge(t,e,i);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.plugins.use(e)}),this},t}();var Qn="object"===typeof CSS&&null!=CSS&&"number"in CSS,Jn=(function(t){new Yn(t)}(),Qn&&CSS?CSS.px:"px"),Zn=Qn&&CSS?CSS.ms:"ms",tr=Qn&&CSS?CSS.percent:"%";function er(t){var e=/(-[a-z])/g,n=function(t){return t[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var nr=er({"animation-delay":Zn,"animation-duration":Zn,"background-position":Jn,"background-position-x":Jn,"background-position-y":Jn,"background-size":Jn,border:Jn,"border-bottom":Jn,"border-bottom-left-radius":Jn,"border-bottom-right-radius":Jn,"border-bottom-width":Jn,"border-left":Jn,"border-left-width":Jn,"border-radius":Jn,"border-right":Jn,"border-right-width":Jn,"border-top":Jn,"border-top-left-radius":Jn,"border-top-right-radius":Jn,"border-top-width":Jn,"border-width":Jn,"border-block":Jn,"border-block-end":Jn,"border-block-end-width":Jn,"border-block-start":Jn,"border-block-start-width":Jn,"border-block-width":Jn,"border-inline":Jn,"border-inline-end":Jn,"border-inline-end-width":Jn,"border-inline-start":Jn,"border-inline-start-width":Jn,"border-inline-width":Jn,"border-start-start-radius":Jn,"border-start-end-radius":Jn,"border-end-start-radius":Jn,"border-end-end-radius":Jn,margin:Jn,"margin-bottom":Jn,"margin-left":Jn,"margin-right":Jn,"margin-top":Jn,"margin-block":Jn,"margin-block-end":Jn,"margin-block-start":Jn,"margin-inline":Jn,"margin-inline-end":Jn,"margin-inline-start":Jn,padding:Jn,"padding-bottom":Jn,"padding-left":Jn,"padding-right":Jn,"padding-top":Jn,"padding-block":Jn,"padding-block-end":Jn,"padding-block-start":Jn,"padding-inline":Jn,"padding-inline-end":Jn,"padding-inline-start":Jn,"mask-position-x":Jn,"mask-position-y":Jn,"mask-size":Jn,height:Jn,width:Jn,"min-height":Jn,"max-height":Jn,"min-width":Jn,"max-width":Jn,bottom:Jn,left:Jn,top:Jn,right:Jn,inset:Jn,"inset-block":Jn,"inset-block-end":Jn,"inset-block-start":Jn,"inset-inline":Jn,"inset-inline-end":Jn,"inset-inline-start":Jn,"box-shadow":Jn,"text-shadow":Jn,"column-gap":Jn,"column-rule":Jn,"column-rule-width":Jn,"column-width":Jn,"font-size":Jn,"font-size-delta":Jn,"letter-spacing":Jn,"text-decoration-thickness":Jn,"text-indent":Jn,"text-stroke":Jn,"text-stroke-width":Jn,"word-spacing":Jn,motion:Jn,"motion-offset":Jn,outline:Jn,"outline-offset":Jn,"outline-width":Jn,perspective:Jn,"perspective-origin-x":tr,"perspective-origin-y":tr,"transform-origin":tr,"transform-origin-x":tr,"transform-origin-y":tr,"transform-origin-z":tr,"transition-delay":Zn,"transition-duration":Zn,"vertical-align":Jn,"flex-basis":Jn,"shape-margin":Jn,size:Jn,gap:Jn,grid:Jn,"grid-gap":Jn,"row-gap":Jn,"grid-row-gap":Jn,"grid-column-gap":Jn,"grid-template-rows":Jn,"grid-template-columns":Jn,"grid-auto-rows":Jn,"grid-auto-columns":Jn,"box-shadow-x":Jn,"box-shadow-y":Jn,"box-shadow-blur":Jn,"box-shadow-spread":Jn,"font-line-height":Jn,"text-shadow-x":Jn,"text-shadow-y":Jn,"text-shadow-blur":Jn});function rr(t,e,n){if(null==e)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=rr(t,e[r],n);else if("object"===typeof e)if("fallbacks"===t)for(var i in e)e[i]=rr(i,e[i],n);else for(var o in e)e[o]=rr(t+"-"+o,e[o],n);else if("number"===typeof e&&!1===isNaN(e)){var a=n[t]||nr[t];return!a||0===e&&a===Jn?e.toString():"function"===typeof a?a(e).toString():""+e+a}return e}var ir=function(t){void 0===t&&(t={});var e=er(t);return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r in t)t[r]=rr(r,t[r],e);return t},onChangeValue:function(t,n){return rr(n,t,e)}}},or=n(36),ar="",sr="",ur="",cr="",lr=i.a&&"ontouchstart"in document.documentElement;if(i.a){var fr={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},hr=document.createElement("p").style;for(var dr in fr)if(dr+"Transform"in hr){ar=dr,sr=fr[dr];break}"Webkit"===ar&&"msHyphens"in hr&&(ar="ms",sr=fr.ms,cr="edge"),"Webkit"===ar&&"-apple-trailing-word"in hr&&(ur="apple")}var pr={js:ar,css:sr,vendor:ur,browser:cr,isTouch:lr};var vr={noPrefill:["appearance"],supportedProperty:function(t){return"appearance"===t&&("ms"===pr.js?"-webkit-"+t:pr.css+t)}},gr={noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"===t&&("Webkit"===pr.js?pr.css+"print-"+t:t)}},mr=/[-\s]+(.)?/g;function yr(t,e){return e?e.toUpperCase():""}function br(t){return t.replace(mr,yr)}function wr(t){return br("-"+t)}var xr,Er={noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"===pr.js){if(br("mask-image")in e)return t;if(pr.js+wr("mask-image")in e)return pr.css+t}return t}},_r={noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"===t&&("apple"!==pr.vendor||pr.isTouch?t:pr.css+t)}},kr={noPrefill:["transform"],supportedProperty:function(t,e,n){return"transform"===t&&(n.transform?t:pr.css+t)}},Sr={noPrefill:["transition"],supportedProperty:function(t,e,n){return"transition"===t&&(n.transition?t:pr.css+t)}},Cr={noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"===t&&("Webkit"===pr.js||"ms"===pr.js&&"edge"!==pr.browser?pr.css+t:t)}},Or={noPrefill:["user-select"],supportedProperty:function(t){return"user-select"===t&&("Moz"===pr.js||"ms"===pr.js||"apple"===pr.vendor?pr.css+t:t)}},Tr={supportedProperty:function(t,e){return!!/^break-/.test(t)&&("Webkit"===pr.js?"WebkitColumn"+wr(t)in e&&pr.css+"column-"+t:"Moz"===pr.js&&("page"+wr(t)in e&&"page-"+t))}},Ir={supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"===pr.js)return t;var n=t.replace("-inline","");return pr.js+wr(n)in e&&pr.css+n}},Rr={supportedProperty:function(t,e){return br(t)in e&&t}},Ar={supportedProperty:function(t,e){var n=wr(t);return"-"===t[0]?t:"-"===t[0]&&"-"===t[1]?t:pr.js+n in e?pr.css+t:"Webkit"!==pr.js&&"Webkit"+n in e&&"-webkit-"+t}},Pr={supportedProperty:function(t){return"scroll-snap"===t.substring(0,11)&&("ms"===pr.js?""+pr.css+t:t)}},Nr={supportedProperty:function(t){return"overscroll-behavior"===t&&("ms"===pr.js?pr.css+"scroll-chaining":t)}},Dr={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Mr={supportedProperty:function(t,e){var n=Dr[t];return!!n&&(pr.js+wr(n)in e&&pr.css+n)}},jr={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Fr=Object.keys(jr),Lr=function(t){return pr.css+t},Br=[vr,gr,Er,_r,kr,Sr,Cr,Or,Tr,Ir,Rr,Ar,Pr,Nr,Mr,{supportedProperty:function(t,e,n){var r=n.multiple;if(Fr.indexOf(t)>-1){var i=jr[t];if(!Array.isArray(i))return pr.js+wr(i)in e&&pr.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(pr.js+wr(i[0])in e))return!1;return i.map(Lr)}return!1}}],Vr=Br.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),Ur=Br.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,Object(or.a)(e.noPrefill)),t},[]),zr={};if(i.a){xr=document.createElement("p");var Wr=window.getComputedStyle(document.documentElement,"");for(var qr in Wr)isNaN(qr)||(zr[Wr[qr]]=Wr[qr]);Ur.forEach(function(t){return delete zr[t]})}function Hr(t,e){if(void 0===e&&(e={}),!xr)return t;if(null!=zr[t])return zr[t];"transition"!==t&&"transform"!==t||(e[t]=t in xr.style);for(var n=0;n<Vr.length&&(zr[t]=Vr[n](t,xr.style,e),!zr[t]);n++);try{xr.style[t]=""}catch(r){return!1}return zr[t]}var Gr,Kr={},Xr={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$r=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Yr(t,e,n){if("var"===e)return"var";if("all"===e)return"all";if("all"===n)return", all";var r=e?Hr(e):", "+Hr(n);return r||(e||n)}function Qr(t,e){var n=e;if(!Gr||"content"===t)return e;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=t+n;if(null!=Kr[r])return Kr[r];try{Gr.style[t]=n}catch(i){return Kr[r]=!1,!1}if(Xr[t])n=n.replace($r,Yr);else if(""===Gr.style[t]&&("-ms-flex"===(n=pr.css+n)&&(Gr.style[t]="-ms-flexbox"),Gr.style[t]=n,""===Gr.style[t]))return Kr[r]=!1,!1;return Gr.style[t]="",Kr[r]=n,Kr[r]}i.a&&(Gr=document.createElement("p"));var Jr={}.constructor;function Zr(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(Zr);if(t.constructor!==Jr)return t;var e={};for(var n in t)e[n]=Zr(t[n]);return e}function ti(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,i=Zr(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var ei=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},ni=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=ei(t[r]," ");else n=ei(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function ri(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function ii(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var i=n.indent,o=void 0===i?0:i,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+ri(c+": "+ni(l)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+ri(f+": "+ni(h)+";",o))}for(var d in e){var p=e[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+ri(d+": "+ni(p)+";",o))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),ri(t+" {"+r,--o)+ri("}",o)):r}var oi=/([[\].#*$><+~=|^:(),"'`\s])/g,ai="undefined"!==typeof CSS&&CSS.escape,si=function(t){return ai?ai(t):t.replace(oi,"\\$1")},ui=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var i=e;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==i||!1===i,a=t in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,i),this;var u=this.options.sheet;return u&&u.attached,this},t}(),ci=function(t){function e(e,n,r){var i;(i=t.call(this,e,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+si(i.id)),i}Object(a.a)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=ni(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return ii(this.selectorText,this.style,n)},Object(o.a)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(ui),li={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new ci(t,e,n)}},fi={indent:1,children:!0},hi=/@([\w-]+)/,di=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var i=t.match(hi);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ji(Object(r.a)({},n,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=fi),null==t.indent&&(t.indent=fi.indent),null==t.children&&(t.children=fi.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),pi=/@media|@supports\s+/,vi={onCreateRule:function(t,e,n){return pi.test(t)?new di(t,e,n):null}},gi={indent:1,children:!0},mi=/@keyframes\s+([\w-]+)/,yi=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=t.match(mi);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:si(s(this,a)),this.rules=new ji(Object(r.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=gi),null==t.indent&&(t.indent=gi.indent),null==t.children&&(t.children=gi.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),bi=/@keyframes\s+/,wi=/\$([\w-]+)/g,xi=function(t,e){return"string"===typeof t?t.replace(wi,function(t,n){return n in e?e[n]:t}):t},Ei=function(t,e,n){var r=t[e],i=xi(r,n);i!==r&&(t[e]=i)},_i={onCreateRule:function(t,e,n){return"string"===typeof t&&bi.test(t)?new yi(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&Ei(t,"animation-name",n.keyframes),"animation"in t&&Ei(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return xi(t,r.keyframes);default:return t}}},ki=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return Object(a.a)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(r.a)({},t,{allowEmpty:!0}):t;return ii(this.key,this.style,n)},e}(ui),Si={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new ki(t,e,n):null}},Ci=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=ii(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return ii(this.at,this.style,t)},t}(),Oi=/@font-face/,Ti={onCreateRule:function(t,e,n){return Oi.test(t)?new Ci(t,e,n):null}},Ii=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return ii(this.key,this.style,t)},t}(),Ri={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new Ii(t,e,n):null}},Ai=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),Pi={"@charset":!0,"@import":!0,"@namespace":!0},Ni=[li,vi,_i,Si,Ti,Ri,{onCreateRule:function(t,e,n){return t in Pi?new Ai(t,e,n):null}}],Di={process:!0},Mi={force:!0,process:!0},ji=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(f.selector="."+si(this.classes[h]));var d=ti(h,e,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof ci?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof yi&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof ci?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof yi&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=Di);var i=this.options,o=i.jss.plugins,a=i.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var s=e,u=s.style;if(o.onUpdate(n,e,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,Mi)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,Mi)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e},t}(),Fi=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new ji(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var i=this.addRule(r,t[r],e);i&&n.push(i)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),Li=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](t,e,n);if(i)return i}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Bi=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(u.a)(e,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(o.a)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),Vi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")();null==Vi["2f1acc6c3a606b082e5eef5e54414ffb"]&&(Vi["2f1acc6c3a606b082e5eef5e54414ffb"]=0);var Ui=Vi["2f1acc6c3a606b082e5eef5e54414ffb"]++,zi=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),t.minify?""+(o||"c")+Ui+i+e:o+n.key+"-"+Ui+(i?"-"+i:"")+"-"+e}},Wi=function(t){var e;return function(){return e||(e=t()),e}},qi=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},Hi=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=ni(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(i){return!1}return!0},Gi=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},Ki=function(t,e){return t.selectorText=e,t.selectorText===e},Xi=Wi(function(){return document.querySelector("head")});function $i(t){var e=Bi.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var i=function(t){for(var e=Xi(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Yi=Wi(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),Qi=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},Ji=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},Zi=function(){var t=document.createElement("style");return t.textContent="\n",t},to=function(){function t(t){this.getPropertyValue=qi,this.setProperty=Hi,this.removeProperty=Gi,this.setSelector=Ki,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&Bi.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||Zi(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=Yi();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=$i(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling)}else Xi().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,i=n;if("conditional"===t.type||"keyframes"===t.type){var o=Ji(n,e);if(!1===(i=Qi(n,r.toString({children:!1}),o)))return!1;this.refCssRule(t,o,i)}return this.insertRules(r.rules,i),i}var a=t.toString();if(!a)return!1;var s=Ji(n,e),u=Qi(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,s,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof Fi&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),eo=0,no=function(){function t(t){this.id=eo++,this.version="10.6.0",this.plugins=new Li,this.options={id:{minify:!1},createGenerateId:zi,Renderer:i.a?to:null,plugins:[]},this.generateId=zi({minify:!1});for(var e=0;e<Ni.length;e++)this.plugins.use(Ni[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(r.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===Bi.index?0:Bi.index+1);var i=new Fi(t,Object(r.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},e.removeStyleSheet=function(t){return t.detach(),Bi.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var i=Object(r.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=ti(t,e,i);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.plugins.use(e)}),this},t}();"object"===typeof CSS&&null!=CSS&&CSS,function(t){new no(t)}();var ro=function(){function t(e){for(var n in e){var r=e[n];if("fallbacks"===n&&Array.isArray(r))e[n]=r.map(t);else{var i=!1,o=Hr(n);o&&o!==n&&(i=!0);var a=!1,s=Qr(o,ni(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete e[n],e[o||n]=s||r)}}return e}return{onProcessRule:function(t){if("keyframes"===t.type){var e=t;e.at="-"===(n=e.at)[1]?n:"ms"===pr.js?n:"@"+pr.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(e,n){return"style"!==n.type?e:t(e)},onChangeValue:function(t,e){return Qr(e,ni(t))||t}}};var io=function(){var t=function(t,e){return t.length===e.length?t>e?1:-1:t.length-e.length};return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r={},i=Object.keys(e).sort(t),o=0;o<i.length;o++)r[i[o]]=e[i[o]];return r}}};function oo(){return{plugins:[bt(),Pe(),je(),We(),ir(),"undefined"===typeof window?null:ro(),io()]}}n.d(e,"a",function(){return oo})},function(t,e,n){"use strict";var r=n(2);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};var s=!0,u="Invariant failed";var c=function(t,e){if(!t){if(s)throw new Error(u);throw new Error(u+": "+(e||""))}};function l(t){return"/"===t.charAt(0)?t:"/"+t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function h(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function p(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}n.d(e,"a",function(){return x}),n.d(e,"b",function(){return p});var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function m(t,e){e(window.confirm(t))}var y="popstate",b="hashchange";function w(){try{return window.history.state||{}}catch(t){return{}}}function x(t){void 0===t&&(t={}),g||c(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,x=void 0===u?m:u,E=o.keyLength,_=void 0===E?6:E,k=t.basename?h(l(t.basename)):"";function S(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=f(o,k)),p(o,r,n)}function C(){return Math.random().toString(36).substr(2,_)}var O=v();function T(t){Object(r.a)(V,t),V.length=e.length,O.notifyListeners(V.location,V.action)}function I(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||P(S(t.state))}function R(){P(S(w()))}var A=!1;function P(t){if(A)A=!1,T();else{O.confirmTransitionTo(t,"POP",x,function(e){e?T({action:"POP",location:t}):function(t){var e=V.location,n=D.indexOf(e.key);-1===n&&(n=0);var r=D.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,j(i))}(t)})}}var N=S(w()),D=[N.key];function M(t){return k+d(t)}function j(t){e.go(t)}var F=0;function L(t){1===(F+=t)&&1===t?(window.addEventListener(y,I),i&&window.addEventListener(b,R)):0===F&&(window.removeEventListener(y,I),i&&window.removeEventListener(b,R))}var B=!1;var V={length:e.length,action:"POP",location:N,createHref:M,push:function(t,r){var i=p(t,r,C(),V.location);O.confirmTransitionTo(i,"PUSH",x,function(t){if(t){var r=M(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=D.indexOf(V.location.key),c=D.slice(0,u+1);c.push(i.key),D=c,T({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(t,r){var i=p(t,r,C(),V.location);O.confirmTransitionTo(i,"REPLACE",x,function(t){if(t){var r=M(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=D.indexOf(V.location.key);-1!==u&&(D[u]=i.key),T({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(t){void 0===t&&(t=!1);var e=O.setPrompt(t);return B||(L(1),B=!0),function(){return B&&(B=!1,L(-1)),e()}},listen:function(t){var e=O.appendListener(t);return L(1),function(){L(-1),e()}}};return V}},function(t,e,n){"use strict";var r=n(11);n.d(e,"a",function(){return r.default});r.default.registerVersion("firebase","8.6.2","app")},,,function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=n(86),i=n(294),o=n(295),a=n(296),s=n(297),u=n(298);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(56)(n(34),"Map");t.exports=r},function(t,e,n){var r=n(67),i=n(38),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){var r=n(305),i=n(312),o=n(314),a=n(315),s=n(316);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(173);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(326),i=n(57),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){var r=n(34),i=n(328),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(141)(t))},function(t,e,n){var r=n(330),i=n(331),o=n(332),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(39),i=n(93),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){"use strict";n.r(e);var r=n(21),i=n(70);function o(t,e){return e&&"string"===typeof e?e.split(".").reduce(function(t,e){return t&&t[e]?t[e]:null},t):null}var a=function(t){var e=t.prop,n=t.cssProperty,a=void 0===n?t.prop:n,s=t.themeKey,u=t.transform,c=function(t){if(null==t[e])return null;var n=t[e],c=o(t.theme,s)||{};return Object(i.b)(t,n,function(t){var e;return"function"===typeof c?e=c(t):Array.isArray(c)?e=c[t]||t:(e=o(c,t)||t,u&&(e=u(e))),!1===a?e:Object(r.a)({},a,e)})};return c.propTypes={},c.filterProps=[e],c},s=n(2),u=n(50);var c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t){return e.reduce(function(e,n){var r=n(t);return r?Object(u.a)(e,r):e},{})};return r.propTypes={},r.filterProps=e.reduce(function(t,e){return t.concat(e.filterProps)},[]),r};function l(t){return"number"!==typeof t?t:"".concat(t,"px solid")}var f=a({prop:"border",themeKey:"borders",transform:l}),h=a({prop:"borderTop",themeKey:"borders",transform:l}),d=a({prop:"borderRight",themeKey:"borders",transform:l}),p=a({prop:"borderBottom",themeKey:"borders",transform:l}),v=a({prop:"borderLeft",themeKey:"borders",transform:l}),g=a({prop:"borderColor",themeKey:"palette"}),m=a({prop:"borderRadius",themeKey:"shape"}),y=c(f,h,d,p,v,g,m),b=n(36);n(4);var w=function(t){var e=function(e){var n=t(e);return e.css?Object(s.a)({},Object(u.a)(n,t(Object(s.a)({theme:e.theme},e.css))),function(t,e){var n={};return Object.keys(t).forEach(function(r){-1===e.indexOf(r)&&(n[r]=t[r])}),n}(e.css,[t.filterProps])):n};return e.propTypes={},e.filterProps=["css"].concat(Object(b.a)(t.filterProps)),e},x=a({prop:"displayPrint",cssProperty:!1,transform:function(t){return{"@media print":{display:t}}}}),E=a({prop:"display"}),_=a({prop:"overflow"}),k=a({prop:"textOverflow"}),S=a({prop:"visibility"}),C=a({prop:"whiteSpace"}),O=c(x,E,_,k,S,C),T=a({prop:"flexBasis"}),I=a({prop:"flexDirection"}),R=a({prop:"flexWrap"}),A=a({prop:"justifyContent"}),P=a({prop:"alignItems"}),N=a({prop:"alignContent"}),D=a({prop:"order"}),M=a({prop:"flex"}),j=a({prop:"flexGrow"}),F=a({prop:"flexShrink"}),L=a({prop:"alignSelf"}),B=a({prop:"justifyItems"}),V=a({prop:"justifySelf"}),U=c(T,I,R,A,P,N,D,M,j,F,L,B,V),z=a({prop:"gridGap"}),W=a({prop:"gridColumnGap"}),q=a({prop:"gridRowGap"}),H=a({prop:"gridColumn"}),G=a({prop:"gridRow"}),K=a({prop:"gridAutoFlow"}),X=a({prop:"gridAutoColumns"}),$=a({prop:"gridAutoRows"}),Y=a({prop:"gridTemplateColumns"}),Q=a({prop:"gridTemplateRows"}),J=a({prop:"gridTemplateAreas"}),Z=a({prop:"gridArea"}),tt=c(z,W,q,H,G,K,X,$,Y,Q,J,Z),et=a({prop:"color",themeKey:"palette"}),nt=a({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),rt=c(et,nt),it=a({prop:"position"}),ot=a({prop:"zIndex",themeKey:"zIndex"}),at=a({prop:"top"}),st=a({prop:"right"}),ut=a({prop:"bottom"}),ct=a({prop:"left"}),lt=c(it,ot,at,st,ut,ct),ft=a({prop:"boxShadow",themeKey:"shadows"});function ht(t){return t<=1?"".concat(100*t,"%"):t}var dt=a({prop:"width",transform:ht}),pt=a({prop:"maxWidth",transform:ht}),vt=a({prop:"minWidth",transform:ht}),gt=a({prop:"height",transform:ht}),mt=a({prop:"maxHeight",transform:ht}),yt=a({prop:"minHeight",transform:ht}),bt=a({prop:"size",cssProperty:"width",transform:ht}),wt=a({prop:"size",cssProperty:"height",transform:ht}),xt=a({prop:"boxSizing"}),Et=c(dt,pt,vt,gt,mt,yt,xt),_t=n(71),kt=a({prop:"fontFamily",themeKey:"typography"}),St=a({prop:"fontSize",themeKey:"typography"}),Ct=a({prop:"fontStyle",themeKey:"typography"}),Ot=a({prop:"fontWeight",themeKey:"typography"}),Tt=a({prop:"letterSpacing"}),It=a({prop:"lineHeight"}),Rt=a({prop:"textAlign"}),At=c(kt,St,Ct,Ot,Tt,It,Rt);n.d(e,"borders",function(){return y}),n.d(e,"border",function(){return f}),n.d(e,"borderTop",function(){return h}),n.d(e,"borderRight",function(){return d}),n.d(e,"borderBottom",function(){return p}),n.d(e,"borderLeft",function(){return v}),n.d(e,"borderColor",function(){return g}),n.d(e,"borderRadius",function(){return m}),n.d(e,"breakpoints",function(){return i.a}),n.d(e,"compose",function(){return c}),n.d(e,"css",function(){return w}),n.d(e,"display",function(){return O}),n.d(e,"flexbox",function(){return U}),n.d(e,"flexBasis",function(){return T}),n.d(e,"flexDirection",function(){return I}),n.d(e,"flexWrap",function(){return R}),n.d(e,"justifyContent",function(){return A}),n.d(e,"alignItems",function(){return P}),n.d(e,"alignContent",function(){return N}),n.d(e,"order",function(){return D}),n.d(e,"flex",function(){return M}),n.d(e,"flexGrow",function(){return j}),n.d(e,"flexShrink",function(){return F}),n.d(e,"alignSelf",function(){return L}),n.d(e,"justifyItems",function(){return B}),n.d(e,"justifySelf",function(){return V}),n.d(e,"grid",function(){return tt}),n.d(e,"gridGap",function(){return z}),n.d(e,"gridColumnGap",function(){return W}),n.d(e,"gridRowGap",function(){return q}),n.d(e,"gridColumn",function(){return H}),n.d(e,"gridRow",function(){return G}),n.d(e,"gridAutoFlow",function(){return K}),n.d(e,"gridAutoColumns",function(){return X}),n.d(e,"gridAutoRows",function(){return $}),n.d(e,"gridTemplateColumns",function(){return Y}),n.d(e,"gridTemplateRows",function(){return Q}),n.d(e,"gridTemplateAreas",function(){return J}),n.d(e,"gridArea",function(){return Z}),n.d(e,"palette",function(){return rt}),n.d(e,"color",function(){return et}),n.d(e,"bgcolor",function(){return nt}),n.d(e,"positions",function(){return lt}),n.d(e,"position",function(){return it}),n.d(e,"zIndex",function(){return ot}),n.d(e,"top",function(){return at}),n.d(e,"right",function(){return st}),n.d(e,"bottom",function(){return ut}),n.d(e,"left",function(){return ct}),n.d(e,"shadows",function(){return ft}),n.d(e,"sizing",function(){return Et}),n.d(e,"width",function(){return dt}),n.d(e,"maxWidth",function(){return pt}),n.d(e,"minWidth",function(){return vt}),n.d(e,"height",function(){return gt}),n.d(e,"maxHeight",function(){return mt}),n.d(e,"minHeight",function(){return yt}),n.d(e,"sizeWidth",function(){return bt}),n.d(e,"sizeHeight",function(){return wt}),n.d(e,"boxSizing",function(){return xt}),n.d(e,"spacing",function(){return _t.b}),n.d(e,"createUnarySpacing",function(){return _t.a}),n.d(e,"style",function(){return a}),n.d(e,"typography",function(){return At}),n.d(e,"fontFamily",function(){return kt}),n.d(e,"fontSize",function(){return St}),n.d(e,"fontStyle",function(){return Ct}),n.d(e,"fontWeight",function(){return Ot}),n.d(e,"letterSpacing",function(){return Tt}),n.d(e,"lineHeight",function(){return It}),n.d(e,"textAlign",function(){return Rt})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r=n(3),i=n(125);function o(){var e=t.Canvas||t.HTMLCanvasElement,n=t.Image||t.HTMLImageElement,o=t.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=Object(i.a)();return Object(r.a)({Canvas:e||function(){return function(){}}(),CanvasRenderingContext2D:t.CanvasRenderingContext2D||function(){return function(){}}(),Image:n||function(){return function(){}}(),ImageData:t.ImageData||function(){return function(){}}(),Video:t.HTMLVideoElement||function(){return function(){}}(),createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:o},a)}}).call(this,n(33))},function(t,e,n){"use strict";(function(r,i){function o(){return"object"===typeof r&&"undefined"!==typeof t&&"undefined"!==typeof i&&!!i.version}n.d(e,"a",function(){return o})}).call(this,n(33),n(82))},,,,function(t,e,n){"use strict";var r=n(22);e.__esModule=!0,e.default=void 0;var i=r(n(230)),o=function(t){return(0,i.default)("displayName",t)};e.default=o},function(t,e,n){"use strict";var r=n(22);e.__esModule=!0,e.default=void 0;var i=r(n(231)),o=function(t,e){return e+"("+(0,i.default)(t)+")"};e.default=o},function(t,e,n){"use strict";n.r(e);var r=n(114);n.d(e,"default",function(){return r.a})},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n.n(i),a=(n(4),n(103)),s=n(101),u=n(106);e.a=function(t){var e=t.children,n=t.theme,i=Object(s.a)(),c=o.a.useMemo(function(){var t=null===i?n:function(t,e){return"function"===typeof e?e(t):Object(r.a)({},t,e)}(i,n);return null!=t&&(t[u.a]=null!==i),t},[n,i]);return o.a.createElement(a.a.Provider,{value:c},e)}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create},function(t,e,n){var r=n(179),i=n(178),o=n(182),a=n(68),s=n(91),u=n(92),c=Object.prototype.hasOwnProperty,l=o(function(t,e){if(s(e)||a(e))i(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(8);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(8),i=n(276),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!==typeof XMLHttpRequest?t=n(166):"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(166)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(this,n(82))},function(t,e,n){"use strict";var r=n(8),i=n(277),o=n(279),a=n(163),s=n(280),u=n(283),c=n(284),l=n(167);t.exports=function(t){return new Promise(function(e,n){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+v)}var g=s(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};i(e,n,o),d=null}},d.onabort=function(){d&&(n(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=(t.withCredentials||c(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;m&&(h[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(h,function(t,e){"undefined"===typeof f&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(y){if("json"!==t.responseType)throw y}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),n(t),d=null)}),f||(f=null),d.send(f)})}},function(t,e,n){"use strict";var r=n(278);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function c(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(t[i],e[i])}r.forEach(i,function(t){r.isUndefined(e[t])||(n[t]=u(void 0,e[t]))}),r.forEach(o,c),r.forEach(a,function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(void 0,e[i])}),r.forEach(s,function(r){r in e?n[r]=u(t[r],e[r]):r in t&&(n[r]=u(void 0,t[r]))});var l=i.concat(o).concat(a).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter(function(t){return-1===l.indexOf(t)});return r.forEach(f,c),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(33))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(140),i=n(83);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(56),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(34).Uint8Array;t.exports=r},function(t,e,n){var r=n(176)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(179),i=n(140);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(140),i=n(83),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(181),i=n(335),o=n(68);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(334),i=n(142),o=n(39),a=n(144),s=n(146),u=n(145),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),d=n||l||f||h,p=d?r(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},function(t,e,n){var r=n(337),i=n(344);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(348),i=n(372),o=n(147),a=n(39),s=n(383);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(350),i=n(57);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(351),i=n(354),o=n(355),a=1,s=2;t.exports=function(t,e,n,u,c,l){var f=n&a,h=t.length,d=e.length;if(h!=d&&!(f&&d>h))return!1;var p=l.get(t),v=l.get(e);if(p&&v)return p==e&&v==t;var g=-1,m=!0,y=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++g<h;){var b=t[g],w=e[g];if(u)var x=f?u(w,b,g,e,t,l):u(b,w,g,t,e,l);if(void 0!==x){if(x)continue;m=!1;break}if(y){if(!i(e,function(t,e){if(!o(y,e)&&(b===t||c(b,t,n,u,l)))return y.push(e)})){m=!1;break}}else if(b!==w&&!c(b,w,n,u,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},function(t,e,n){var r=n(38);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(189),i=n(94);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(39),i=n(148),o=n(374),a=n(377);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(0),a=n.n(o),s=n(58),u=n(99),c={set:function(t,e,n,r){var i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)},get:function(t,e,n){var r=t.get(e);return r?r.get(n):void 0},delete:function(t,e,n){t.get(e).delete(n)}},l=n(101),f=n(48),h=-1e9;n(40);var d=n(100);var p={};function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name,o=e.classNamePrefix,v=e.Component,g=e.defaultTheme,m=void 0===g?p:g,y=Object(r.a)(e,["name","classNamePrefix","Component","defaultTheme"]),b=function(t){var e="function"===typeof t;return{create:function(n,r){var o;try{o=e?t(n):t}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach(function(t){s[t]=Object(d.a)(s[t],a[t])}),s},options:{}}}(t),w=n||o||"makeStyles";b.options={index:h+=1,name:n,meta:w,classNamePrefix:w};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(l.a)()||m,r=Object(i.a)({},a.a.useContext(f.a),y),o=a.a.useRef(),h=a.a.useRef();return function(t,e){var n,r=a.a.useRef([]),i=a.a.useMemo(function(){return{}},e);r.current!==i&&(r.current=i,n=t()),a.a.useEffect(function(){return function(){n&&n()}},[i])}(function(){var a={name:n,state:{},stylesCreator:b,stylesOptions:r,theme:e};return function(t,e){var n=t.state,r=t.theme,o=t.stylesOptions,a=t.stylesCreator,l=t.name;if(!o.disableGeneration){var f=c.get(o.sheetsManager,a,r);f||(f={refs:0,staticSheet:null,dynamicStyles:null},c.set(o.sheetsManager,a,r,f));var h=Object(i.a)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});h.generateId=h.serverGenerateClassName||h.generateClassName;var d=o.sheetsRegistry;if(0===f.refs){var p;o.sheetsCache&&(p=c.get(o.sheetsCache,a,r));var v=a.create(r,l);p||((p=o.jss.createStyleSheet(v,Object(i.a)({link:!1},h))).attach(),o.sheetsCache&&c.set(o.sheetsCache,a,r,p)),d&&d.add(p),f.staticSheet=p,f.dynamicStyles=Object(s.c)(v)}if(f.dynamicStyles){var g=o.jss.createStyleSheet(f.dynamicStyles,Object(i.a)({link:!0},h));g.update(e),g.attach(),n.dynamicSheet=g,n.classes=Object(u.a)({baseClasses:f.staticSheet.classes,newClasses:g.classes}),d&&d.add(g)}else n.classes=f.staticSheet.classes;f.refs+=1}}(a,t),h.current=!1,o.current=a,function(){!function(t){var e=t.state,n=t.theme,r=t.stylesOptions,i=t.stylesCreator;if(!r.disableGeneration){var o=c.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(c.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}(a)}},[e,b]),a.a.useEffect(function(){h.current&&function(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}(o.current,t),h.current=!0}),function(t,e,n){var r=t.state;if(t.stylesOptions.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,i=!0),i&&(r.cacheClasses.value=Object(u.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}(o.current,t.classes,v)}}n.d(e,"a",function(){return v})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){var r=n(23),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(135)(t))},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);t.exports=function t(e,n,f){if("string"!==typeof n){if(l){var h=c(n);h&&h!==l&&t(e,h,f)}var d=a(n);s&&(d=d.concat(s(n)));for(var p=0;p<d.length;++p){var v=d[p];if(!r[v]&&!i[v]&&(!f||!f[v])){var g=u(n,v);try{o(e,v,g)}catch(m){}}}return e}return e}},function(t,e,n){var r=n(260);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var f=n[0],h=n[1],d=n.index;if(s+=t.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=t[a],v=n[2],g=n[3],m=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var x=null!=v&&null!=p&&p!==v,E="+"===b||"*"===b,_="?"===b||"*"===b,k=n[2]||l,S=m||y;r.push({name:g||o++,prefix:v||"",delimiter:k,optional:_,repeat:E,partial:x,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+u(k)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",f(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t&&t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";e.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},,,,,,,function(t,e,n){t.exports=n(271)},function(t,e,n){var r=n(288),i=n(182)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){var r=n(347)(n(386));t.exports=r},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(63)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),i.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"ExpandMore");e.default=o},function(t,e,n){"use strict";var r=n(2),i=n(98),o=n(16),a=n(19),s=n(100),u=["xs","sm","md","lg","xl"];function c(t,e,n){var i;return Object(r.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({paddingLeft:e(2),paddingRight:e(2)},n,Object(o.a)({},t.up("sm"),Object(r.a)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(i={minHeight:56},Object(o.a)(i,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(o.a)(i,t.up("sm"),{minHeight:64}),i)},n)}var l=n(109),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function w(t){if(t.type)return t;if("#"===t.charAt(0))return w(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map(function(t){return t+t})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3}).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(l.a)(3,t));var r=t.substring(e+1,t.length-1).split(",");return{type:n,values:r=r.map(function(t){return parseFloat(t)})}}function x(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map(function(t,e){return e<3?parseInt(t,10):t}):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function E(t){var e="hsl"===(t=w(t)).type?w(function(t){var e=(t=w(t)).values,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-o*Math.max(Math.min(e-3,9-e,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===t.type&&(s+="a",u.push(e[3])),x({type:s,values:u})}(t)).values:t.values;return e=e.map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function _(t,e){if(t=w(t),e=b(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return x(t)}function k(t,e){if(t=w(t),e=b(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return x(t)}var S={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:h[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},C={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:h[800],default:"#303030"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(t,e,n,r){var i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=k(t.main,i):"dark"===e&&(t.dark=_(t.main,o)))}function T(t){var e=t.primary,n=void 0===e?{light:d[300],main:d[500],dark:d[700]}:e,i=t.secondary,o=void 0===i?{light:p.A200,main:p.A400,dark:p.A700}:i,u=t.error,c=void 0===u?{light:v[300],main:v[500],dark:v[700]}:u,b=t.warning,w=void 0===b?{light:g[300],main:g[500],dark:g[700]}:b,x=t.info,_=void 0===x?{light:m[300],main:m[500],dark:m[700]}:x,k=t.success,T=void 0===k?{light:y[300],main:y[500],dark:y[700]}:k,I=t.type,R=void 0===I?"light":I,A=t.contrastThreshold,P=void 0===A?3:A,N=t.tonalOffset,D=void 0===N?.2:N,M=Object(a.a)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function j(t){return function(t,e){var n=E(t),r=E(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(t,C.text.primary)>=P?C.text.primary:S.text.primary}var F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=Object(r.a)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error(Object(l.a)(4,e));if("string"!==typeof t.main)throw new Error(Object(l.a)(5,JSON.stringify(t.main)));return O(t,"light",n,D),O(t,"dark",i,D),t.contrastText||(t.contrastText=j(t.main)),t},L={dark:C,light:S};return Object(s.a)(Object(r.a)({common:f,type:R,primary:F(n),secondary:F(o,"A400","A200","A700"),error:F(c),warning:F(w),info:F(_),success:F(T),grey:h,contrastThreshold:P,getContrastText:j,augmentColor:F,tonalOffset:D},L[R]),M)}function I(t){return Math.round(1e5*t)/1e5}var R={textTransform:"uppercase"},A='"Roboto", "Helvetica", "Arial", sans-serif';function P(t,e){var n="function"===typeof e?e(t):e,i=n.fontFamily,o=void 0===i?A:i,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,g=n.fontWeightBold,m=void 0===g?700:g,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,x=n.pxToRem,E=Object(a.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var _=c/14,k=x||function(t){return"".concat(t/b*_,"rem")},S=function(t,e,n,i,a){return Object(r.a)({fontFamily:o,fontWeight:t,fontSize:k(e),lineHeight:n},o===A?{letterSpacing:"".concat(I(i/e),"em")}:{},a,w)},C={h1:S(f,96,1.167,-1.5),h2:S(f,60,1.2,-.5),h3:S(d,48,1.167,0),h4:S(d,34,1.235,.25),h5:S(d,24,1.334,0),h6:S(v,20,1.6,.15),subtitle1:S(d,16,1.75,.15),subtitle2:S(v,14,1.57,.1),body1:S(d,16,1.5,.15),body2:S(d,14,1.43,.15),button:S(v,14,1.75,.4,R),caption:S(d,12,1.66,.4),overline:S(d,12,2.66,1,R)};return Object(s.a)(Object(r.a)({htmlFontSize:b,pxToRem:k,round:I,fontFamily:o,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},C),E,{clone:!1})}var N=.2,D=.14,M=.12;function j(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(N,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(D,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(M,")")].join(",")}var F=["none",j(0,2,1,-1,0,1,1,0,0,1,3,0),j(0,3,1,-2,0,2,2,0,0,1,5,0),j(0,3,3,-2,0,3,4,0,0,1,8,0),j(0,2,4,-1,0,4,5,0,0,1,10,0),j(0,3,5,-1,0,5,8,0,0,1,14,0),j(0,3,5,-1,0,6,10,0,0,1,18,0),j(0,4,5,-2,0,7,10,1,0,2,16,1),j(0,5,5,-3,0,8,10,1,0,3,14,2),j(0,5,6,-3,0,9,12,1,0,3,16,2),j(0,6,6,-3,0,10,14,1,0,4,18,3),j(0,6,7,-4,0,11,15,1,0,4,20,3),j(0,7,8,-4,0,12,17,2,0,5,22,4),j(0,7,8,-4,0,13,19,2,0,5,24,4),j(0,7,9,-4,0,14,21,2,0,5,26,4),j(0,8,9,-5,0,15,22,2,0,6,28,5),j(0,8,10,-5,0,16,24,2,0,6,30,5),j(0,8,11,-5,0,17,26,2,0,6,32,5),j(0,9,11,-5,0,18,28,2,0,7,34,6),j(0,9,12,-6,0,19,29,2,0,7,36,6),j(0,10,13,-6,0,20,31,3,0,8,38,7),j(0,10,13,-6,0,21,33,3,0,8,40,7),j(0,10,14,-6,0,22,35,3,0,8,42,7),j(0,11,14,-7,0,23,36,3,0,9,44,8),j(0,11,15,-7,0,24,38,3,0,9,46,8)],L={borderRadius:4},B=n(71);var V={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},U={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function z(t){return"".concat(Math.round(t),"ms")}var W={easing:V,duration:U,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,r=void 0===n?U.standard:n,i=e.easing,o=void 0===i?V.easeInOut:i,s=e.delay,u=void 0===s?0:s;Object(a.a)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map(function(t){return"".concat(t," ").concat("string"===typeof r?r:z(r)," ").concat(o," ").concat("string"===typeof u?u:z(u))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},q={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var H=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,i=t.mixins,o=void 0===i?{}:i,l=t.palette,f=void 0===l?{}:l,h=t.spacing,d=t.typography,p=void 0===d?{}:d,v=Object(a.a)(t,["breakpoints","mixins","palette","spacing","typography"]),g=T(f),m=function(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,i=t.unit,o=void 0===i?"px":i,s=t.step,c=void 0===s?5:s,l=Object(a.a)(t,["values","unit","step"]);function f(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(o,")")}function h(t,e){var r=u.indexOf(e);return r===u.length-1?f(t):"@media (min-width:".concat("number"===typeof n[t]?n[t]:t).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r+1]]?n[u[r+1]]:e)-c/100).concat(o,")")}return Object(r.a)({keys:u,values:n,up:f,down:function(t){var e=u.indexOf(t)+1,r=n[u[e]];return e===u.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&e>0?r:t)-c/100).concat(o,")")},between:h,only:function(t){return h(t,t)},width:function(t){return n[t]}},l)}(n),y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=Object(B.a)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map(function(t){if("string"===typeof t)return t;var n=e(t);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(h),b=Object(s.a)({breakpoints:m,direction:"ltr",mixins:c(m,y,o),overrides:{},palette:g,props:{},shadows:F,typography:P(g,p),spacing:y,shape:L,transitions:W,zIndex:q},v),w=arguments.length,x=new Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return b=x.reduce(function(t,e){return Object(s.a)(t,e)},b)}();e.a=function(t,e){return Object(i.a)(t,Object(r.a)({defaultTheme:H},e))}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=n(16);function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Object(a.a)(t,e,n[e])})}return t}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return(l="function"===typeof Symbol&&"symbol"===c(Symbol.iterator)?function(t){return c(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(t)}function f(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?u(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return(d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}var g=n(25),m=n(13),y=n(14);function b(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function E(t,e,n){var r=n||function(t){return Array.prototype.slice.call(t)},i=!1,o=[];return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=r(a),i||(i=!0,x.call(window,function(){i=!1,t.apply(e,o)}))}}var _=function(t){return"start"===t?"left":"end"===t?"right":"center"},k=function(t,e,n){return"start"===t?e:"end"===t?n:(e+n)/2};function S(){}var C=function(){var t=0;return function(){return t++}}();function O(t){return null===t||"undefined"===typeof t}function T(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function I(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}var R=function(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)};function A(t,e){return R(t)?t:e}function P(t,e){return"undefined"===typeof t?e:t}var N=function(t,e){return"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t};function D(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function M(t,e,n,r){var i,o,a;if(T(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(I(t))for(o=(a=Object.keys(t)).length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function j(t,e){var n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function F(t){if(T(t))return t.map(F);if(I(t)){for(var e=Object.create(null),n=Object.keys(t),r=n.length,i=0;i<r;++i)e[n[i]]=F(t[n[i]]);return e}return t}function L(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function B(t,e,n,r){if(L(t)){var i=e[t],o=n[t];I(i)&&I(o)?V(i,o,r):e[t]=F(o)}}function V(t,e,n){var r=T(e)?e:[e],i=r.length;if(!I(t))return t;for(var o=(n=n||{}).merger||B,a=0;a<i;++a)if(I(e=r[a]))for(var s=Object.keys(e),u=0,c=s.length;u<c;++u)o(s[u],t,e,n);return t}function U(t,e){return V(t,e,{merger:z})}function z(t,e,n){if(L(t)){var r=e[t],i=n[t];I(r)&&I(i)?U(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=F(i))}}var W="",q=".";function H(t,e){var n=t.indexOf(q,e);return-1===n?t.length:n}function G(t,e){if(e===W)return t;for(var n=0,r=H(e,n);t&&r>n;)t=t[e.substr(n,r-n)],r=H(e,n=r+1);return t}function K(t){return t.charAt(0).toUpperCase()+t.slice(1)}var X=function(t){return"undefined"!==typeof t},$=function(t){return"function"===typeof t},Y=Math.PI,Q=2*Y,J=Q+Y,Z=Number.POSITIVE_INFINITY,tt=Y/180,et=Y/2,nt=Y/4,rt=2*Y/3,it=Math.log10,ot=Math.sign;function at(t){var e=Math.pow(10,Math.floor(it(t))),n=t/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function st(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ut(t,e,n){return Math.abs(t-e)<n}function ct(t,e,n){var r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function lt(t){return t*(Y/180)}function ft(t){return t*(180/Y)}function ht(t){if(R(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}}function dt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pt(t,e){return(t-e+J)%Q-Y}function vt(t){return(t%Q+Q)%Q}function gt(t,e,n,r){var i=vt(t),o=vt(e),a=vt(n),s=vt(o-i),u=vt(a-i),c=vt(i-o),l=vt(i-a);return i===o||i===a||r&&o===a||s>u&&c<l}function mt(t,e,n){return Math.max(e,Math.min(n,t))}var yt=function(t){return 0===t||1===t},bt=function(t,e,n){return-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Q/n)},wt=function(t,e,n){return Math.pow(2,-10*t)*Math.sin((t-e)*Q/n)+1},xt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*et)},easeOutSine:function(t){return Math.sin(t*et)},easeInOutSine:function(t){return-.5*(Math.cos(Y*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return yt(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){return yt(t)?t:bt(t,.075,.3)},easeOutElastic:function(t){return yt(t)?t:wt(t,.075,.3)},easeInOutElastic:function(t){return yt(t)?t:t<.5?.5*bt(2*t,.1125,.45):.5+.5*wt(2*t-1,.1125,.45)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-xt.easeOutBounce(1-t)},easeOutBounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*xt.easeInBounce(2*t):.5*xt.easeOutBounce(2*t-1)+.5}},Et={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_t="0123456789ABCDEF",kt=function(t){return _t[15&t]},St=function(t){return _t[(240&t)>>4]+_t[15&t]},Ct=function(t){return(240&t)>>4===(15&t)};function Ot(t){var e=function(t){return Ct(t.r)&&Ct(t.g)&&Ct(t.b)&&Ct(t.a)}(t)?kt:St;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function Tt(t){return t+.5|0}var It=function(t,e,n){return Math.max(Math.min(t,n),e)};function Rt(t){return It(Tt(2.55*t),0,255)}function At(t){return It(Tt(255*t),0,255)}function Pt(t){return It(Tt(t/2.55)/100,0,1)}function Nt(t){return It(Tt(100*t),0,100)}var Dt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var Mt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jt(t,e,n){var r=e*Math.min(n,1-n),i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Ft(t,e,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Lt(t,e,n){var r,i=jt(t,1,.5);for(e+n>1&&(e*=r=1/(e+n),n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Bt(t){var e,n,r,i=t.r/255,o=t.g/255,a=t.b/255,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(s+u)/2;return s!==u&&(r=s-u,n=c>.5?r/(2-s-u):r/(s+u),e=60*(e=s===i?(o-a)/r+(o<a?6:0):s===o?(a-i)/r+2:(i-o)/r+4)+.5),[0|e,n||0,c]}function Vt(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(At)}function Ut(t,e,n){return Vt(jt,t,e,n)}function zt(t){return(t%360+360)%360}function Wt(t){var e,n=Mt.exec(t),r=255;if(n){n[5]!==e&&(r=n[6]?Rt(+n[5]):At(+n[5]));var i=zt(+n[2]),o=+n[3]/100,a=+n[4]/100;return{r:(e="hwb"===n[1]?function(t,e,n){return Vt(Lt,t,e,n)}(i,o,a):"hsv"===n[1]?function(t,e,n){return Vt(Ft,t,e,n)}(i,o,a):Ut(i,o,a))[0],g:e[1],b:e[2],a:r}}}var qt,Ht={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Kt(t){qt||((qt=function(){var t,e,n,r,i,o={},a=Object.keys(Gt),s=Object.keys(Ht);for(t=0;t<a.length;t++){for(r=i=a[t],e=0;e<s.length;e++)n=s[e],i=i.replace(n,Ht[n]);n=parseInt(Gt[r],16),o[i]=[n>>16&255,n>>8&255,255&n]}return o}()).transparent=[0,0,0,0]);var e=qt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Xt(t,e,n){if(t){var r=Bt(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Ut(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function $t(t,e){return t?Object.assign(e||{},t):t}function Yt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=At(t[3]))):(e=$t(t,{r:0,g:0,b:0,a:1})).a=At(e.a),e}function Qt(t){return"r"===t.charAt(0)?function(t){var e,n,r,i=Dt.exec(t),o=255;if(i){if(i[7]!==e){var a=+i[7];o=255&(i[8]?Rt(a):255*a)}return e=+i[1],n=+i[3],r=+i[5],{r:e=255&(i[2]?Rt(e):e),g:n=255&(i[4]?Rt(n):n),b:r=255&(i[6]?Rt(r):r),a:o}}}(t):Wt(t)}var Jt=function(){function t(e){if(Object(m.a)(this,t),e instanceof t)return e;var n,r=typeof e;"object"===r?n=Yt(e):"string"===r&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Et[t[1]],g:255&17*Et[t[2]],b:255&17*Et[t[3]],a:5===n?17*Et[t[4]]:255}:7!==n&&9!==n||(e={r:Et[t[1]]<<4|Et[t[2]],g:Et[t[3]]<<4|Et[t[4]],b:Et[t[5]]<<4|Et[t[6]],a:9===n?Et[t[7]]<<4|Et[t[8]]:255})),e}(e)||Kt(e)||Qt(e)),this._rgb=n,this._valid=!!n}return Object(y.a)(t,[{key:"rgbString",value:function(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Pt(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):this._rgb;var t}},{key:"hexString",value:function(){return this._valid?Ot(this._rgb):this._rgb}},{key:"hslString",value:function(){return this._valid?function(t){if(t){var e=Bt(t),n=e[0],r=Nt(e[1]),i=Nt(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Pt(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):this._rgb}},{key:"mix",value:function(t,e){if(t){var n,r=this.rgb,i=t.rgb,o=e===n?.5:e,a=2*o-1,s=r.a-i.a,u=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;n=1-u,r.r=255&u*r.r+n*i.r+.5,r.g=255&u*r.g+n*i.g+.5,r.b=255&u*r.b+n*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}},{key:"clone",value:function(){return new t(this.rgb)}},{key:"alpha",value:function(t){return this._rgb.a=At(t),this}},{key:"clearer",value:function(t){return this._rgb.a*=1-t,this}},{key:"greyscale",value:function(){var t=this._rgb,e=Tt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}},{key:"opaquer",value:function(t){return this._rgb.a*=1+t,this}},{key:"negate",value:function(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}},{key:"lighten",value:function(t){return Xt(this._rgb,2,t),this}},{key:"darken",value:function(t){return Xt(this._rgb,2,-t),this}},{key:"saturate",value:function(t){return Xt(this._rgb,1,t),this}},{key:"desaturate",value:function(t){return Xt(this._rgb,1,-t),this}},{key:"rotate",value:function(t){return function(t,e){var n=Bt(t);n[0]=zt(n[0]+e),n=Ut(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}},{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var t=$t(this._rgb);return t&&(t.a=Pt(t.a)),t},set:function(t){this._rgb=Yt(t)}}]),t}();function Zt(t){return new Jt(t)}var te=function(t){return t instanceof CanvasGradient||t instanceof CanvasPattern};function ee(t){return te(t)?t:Zt(t)}function ne(t){return te(t)?t:Zt(t).saturate(.5).darken(.1).hexString()}var re=Object.create(null),ie=Object.create(null);function oe(t,e){if(!e)return t;for(var n=e.split("."),r=0,i=n.length;r<i;++r){var o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function ae(t,e,n){return"string"===typeof e?V(oe(t,e),n):V(oe(t,""),e)}var se=new(function(){function t(e){Object(m.a)(this,t),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(t){return t.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(t,e){return ne(e.backgroundColor)},this.hoverBorderColor=function(t,e){return ne(e.borderColor)},this.hoverColor=function(t,e){return ne(e.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}return Object(y.a)(t,[{key:"set",value:function(t,e){return ae(this,t,e)}},{key:"get",value:function(t){return oe(this,t)}},{key:"describe",value:function(t,e){return ae(ie,t,e)}},{key:"override",value:function(t,e){return ae(re,t,e)}},{key:"route",value:function(t,e,n,r){var i,o=oe(this,t),s=oe(this,n),u="_"+e;Object.defineProperties(o,(i={},Object(a.a)(i,u,{value:o[e],writable:!0}),Object(a.a)(i,e,{enumerable:!0,get:function(){var t=this[u],e=s[r];return I(t)?Object.assign({},e,t):P(t,e)},set:function(t){this[u]=t}}),i))}}]),t}())({_scriptable:function(t){return!t.startsWith("on")},_indexable:function(t){return"events"!==t},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function ue(t,e,n,r,i){var o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function ce(t,e,n,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;var a,s,u,c,l,f=0,h=n.length;for(a=0;a<h;a++)if(void 0!==(c=n[a])&&null!==c&&!0!==T(c))f=ue(t,i,o,f,c);else if(T(c))for(s=0,u=c.length;s<u;s++)void 0===(l=c[s])||null===l||T(l)||(f=ue(t,i,o,f,l));t.restore();var d=o.length/2;if(d>n.length){for(a=0;a<d;a++)delete i[o[a]];o.splice(0,d)}return f}function le(t,e,n){var r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function fe(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function he(t,e,n,r){var i,o,a,s,u,c=e.pointStyle,l=e.rotation,f=e.radius,h=(l||0)*tt;if(c&&"object"===typeof c&&("[object HTMLImageElement]"===(i=c.toString())||"[object HTMLCanvasElement]"===i))return t.save(),t.translate(n,r),t.rotate(h),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),c){default:t.arc(n,r,f,0,Q),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(h)*f,r-Math.cos(h)*f),h+=rt,t.lineTo(n+Math.sin(h)*f,r-Math.cos(h)*f),h+=rt,t.lineTo(n+Math.sin(h)*f,r-Math.cos(h)*f),t.closePath();break;case"rectRounded":s=f-(u=.516*f),o=Math.cos(h+nt)*s,a=Math.sin(h+nt)*s,t.arc(n-o,r-a,u,h-Y,h-et),t.arc(n+a,r-o,u,h-et,h),t.arc(n+o,r+a,u,h,h+et),t.arc(n-a,r+o,u,h+et,h+Y),t.closePath();break;case"rect":if(!l){s=Math.SQRT1_2*f,t.rect(n-s,r-s,2*s,2*s);break}h+=nt;case"rectRot":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":h+=nt;case"cross":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),h+=nt,o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(h)*f,r+Math.sin(h)*f)}t.fill(),e.borderWidth>0&&t.stroke()}}function de(t,e,n){return n=n||.5,t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function pe(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ve(t){t.restore()}function ge(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){var o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function me(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ye(t,e,n,r,i){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=T(e)?e:[e],c=s.strokeWidth>0&&""!==s.strokeColor;for(t.save(),s.translation&&t.translate(s.translation[0],s.translation[1]),O(s.rotation)||t.rotate(s.rotation),t.font=i.string,s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline),o=0;o<u.length;++o){if(a=u[o],c&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),O(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(a,n,r,s.maxWidth)),t.fillText(a,n,r,s.maxWidth),s.strikethrough||s.underline){var l=t.measureText(a),f=n-l.actualBoundingBoxLeft,h=n+l.actualBoundingBoxRight,d=r-l.actualBoundingBoxAscent,p=r+l.actualBoundingBoxDescent,v=s.strikethrough?(d+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(f,v),t.lineTo(h,v),t.stroke()}r+=i.lineHeight}t.restore()}function be(t,e){var n=e.x,r=e.y,i=e.w,o=e.h,a=e.radius;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-et,Y,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,Y,et,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,et,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-et,!0),t.lineTo(n+a.topLeft,r)}var we=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),xe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Ee(t,e){var n=(""+t).match(we);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}var _e=function(t){return+t||0};function ke(t,e){var n,r={},i=I(e),o=i?Object.keys(e):e,a=I(t)?i?function(n){return P(t[n],t[e[n]])}:function(e){return t[e]}:function(){return t},s=b(o);try{for(s.s();!(n=s.n()).done;){var u=n.value;r[u]=_e(a(u))}}catch(c){s.e(c)}finally{s.f()}return r}function Se(t){return ke(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ce(t){return ke(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Oe(t){var e=Se(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Te(t,e){t=t||{},e=e||se.font;var n=P(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));var r=P(t.style,e.style);r&&!(""+r).match(xe)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");var i={family:P(t.family,e.family),lineHeight:Ee(P(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:P(t.weight,e.weight),string:""};return i.string=function(t){return!t||O(t.size)||O(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Ie(t,e,n,r){var i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(void 0!==(a=t[i])&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==n&&T(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Re(t,e,n){n=n||function(n){return t[n]<e};for(var r,i=t.length-1,o=0;i-o>1;)n(r=o+i>>1)?o=r:i=r;return{lo:o,hi:i}}var Ae=function(t,e,n){return Re(t,n,function(r){return t[r][e]<n})},Pe=function(t,e,n){return Re(t,n,function(r){return t[r][e]>=n})};var Ne=["push","pop","shift","splice","unshift"];function De(t,e){var n=t._chartjs;if(n){var r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Ne.forEach(function(e){delete t[e]}),delete t._chartjs)}}function Me(t){var e,n,r=new Set;for(e=0,n=t.length;e<n;++e)r.add(t[e]);if(r.size===n)return t;var i=[];return r.forEach(function(t){i.push(t)}),i}function je(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return t[0]};X(i)||(i=Ke("_fallback",t));var u=(e={},Object(a.a)(e,Symbol.toStringTag,"Object"),Object(a.a)(e,"_cacheable",!0),Object(a.a)(e,"_scopes",t),Object(a.a)(e,"_rootScopes",r),Object(a.a)(e,"_fallback",i),Object(a.a)(e,"_getTarget",s),Object(a.a)(e,"override",function(e){return je([e].concat(o(t)),n,r,i)}),e);return new Proxy(u,{deleteProperty:function(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get:function(e,r){return Ue(e,r,function(){return function(t,e,n,r){var i,o,a=b(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(i=Ke(Be(s,t),n),X(i))return Ve(t,i)?He(n,r,t,i):i}}catch(u){a.e(u)}finally{a.f()}}(r,n,t,e)})},getOwnPropertyDescriptor:function(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(t[0])},has:function(t,e){return Xe(t).includes(e)},ownKeys:function(t){return Xe(t)},set:function(t,e,n){return(t._storage||(t._storage=s()))[e]=n,delete t[e],delete t._keys,!0}})}function Fe(t,e,n,r){var i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Le(t,r),setContext:function(e){return Fe(t,e,n,r)},override:function(i){return Fe(t.override(i),e,n,r)}};return new Proxy(i,{deleteProperty:function(e,n){return delete e[n],delete t[n],!0},get:function(t,e,n){return Ue(t,e,function(){return function(t,e,n){var r=t._proxy,i=t._context,a=t._subProxy,s=t._descriptors,u=r[e];$(u)&&s.isScriptable(e)&&(u=function(t,e,n,r){var i=n._proxy,a=n._context,s=n._subProxy,u=n._stack;if(u.has(t))throw new Error("Recursion detected: "+o(u).join("->")+"->"+t);u.add(t),e=e(a,s||r),u.delete(t),I(e)&&(e=He(i._scopes,i,t,e));return e}(e,u,t,n));T(u)&&u.length&&(u=function(t,e,n,r){var i=n._proxy,o=n._context,a=n._subProxy,s=n._descriptors;if(X(o.index)&&r(t))e=e[o.index%e.length];else if(I(e[0])){var u=e,c=i._scopes.filter(function(t){return t!==u});e=[];var l,f=b(u);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=He(c,i,t,h);e.push(Fe(d,o,a&&a[t],s))}}catch(p){f.e(p)}finally{f.f()}}return e}(e,u,t,s.isIndexable));Ve(e,u)&&(u=Fe(u,i,a&&a[e],s));return u}(t,e,n)})},getOwnPropertyDescriptor:function(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(t)},has:function(e,n){return Reflect.has(t,n)},ownKeys:function(){return Reflect.ownKeys(t)},set:function(e,n,r){return t[n]=r,delete e[n],!0}})}function Le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=t._scriptable,r=void 0===n?e.scriptable:n,i=t._indexable,o=void 0===i?e.indexable:i,a=t._allKeys;return{allKeys:void 0===a?e.allKeys:a,scriptable:r,indexable:o,isScriptable:$(r)?r:function(){return r},isIndexable:$(o)?o:function(){return o}}}var Be=function(t,e){return t?t+K(e):e},Ve=function(t,e){return I(e)&&"adapters"!==t};function Ue(t,e,n){var r=t[e];return X(r)?r:(r=n(),X(r)&&(t[e]=r),r)}function ze(t,e,n){return $(t)?t(e,n):t}var We=function(t,e){return!0===t?e:"string"===typeof t?G(e,t):void 0};function qe(t,e,n,r){var i,o=b(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=We(n,a);if(s){t.add(s);var u=ze(s._fallback,n,s);if(X(u)&&u!==n&&u!==r)return u}else if(!1===s&&X(r)&&n!==r)return null}}catch(c){o.e(c)}finally{o.f()}return!1}function He(t,e,n,r){var i=e._rootScopes,a=ze(e._fallback,n,r),s=[].concat(o(t),o(i)),u=new Set;u.add(r);var c=Ge(u,s,n,a||n);return null!==c&&((!X(a)||a===n||null!==(c=Ge(u,s,a,c)))&&je(o(u),[""],i,a,function(){return function(t,e,n){var r=t._getTarget();e in r||(r[e]={});var i=r[e];if(T(i)&&I(n))return n;return i}(e,n,r)}))}function Ge(t,e,n,r){for(;n;)n=qe(t,e,n,r);return n}function Ke(t,e){var n,r=b(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var o=i[t];if(X(o))return o}}}catch(a){r.e(a)}finally{r.f()}}function Xe(t){var e=t._keys;return e||(e=t._keys=function(t){var e,n=new Set,r=b(t);try{for(r.s();!(e=r.n()).done;){var i,a=e.value,s=b(Object.keys(a).filter(function(t){return!t.startsWith("_")}));try{for(s.s();!(i=s.n()).done;){var u=i.value;n.add(u)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}return o(n)}(t._scopes)),e}var $e=Number.EPSILON||1e-14,Ye=function(t,e){return e<t.length&&!t[e].skip&&t[e]},Qe=function(t){return"x"===t?"y":"x"};function Je(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,s=dt(o,i),u=dt(a,o),c=s/(s+u),l=u/(s+u),f=r*(c=isNaN(c)?0:c),h=r*(l=isNaN(l)?0:l);return{previous:{x:o.x-f*(a.x-i.x),y:o.y-f*(a.y-i.y)},next:{x:o.x+h*(a.x-i.x),y:o.y+h*(a.y-i.y)}}}function Ze(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=Qe(i),a=t.length,s=Array(a).fill(0),u=Array(a),c=Ye(t,0);for(e=0;e<a;++e)if(n=r,r=c,c=Ye(t,e+1),r){if(c){var l=c[i]-r[i];s[e]=0!==l?(c[o]-r[o])/l:0}u[e]=n?c?ot(s[e-1])!==ot(s[e])?0:(s[e-1]+s[e])/2:s[e-1]:s[e]}!function(t,e,n){for(var r,i,o,a,s,u=t.length,c=Ye(t,0),l=0;l<u-1;++l)s=c,c=Ye(t,l+1),s&&c&&(ut(e[l],0,$e)?n[l]=n[l+1]=0:(r=n[l]/e[l],i=n[l+1]/e[l],(a=Math.pow(r,2)+Math.pow(i,2))<=9||(o=3/Math.sqrt(a),n[l]=r*o*e[l],n[l+1]=i*o*e[l])))}(t,s,u),function(t,e){for(var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=Qe(o),s=t.length,u=Ye(t,0),c=0;c<s;++c)if(r=i,i=u,u=Ye(t,c+1),i){var l=i[o],f=i[a];r&&(n=(l-r[o])/3,i["cp1".concat(o)]=l-n,i["cp1".concat(a)]=f-n*e[c]),u&&(n=(u[o]-l)/3,i["cp2".concat(o)]=l+n,i["cp2".concat(a)]=f+n*e[c])}}(t,u,i)}function tn(t,e,n){return Math.max(Math.min(t,n),e)}function en(t,e,n,r,i){var o,a,s,u;if(e.spanGaps&&(t=t.filter(function(t){return!t.skip})),"monotone"===e.cubicInterpolationMode)Ze(t,i);else{var c=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)u=Je(c,s=t[o],t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,c=s}e.capBezierPoints&&function(t,e){var n,r,i,o,a,s=de(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&de(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=tn(i.cp1x,e.left,e.right),i.cp1y=tn(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=tn(i.cp2x,e.left,e.right),i.cp2y=tn(i.cp2y,e.top,e.bottom)))}(t,n)}function nn(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function rn(t,e,n){var r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}var on=function(t){return window.getComputedStyle(t,null)};var an=["top","right","bottom","left"];function sn(t,e,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var o=an[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var un=function(t,e,n){return(t>0||e>0)&&(!n||!n.shadowRoot)};function cn(t,e){var n=e.canvas,r=e.currentDevicePixelRatio,i=on(n),o="border-box"===i.boxSizing,a=sn(i,"padding"),s=sn(i,"border","width"),u=function(t,e){var n,r,i=t.native||t,o=i.touches,a=o&&o.length?o[0]:i,s=a.offsetX,u=a.offsetY,c=!1;if(un(s,u,i.target))n=s,r=u;else{var l=e.getBoundingClientRect();n=a.clientX-l.left,r=a.clientY-l.top,c=!0}return{x:n,y:r,box:c}}(t,n),c=u.x,l=u.y,f=u.box,h=a.left+(f&&s.left),d=a.top+(f&&s.top),p=e.width,v=e.height;return o&&(p-=a.width+s.width,v-=a.height+s.height),{x:Math.round((c-h)/p*n.width/r),y:Math.round((l-d)/v*n.height/r)}}var ln=function(t){return Math.round(10*t)/10};function fn(t,e,n,r){var i=on(t),o=sn(i,"margin"),a=rn(i.maxWidth,t,"clientWidth")||Z,s=rn(i.maxHeight,t,"clientHeight")||Z,u=function(t,e,n){var r,i;if(void 0===e||void 0===n){var o=nn(t);if(o){var a=o.getBoundingClientRect(),s=on(o),u=sn(s,"border","width"),c=sn(s,"padding");e=a.width-c.width-u.width,n=a.height-c.height-u.height,r=rn(s.maxWidth,o,"clientWidth"),i=rn(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||Z,maxHeight:i||Z}}(t,e,n),c=u.width,l=u.height;if("content-box"===i.boxSizing){var f=sn(i,"border","width"),h=sn(i,"padding");c-=h.width+f.width,l-=h.height+f.height}return c=Math.max(0,c-o.width),l=Math.max(0,r?Math.floor(c/r):l-o.height),c=ln(Math.min(c,a,u.maxWidth)),l=ln(Math.min(l,s,u.maxHeight)),c&&!l&&(l=ln(c/2)),{width:c,height:l}}function hn(t,e,n){var r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;var a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}var dn=function(){var t=!1;try{var e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(n){}return t}();function pn(t,e){var n=function(t,e){return on(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function mn(t,e,n,r){var i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=vn(t,i,n),s=vn(i,o,n),u=vn(o,e,n),c=vn(a,s,n),l=vn(s,u,n);return vn(c,l,n)}var yn=new Map;function bn(t,e,n){return function(t,e){e=e||{};var n=t+JSON.stringify(e),r=yn.get(n);return r||(r=new Intl.NumberFormat(t,e),yn.set(n,r)),r}(e,n).format(t)}var wn=function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},xn=function(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}};function En(t,e,n){return t?wn(e,n):xn()}function _n(t,e){var n,r;"ltr"!==e&&"rtl"!==e||(r=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function kn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Sn(t){return"angle"===t?{between:gt,compare:pt,normalize:vt}:{between:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(n,e)},compare:function(t,e){return t-e},normalize:function(t){return t}}}function Cn(t){var e=t.start,n=t.end,r=t.count;return{start:e%r,end:n%r,loop:t.loop&&(n-e+1)%r===0,style:t.style}}function On(t,e,n){if(!n)return[t];for(var r,i,o,a=n.property,s=n.start,u=n.end,c=e.length,l=Sn(a),f=l.compare,h=l.between,d=l.normalize,p=function(t,e,n){var r,i,o=n.property,a=n.start,s=n.end,u=Sn(o),c=u.between,l=u.normalize,f=e.length,h=t.start,d=t.end,p=t.loop;if(p){for(h+=f,d+=f,r=0,i=f;r<i&&c(l(e[h%f][o]),a,s);++r)h--,d--;h%=f,d%=f}return d<h&&(d+=f),{start:h,end:d,loop:p,style:t.style}}(t,e,n),v=p.start,g=p.end,m=p.loop,y=p.style,b=[],w=!1,x=null,E=function(){return w||h(s,o,r)&&0!==f(s,o)},_=function(){return!w||0===f(u,r)||h(u,o,r)},k=v,S=v;k<=g;++k)(i=e[k%c]).skip||(r=d(i[a]))!==o&&(w=h(r,s,u),null===x&&E()&&(x=0===f(r,s)?k:S),null!==x&&_()&&(b.push(Cn({start:x,end:k,loop:m,count:c,style:y})),x=null),S=k,o=r);return null!==x&&b.push(Cn({start:x,end:g,loop:m,count:c,style:y})),b}function Tn(t,e){for(var n=[],r=t.segments,i=0;i<r.length;i++){var a=On(r[i],t.points,e);a.length&&n.push.apply(n,o(a))}return n}function In(t,e,n){return n&&n.setContext&&e?function(t,e,n){var r,i=e.length,o=[],a=t[0].start,s=a,u=b(t);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=void 0,f=void 0,h=e[a%i];for(s=a+1;s<=c.end;s++){var d=e[s%i];p=n.setContext({type:"segment",p0:h,p1:d}),Rn(f={backgroundColor:p.backgroundColor,borderCapStyle:p.borderCapStyle,borderDash:p.borderDash,borderDashOffset:p.borderDashOffset,borderJoinStyle:p.borderJoinStyle,borderWidth:p.borderWidth,borderColor:p.borderColor},l)&&(o.push({start:a,end:s-1,loop:c.loop,style:l}),l=f,a=s-1),h=d,l=f}a<s-1&&(o.push({start:a,end:s-1,loop:c.loop,style:f}),a=s-1)}}catch(v){u.e(v)}finally{u.f()}var p;return o}(t,e,n):t}function Rn(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}function An(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nn=new(function(){function t(){Object(m.a)(this,t),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return Object(y.a)(t,[{key:"_notify",value:function(t,e,n,r){var i=e.listeners[r],o=e.duration;i.forEach(function(r){return r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})})}},{key:"_refresh",value:function(){var t=this;t._request||(t._running=!0,t._request=x.call(window,function(){t._update(),t._request=null,t._running&&t._refresh()}))}},{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=this,n=0;e._charts.forEach(function(r,i){if(r.running&&r.items.length){for(var o,a=r.items,s=a.length-1,u=!1;s>=0;--s)(o=a[s])._active?(o._total>r.duration&&(r.duration=o._total),o.tick(t),u=!0):(a[s]=a[a.length-1],a.pop());u&&(i.draw(),e._notify(i,r,t,"progress")),a.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}}),e._lastDate=t,0===n&&(e._running=!1)}},{key:"_getAnims",value:function(t){var e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}},{key:"listen",value:function(t,e,n){this._getAnims(t).listeners[e].push(n)}},{key:"add",value:function(t,e){var n;e&&e.length&&(n=this._getAnims(t).items).push.apply(n,o(e))}},{key:"has",value:function(t){return this._getAnims(t).items.length>0}},{key:"start",value:function(t){var e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(function(t,e){return Math.max(t,e._duration)},0),this._refresh())}},{key:"running",value:function(t){if(!this._running)return!1;var e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}},{key:"stop",value:function(t){var e=this._charts.get(t);if(e&&e.items.length){for(var n=e.items,r=n.length-1;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}}},{key:"remove",value:function(t){return this._charts.delete(t)}}]),t}()),Dn={boolean:function(t,e,n){return n>.5?e:t},color:function(t,e,n){var r=ee(t||"transparent"),i=r.valid&&ee(e||"transparent");return i&&i.valid?i.mix(r,n).hexString():e},number:function(t,e,n){return t+(e-t)*n}},Mn=function(){function t(e,n,r,i){Object(m.a)(this,t);var o=n[r];i=Ie([e.to,i,o,e.from]);var a=Ie([e.from,o,i]);this._active=!0,this._fn=e.fn||Dn[e.type||typeof a],this._easing=xt[e.easing]||xt.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}return Object(y.a)(t,[{key:"active",value:function(){return this._active}},{key:"update",value:function(t,e,n){var r=this;if(r._active){r._notify(!1);var i=r._target[r._prop],o=n-r._start,a=r._duration-o;r._start=n,r._duration=Math.floor(Math.max(a,t.duration)),r._total+=o,r._loop=!!t.loop,r._to=Ie([t.to,e,i,t.from]),r._from=Ie([t.from,i,e])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(t){var e,n=this,r=t-n._start,i=n._duration,o=n._prop,a=n._from,s=n._loop,u=n._to;if(n._active=a!==u&&(s||r<i),!n._active)return n._target[o]=u,void n._notify(!0);r<0?n._target[o]=a:(e=r/i%2,e=s&&e>1?2-e:e,e=n._easing(Math.min(1,Math.max(0,e))),n._target[o]=n._fn(a,u,e))}},{key:"wait",value:function(){var t=this._promises||(this._promises=[]);return new Promise(function(e,n){t.push({res:e,rej:n})})}},{key:"_notify",value:function(t){for(var e=t?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][e]()}}]),t}();se.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var jn=Object.keys(se.animation);se.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(t){return"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}}),se.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),se.describe("animations",{_fallback:"animation"}),se.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(t){return 0|t}}}}});var Fn=function(){function t(e,n){Object(m.a)(this,t),this._chart=e,this._properties=new Map,this.configure(n)}return Object(y.a)(t,[{key:"configure",value:function(t){if(I(t)){var e=this._properties;Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];if(I(r)){var i,o={},a=An(jn);try{for(a.s();!(i=a.n()).done;){var s=i.value;o[s]=r[s]}}catch(u){a.e(u)}finally{a.f()}(T(r.properties)&&r.properties||[n]).forEach(function(t){t!==n&&e.has(t)||e.set(t,o)})}})}}},{key:"_animateOptions",value:function(t,e){var n=e.options,r=function(t,e){if(!e)return;var n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(t,e){for(var n=[],r=Object.keys(e),i=0;i<r.length;i++){var o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(t.options.$animations,n).then(function(){t.options=n},function(){}),i}},{key:"_createAnimations",value:function(t,e){var n,r=this._properties,i=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),u=Date.now();for(n=s.length-1;n>=0;--n){var c=s[n];if("$"!==c.charAt(0))if("options"!==c){var l=e[c],f=a[c],h=r.get(c);if(f){if(h&&f.active()){f.update(h,l,u);continue}f.cancel()}h&&h.duration?(a[c]=f=new Mn(h,t,c,l),i.push(f)):t[c]=l}else i.push.apply(i,o(this._animateOptions(t,e)))}return i}},{key:"update",value:function(t,e){if(0!==this._properties.size){var n=this._createAnimations(t,e);return n.length?(Nn.add(this._chart,n),!0):void 0}Object.assign(t,e)}}]),t}();function Ln(t,e){var n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Bn(t,e){var n,r,i=[],o=t._getSortedDatasetMetas(e);for(n=0,r=o.length;n<r;++n)i.push(o[n].index);return i}function Vn(t,e,n,r){var i,o,a,s,u=t.keys,c="single"===r.mode;if(null!==e){for(i=0,o=u.length;i<o;++i){if((a=+u[i])===n){if(r.all)continue;break}s=t.values[a],R(s)&&(c||0===e||ot(e)===ot(s))&&(e+=s)}return e}}function Un(t,e){var n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function zn(t,e,n){var r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Wn(t,e,n){var r,i=An(e.getMatchingVisibleMetas("bar").reverse());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t[o.index];if(n&&a>0||!n&&a<0)return o.index}}catch(s){i.e(s)}finally{i.f()}return null}function qn(t,e){for(var n,r=t.chart,i=t._cachedMeta,o=r._stacks||(r._stacks={}),a=i.iScale,s=i.vScale,u=i.index,c=a.axis,l=s.axis,f=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(a,s,i),h=e.length,d=0;d<h;++d){var p=e[d],v=p[c],g=p[l];(n=(p._stacks||(p._stacks={}))[l]=zn(o,f,v))[u]=g,n._top=Wn(n,s,!0),n._bottom=Wn(n,s,!1)}}function Hn(t,e){var n=t.scales;return Object.keys(n).filter(function(t){return n[t].axis===e}).shift()}function Gn(t,e){var n=t.vScale&&t.vScale.axis;if(n){var r,i=An(e=e||t._parsed);try{for(i.s();!(r=i.n()).done;){var o=r.value._stacks;if(!o||void 0===o[n]||void 0===o[n][t.index])return;delete o[n][t.index]}}catch(a){i.e(a)}finally{i.f()}}}var Kn=function(t){return"reset"===t||"none"===t},Xn=function(t,e){return e?t:Object.assign({},t)},$n=function(){function t(e,n){Object(m.a)(this,t),this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}return Object(y.a)(t,[{key:"initialize",value:function(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Un(t.vScale,t),this.addElements()}},{key:"updateIndex",value:function(t){this.index!==t&&Gn(this._cachedMeta),this.index=t}},{key:"linkScales",value:function(){var t=this,e=t.chart,n=t._cachedMeta,r=t.getDataset(),i=function(t,e,n,r){return"x"===t?e:"r"===t?r:n},o=n.xAxisID=P(r.xAxisID,Hn(e,"x")),a=n.yAxisID=P(r.yAxisID,Hn(e,"y")),s=n.rAxisID=P(r.rAxisID,Hn(e,"r")),u=n.indexAxis,c=n.iAxisID=i(u,o,a,s),l=n.vAxisID=i(u,a,o,s);n.xScale=t.getScaleForId(o),n.yScale=t.getScaleForId(a),n.rScale=t.getScaleForId(s),n.iScale=t.getScaleForId(c),n.vScale=t.getScaleForId(l)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(t){return this.chart.scales[t]}},{key:"_getOtherScale",value:function(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var t=this._cachedMeta;this._data&&De(this._data,this),t._stacked&&Gn(t)}},{key:"_dataCheck",value:function(){var t,e,n=this,r=n.getDataset(),i=r.data||(r.data=[]),o=n._data;if(I(i))n._data=function(t){var e,n,r,i=Object.keys(t),o=new Array(i.length);for(e=0,n=i.length;e<n;++e)r=i[e],o[e]={x:r,y:t[r]};return o}(i);else if(o!==i){if(o){De(o,n);var a=n._cachedMeta;Gn(a),a._parsed=[]}i&&Object.isExtensible(i)&&(e=n,(t=i)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ne.forEach(function(e){var n="_onData"+K(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=r.apply(this,i);return t._chartjs.listeners.forEach(function(t){"function"===typeof t[n]&&t[n].apply(t,i)}),a}})}))),n._syncList=[],n._data=i}}},{key:"addElements",value:function(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(t){var e=this,n=e._cachedMeta,r=e.getDataset(),i=!1;e._dataCheck();var o=n._stacked;n._stacked=Un(n.vScale,n),n.stack!==r.stack&&(i=!0,Gn(n),n.stack=r.stack),e._resyncElements(t),(i||o!==n._stacked)&&qn(e,n._parsed)}},{key:"configure",value:function(){var t=this,e=t.chart.config,n=e.datasetScopeKeys(t._type),r=e.getOptionScopes(t.getDataset(),n,!0);t.options=e.createResolver(r,t.getContext()),t._parsing=t.options.parsing}},{key:"parse",value:function(t,e){var n,r,i,o=this,a=o._cachedMeta,s=o._data,u=a.iScale,c=a._stacked,l=u.axis,f=0===t&&e===s.length||a._sorted,h=t>0&&a._parsed[t-1];if(!1===o._parsing)a._parsed=s,a._sorted=!0,i=s;else{i=T(s[t])?o.parseArrayData(a,s,t,e):I(s[t])?o.parseObjectData(a,s,t,e):o.parsePrimitiveData(a,s,t,e);for(n=0;n<e;++n)a._parsed[n+t]=r=i[n],f&&((null===r[l]||h&&r[l]<h[l])&&(f=!1),h=r);a._sorted=f}c&&qn(o,i)}},{key:"parsePrimitiveData",value:function(t,e,n,r){var i,o,s,u=t.iScale,c=t.vScale,l=u.axis,f=c.axis,h=u.getLabels(),d=u===c,p=new Array(r);for(i=0,o=r;i<o;++i){var v;s=i+n,p[i]=(v={},Object(a.a)(v,l,d||u.parse(h[s],s)),Object(a.a)(v,f,c.parse(e[s],s)),v)}return p}},{key:"parseArrayData",value:function(t,e,n,r){var i,o,a,s,u=t.xScale,c=t.yScale,l=new Array(r);for(i=0,o=r;i<o;++i)s=e[a=i+n],l[i]={x:u.parse(s[0],a),y:c.parse(s[1],a)};return l}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s,u=t.xScale,c=t.yScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v=new Array(r);for(i=0,o=r;i<o;++i)s=e[a=i+n],v[i]={x:u.parse(G(s,h),a),y:c.parse(G(s,p),a)};return v}},{key:"getParsed",value:function(t){return this._cachedMeta._parsed[t]}},{key:"getDataElement",value:function(t){return this._cachedMeta.data[t]}},{key:"applyStack",value:function(t,e,n){var r=this.chart,i=this._cachedMeta,o=e[t.axis];return Vn({keys:Bn(r,!0),values:e._stacks[t.axis]},o,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(t,e,n,r){var i=n[e.axis],o=null===i?NaN:i,a=r&&n._stacks[e.axis];r&&a&&(r.values=a,t.min=Math.min(t.min,o),t.max=Math.max(t.max,o),o=Vn(r,i,this._cachedMeta.index,{all:!0})),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}},{key:"getMinMax",value:function(t,e){var n,r,i,o,a=this,s=a._cachedMeta,u=s._parsed,c=s._sorted&&t===s.iScale,l=u.length,f=a._getOtherScale(t),h=e&&s._stacked&&{keys:Bn(a.chart,!0),values:null},d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},p=function(t){var e=t.getUserBounds(),n=e.min,r=e.max,i=e.minDefined,o=e.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}(f),v=p.min,g=p.max;function m(){return i=u[n],r=i[t.axis],o=i[f.axis],!R(r)||v>o||g<o}for(n=0;n<l&&(m()||(a.updateRangeFromParsed(d,t,i,h),!c));++n);if(c)for(n=l-1;n>=0;--n)if(!m()){a.updateRangeFromParsed(d,t,i,h);break}return d}},{key:"getAllParsedValues",value:function(t){var e,n,r,i=this._cachedMeta._parsed,o=[];for(e=0,n=i.length;e<n;++e)r=i[e][t.axis],R(r)&&o.push(r);return o}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(t){var e=this,n=e._cachedMeta;e.configure(),e._cachedDataOpts={},e.update(t||"default"),n._clip=function(t){var e,n,r,i;return I(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i}}(P(e.options.clip,function(t,e,n){if(!1===n)return!1;var r=Ln(t,n),i=Ln(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(n.xScale,n.yScale,e.getMaxOverflow())))}},{key:"update",value:function(t){}},{key:"draw",value:function(){var t,e=this,n=e._ctx,r=e.chart,i=e._cachedMeta,o=i.data||[],a=r.chartArea,s=[],u=e._drawStart||0,c=e._drawCount||o.length-u;for(i.dataset&&i.dataset.draw(n,a,u,c),t=u;t<u+c;++t){var l=o[t];l.active?s.push(l):l.draw(n,a)}for(t=0;t<s.length;++t)s[t].draw(n,a)}},{key:"getStyle",value:function(t,e){var n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}},{key:"getContext",value:function(t,e,n){var r,i=this,o=i.getDataset();if(t>=0&&t<i._cachedMeta.data.length){var a=i._cachedMeta.data[t];(r=a.$context||(a.$context=function(t,e,n){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(i.getContext(),t,a))).parsed=i.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else(r=i.$context||(i.$context=function(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(i.chart.getContext(),i.index))).dataset=o,r.index=r.datasetIndex=i.index;return r.active=!!e,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(t){return this._resolveElementOptions(this.datasetElementType.id,t)}},{key:"resolveDataElementOptions",value:function(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}},{key:"_resolveElementOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,r=this,i="active"===e,o=r._cachedDataOpts,a=t+"-"+e,s=o[a],u=r.enableOptionSharing&&X(n);if(s)return Xn(s,u);var c=r.chart.config,l=c.datasetElementScopeKeys(r._type,t),f=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=c.getOptionScopes(r.getDataset(),l),d=Object.keys(se.elements[t]),p=c.resolveNamedOptions(h,d,function(){return r.getContext(n,i)},f);return p.$shared&&(p.$shared=u,o[a]=Object.freeze(Xn(p,u))),p}},{key:"_resolveAnimations",value:function(t,e,n){var r,i=this,o=i.chart,a=i._cachedDataOpts,s="animation-".concat(e),u=a[s];if(u)return u;if(!1!==o.options.animation){var c=i.chart.config,l=c.datasetAnimationScopeKeys(i._type,e),f=c.getOptionScopes(i.getDataset(),l);r=c.createResolver(f,i.getContext(t,n,e))}var h=new Fn(o,r&&r.animations);return r&&r._cacheable&&(a[s]=Object.freeze(h)),h}},{key:"getSharedOptions",value:function(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}},{key:"includeOptions",value:function(t,e){return!e||Kn(t)||this.chart._animationsDisabled}},{key:"updateElement",value:function(t,e,n,r){Kn(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}},{key:"updateSharedOptions",value:function(t,e,n){t&&!Kn(e)&&this._resolveAnimations(void 0,e).update(t,n)}},{key:"_setStyle",value:function(t,e,n,r){t.active=r;var i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(t,e,n){this._setStyle(t,n,"active",!1)}},{key:"setHoverStyle",value:function(t,e,n){this._setStyle(t,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}},{key:"_resyncElements",value:function(t){var e,n=this,r=n._data,i=n._cachedMeta.data,o=An(n._syncList);try{for(o.s();!(e=o.n()).done;){var a=Object(g.a)(e.value,3),s=a[0],u=a[1],c=a[2];n[s](u,c)}}catch(d){o.e(d)}finally{o.f()}n._syncList=[];var l=i.length,f=r.length,h=Math.min(f,l);f>l?n._insertElements(l,f-l,t):f<l&&n._removeElements(f,l-f),h&&n.parse(0,h)}},{key:"_insertElements",value:function(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,o=i._cachedMeta,a=o.data,s=t+e,u=function(t){for(t.length+=e,n=t.length-1;n>=s;n--)t[n]=t[n-e]};for(u(a),n=t;n<s;++n)a[n]=new i.dataElementType;i._parsing&&u(o._parsed),i.parse(t,e),r&&i.updateElements(a,t,e,"reset")}},{key:"updateElements",value:function(t,e,n,r){}},{key:"_removeElements",value:function(t,e){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(t,e);n._stacked&&Gn(n,r)}n.data.splice(t,e)}},{key:"_onDataPush",value:function(){var t=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-t,t])}},{key:"_onDataPop",value:function(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._syncList.push(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(t,e){this._syncList.push(["_removeElements",t,e]),this._syncList.push(["_insertElements",t,arguments.length-2])}},{key:"_onDataUnshift",value:function(){this._syncList.push(["_insertElements",0,arguments.length])}}]),t}();function Yn(t){var e,n,r,i,o=function(t){if(!t._cache.$bar){for(var e=t.getMatchingVisibleMetas("bar"),n=[],r=0,i=e.length;r<i;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=Me(n.sort(function(t,e){return t-e}))}return t._cache.$bar}(t),a=t._length,s=function(){32767!==r&&-32768!==r&&(X(i)&&(a=Math.min(a,Math.abs(r-i)||a)),i=r)};for(e=0,n=o.length;e<n;++e)r=t.getPixelForValue(o[e]),s();for(i=void 0,e=0,n=t.ticks.length;e<n;++e)r=t.getPixelForTick(e),s();return a}function Qn(t,e,n,r){return T(t)?function(t,e,n,r){var i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o),u=a,c=s;Math.abs(a)>Math.abs(s)&&(u=s,c=a),e[n.axis]=c,e._custom={barStart:u,barEnd:c,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Jn(t,e,n,r){var i,o,a,s,u=t.iScale,c=t.vScale,l=u.getLabels(),f=u===c,h=[];for(i=n,o=n+r;i<o;++i)s=e[i],(a={})[u.axis]=f||u.parse(l[i],i),h.push(Qn(s,a,c,i));return h}function Zn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}$n.defaults={},$n.prototype.datasetElementType=null,$n.prototype.dataElementType=null;var tr=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,$n),Object(y.a)(e,[{key:"parsePrimitiveData",value:function(t,e,n,r){return Jn(t,e,n,r)}},{key:"parseArrayData",value:function(t,e,n,r){return Jn(t,e,n,r)}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s,u=t.iScale,c=t.vScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v="x"===u.axis?h:p,g="x"===c.axis?h:p,m=[];for(i=n,o=n+r;i<o;++i)s=e[i],(a={})[u.axis]=u.parse(G(s,v),i),m.push(Qn(G(s,g),a,c,i));return m}},{key:"updateRangeFromParsed",value:function(t,n,r,i){d(h(e.prototype),"updateRangeFromParsed",this).call(this,t,n,r,i);var o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t),o=i._custom,a=Zn(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,d(h(e.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}},{key:"updateElements",value:function(t,e,n,r){var i=this,o="reset"===r,a=i._cachedMeta.vScale,s=a.getBasePixel(),u=a.isHorizontal(),c=i._getRuler(),l=i.resolveDataElementOptions(e,r),f=i.getSharedOptions(l),h=i.includeOptions(r,f);i.updateSharedOptions(f,r,l);for(var d=e;d<e+n;d++){var p=i.getParsed(d),v=o||O(p[a.axis])?{base:s,head:s}:i._calculateBarValuePixels(d),g=i._calculateBarIndexPixels(d,c),m=(p._stacks||{})[a.axis],y={horizontal:u,base:v.base,enableBorderRadius:!m||Zn(p._custom)||i.index===m._top||i.index===m._bottom,x:u?v.head:g.center,y:u?g.center:v.head,height:u?g.size:void 0,width:u?void 0:g.size};h&&(y.options=f||i.resolveDataElementOptions(d,r)),i.updateElement(t[d],d,y,r)}}},{key:"_getStacks",value:function(t,e){var n,r,i=this._cachedMeta.iScale,o=i.getMatchingVisibleMetas(this._type),a=i.options.stacked,s=o.length,u=[];for(n=0;n<s;++n){if(r=o[n],"undefined"!==typeof e){var c=r.controller.getParsed(e)[r.controller._cachedMeta.vScale.axis];if(O(c)||isNaN(c))continue}if((!1===a||-1===u.indexOf(r.stack)||void 0===a&&void 0===r.stack)&&u.push(r.stack),r.index===t)break}return u.length||u.push(void 0),u}},{key:"_getStackCount",value:function(t){return this._getStacks(void 0,t).length}},{key:"_getStackIndex",value:function(t,e,n){var r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var t,e,n=this.options,r=this._cachedMeta,i=r.iScale,o=[];for(t=0,e=r.data.length;t<e;++t)o.push(i.getPixelForValue(this.getParsed(t)[i.axis],t));var a=n.barThickness;return{min:a||Yn(i),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:a?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(t){var e,n,r=this._cachedMeta,i=r.vScale,o=r._stacked,a=this.options,s=a.base,u=a.minBarLength,c=this.getParsed(t),l=c._custom,f=Zn(l),h=c[i.axis],d=0,p=o?this.applyStack(i,c,o):h;p!==h&&(d=p-h,p=h),f&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&ot(h)!==ot(l.barEnd)&&(d=0),d+=h);var v=O(s)||f?d:s,g=i.getPixelForValue(v);n=(e=this.chart.getDataVisibility(t)?i.getPixelForValue(d+p):g)-g,void 0!==u&&Math.abs(n)<u&&(n=n<0?-u:u,0===h&&(g-=n/2),e=g+n);var m=s||0;if(g===i.getPixelForValue(m)){var y=i.getLineWidthForValue(m)/2;n>0?(g+=y,n-=y):n<0&&(g-=y,n+=y)}return{size:n,base:g,head:e,center:e+n/2}}},{key:"_calculateBarIndexPixels",value:function(t,e){var n,r,i=this,o=e.scale,a=i.options,s=a.skipNull,u=P(a.maxBarThickness,1/0);if(e.grouped){var c=s?i._getStackCount(t):e.stackCount,l="flex"===a.barThickness?function(t,e,n,r){var i=e.pixels,o=i[t],a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null,u=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);var c=o-(o-Math.min(a,s))/2*u;return{chunk:Math.abs(s-a)/2*u/r,ratio:n.barPercentage,start:c}}(t,e,a,c):function(t,e,n,r){var i,o,a=n.barThickness;return O(a)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=a*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}(t,e,a,c),f=i._getStackIndex(i.index,i._cachedMeta.stack,s?t:void 0);n=l.start+l.chunk*f+l.chunk/2,r=Math.min(u,l.chunk*l.ratio)}else n=o.getPixelForValue(i.getParsed(t)[o.axis],t),r=Math.min(u,e.min*e.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){var t=this.chart,e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length,o=0;for(pe(t.ctx,t.chartArea);o<i;++o)null!==this.getParsed(o)[n.axis]&&r[o].draw(this._ctx);ve(t.ctx)}}]),e}();tr.id="bar",tr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},tr.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var er=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,$n),Object(y.a)(e,[{key:"initialize",value:function(){this.enableOptionSharing=!0,d(h(e.prototype),"initialize",this).call(this)}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s=t.xScale,u=t.yScale,c=this._parsing,l=c.xAxisKey,f=void 0===l?"x":l,h=c.yAxisKey,d=void 0===h?"y":h,p=[];for(i=n,o=n+r;i<o;++i)a=e[i],p.push({x:s.parse(G(a,f),i),y:u.parse(G(a,d),i),_custom:a&&a.r&&+a.r});return p}},{key:"getMaxOverflow",value:function(){for(var t=this._cachedMeta,e=t.data,n=t._parsed,r=0,i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size()/2,n[i]._custom);return r>0&&r}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.xScale,r=e.yScale,i=this.getParsed(t),o=n.getLabelForValue(i.x),a=r.getLabelForValue(i.y),s=i._custom;return{label:e.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o="reset"===r,a=i._cachedMeta,s=a.iScale,u=a.vScale,c=i.resolveDataElementOptions(e,r),l=i.getSharedOptions(c),f=i.includeOptions(r,l),h=s.axis,d=u.axis,p=e;p<e+n;p++){var v=t[p],g=!o&&i.getParsed(p),m={},y=m[h]=o?s.getPixelForDecimal(.5):s.getPixelForValue(g[h]),b=m[d]=o?u.getBasePixel():u.getPixelForValue(g[d]);m.skip=isNaN(y)||isNaN(b),f&&(m.options=i.resolveDataElementOptions(p,r),o&&(m.options.radius=0)),i.updateElement(v,p,m,r)}i.updateSharedOptions(l,r,c)}},{key:"resolveDataElementOptions",value:function(t,n){var r=this.getParsed(t),i=d(h(e.prototype),"resolveDataElementOptions",this).call(this,t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var o=i.radius;return"active"!==n&&(i.radius=0),i.radius+=P(r&&r._custom,o),i}}]),e}();er.id="bubble",er.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},er.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var nr=function(t){function e(t,n){var r;return Object(m.a)(this,e),(r=f(this,h(e).call(this,t,n))).enableOptionSharing=!0,r.innerRadius=void 0,r.outerRadius=void 0,r.offsetX=void 0,r.offsetY=void 0,r}return v(e,$n),Object(y.a)(e,[{key:"linkScales",value:function(){}},{key:"parse",value:function(t,e){var n,r,i=this.getDataset().data,o=this._cachedMeta;for(n=t,r=t+e;n<r;++n)o._parsed[n]=+i[n]}},{key:"_getRotation",value:function(){return lt(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return lt(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var t=Q,e=-Q,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){var r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}},{key:"update",value:function(t){var e,n,r=this,i=r.chart.chartArea,o=r._cachedMeta,a=o.data,s=r.getMaxBorderWidth()+r.getMaxOffset(a),u=Math.max((Math.min(i.width,i.height)-s)/2,0),c=Math.min((e=r.options.cutout,n=u,"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:e/n),1),l=r._getRingWeight(r.index),f=r._getRotationExtents(),h=f.circumference,d=function(t,e,n){var r=1,i=1,o=0,a=0;if(e<Q){var s=t,u=s+e,c=Math.cos(s),l=Math.sin(s),f=Math.cos(u),h=Math.sin(u),d=function(t,e,r){return gt(t,s,u,!0)?1:Math.max(e,e*n,r,r*n)},p=function(t,e,r){return gt(t,s,u,!0)?-1:Math.min(e,e*n,r,r*n)},v=d(0,c,f),g=d(et,l,h),m=p(Y,c,f),y=p(Y+et,l,h);r=(v-m)/2,i=(g-y)/2,o=-(v+m)/2,a=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(f.rotation,h,c),p=d.ratioX,v=d.ratioY,g=d.offsetX,m=d.offsetY,y=(i.width-s)/p,b=(i.height-s)/v,w=Math.max(Math.min(y,b)/2,0),x=N(r.options.radius,w),E=(x-Math.max(x*c,0))/r._getVisibleDatasetWeightTotal();r.offsetX=g*x,r.offsetY=m*x,o.total=r.calculateTotal(),r.outerRadius=x-E*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-E*l,0),r.updateElements(a,0,a.length,t)}},{key:"_circumference",value:function(t,e){var n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]?0:this.calculateCircumference(r._parsed[t]*i/Q)}},{key:"updateElements",value:function(t,e,n,r){var i,o=this,a="reset"===r,s=o.chart,u=s.chartArea,c=s.options.animation,l=(u.left+u.right)/2,f=(u.top+u.bottom)/2,h=a&&c.animateScale,d=h?0:o.innerRadius,p=h?0:o.outerRadius,v=o.resolveDataElementOptions(e,r),g=o.getSharedOptions(v),m=o.includeOptions(r,g),y=o._getRotation();for(i=0;i<e;++i)y+=o._circumference(i,a);for(i=e;i<e+n;++i){var b=o._circumference(i,a),w=t[i],x={x:l+o.offsetX,y:f+o.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:p,innerRadius:d};m&&(x.options=g||o.resolveDataElementOptions(i,r)),y+=b,o.updateElement(w,i,x,r)}o.updateSharedOptions(g,r,v)}},{key:"calculateTotal",value:function(){var t,e=this._cachedMeta,n=e.data,r=0;for(t=0;t<n.length;t++){var i=e._parsed[t];null!==i&&!isNaN(i)&&this.chart.getDataVisibility(t)&&(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(t){var e=this._cachedMeta.total;return e>0&&!isNaN(t)?Q*(Math.abs(t)/e):0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=bn(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}},{key:"getMaxBorderWidth",value:function(t){var e,n,r,i,o,a=0,s=this.chart;if(!t)for(e=0,n=s.data.datasets.length;e<n;++e)if(s.isDatasetVisible(e)){t=(r=s.getDatasetMeta(e)).data,(i=r.controller)!==this&&i.configure();break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)"inner"!==(o=i.resolveDataElementOptions(e)).borderAlign&&(a=Math.max(a,o.borderWidth||0,o.hoverBorderWidth||0));return a}},{key:"getMaxOffset",value:function(t){for(var e=0,n=0,r=t.length;n<r;++n){var i=this.resolveDataElementOptions(n);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}},{key:"_getRingWeightOffset",value:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}},{key:"_getRingWeight",value:function(t){return Math.max(P(this.chart.data.datasets[t].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),e}();nr.id="doughnut",nr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",indexAxis:"r"},nr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(e,n){var r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:!t.getDataVisibility(n),index:n}}):[]}},onClick:function(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(t){var e=t.label,n=": "+t.formattedValue;return T(e)?(e=e.slice())[0]+=n:e+=n,e}}}}};var rr=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,$n),Object(y.a)(e,[{key:"initialize",value:function(){this.enableOptionSharing=!0,d(h(e.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){var e=this,n=e._cachedMeta,r=n.dataset,i=n.data,o=void 0===i?[]:i,a=n._dataset,s=e.chart._animationsDisabled,u=function(t,e,n){var r=e.length,i=0,o=r;if(t._sorted){var a=t.iScale,s=t._parsed,u=a.axis,c=a.getUserBounds(),l=c.min,f=c.max,h=c.minDefined,d=c.maxDefined;h&&(i=mt(Math.min(Ae(s,a.axis,l).lo,n?r:Ae(e,u,a.getPixelForValue(l)).lo),0,r-1)),o=d?mt(Math.max(Ae(s,a.axis,f).hi+1,n?0:Ae(e,u,a.getPixelForValue(f)).hi+1),i,r)-i:r-i}return{start:i,count:o}}(n,o,s),c=u.start,l=u.count;e._drawStart=c,e._drawCount=l,function(t){var e=t.xScale,n=t.yScale,r=t._scaleRanges,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;var o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}(n)&&(c=0,l=o.length),r._decimated=!!a._decimated,r.points=o;var f=e.resolveDatasetElementOptions(t);e.options.showLine||(f.borderWidth=0),f.segment=e.options.segment,e.updateElement(r,void 0,{animated:!s,options:f},t),e.updateElements(o,c,l,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o="reset"===r,a=i._cachedMeta,s=a.iScale,u=a.vScale,c=a._stacked,l=i.resolveDataElementOptions(e,r),f=i.getSharedOptions(l),h=i.includeOptions(r,f),d=s.axis,p=u.axis,v=i.options.spanGaps,g=st(v)?v:Number.POSITIVE_INFINITY,m=i.chart._animationsDisabled||o||"none"===r,y=e>0&&i.getParsed(e-1),b=e;b<e+n;++b){var w=t[b],x=i.getParsed(b),E=m?w:{},_=O(x[p]),k=E[d]=s.getPixelForValue(x[d],b),S=E[p]=o||_?u.getBasePixel():u.getPixelForValue(c?i.applyStack(u,x,c):x[p],b);E.skip=isNaN(k)||isNaN(S)||_,E.stop=b>0&&x[d]-y[d]>g,E.parsed=x,h&&(E.options=f||i.resolveDataElementOptions(b,r)),m||i.updateElement(w,b,E,r),y=x}i.updateSharedOptions(f,r,l)}},{key:"getMaxOverflow",value:function(){var t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;var i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}},{key:"draw",value:function(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),d(h(e.prototype),"draw",this).call(this)}}]),e}();rr.id="line",rr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},rr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var ir=function(t){function e(t,n){var r;return Object(m.a)(this,e),(r=f(this,h(e).call(this,t,n))).innerRadius=void 0,r.outerRadius=void 0,r}return v(e,$n),Object(y.a)(e,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=bn(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}},{key:"_updateRadius",value:function(){var t=this,e=t.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),a=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();t.outerRadius=o-a*t.index,t.innerRadius=t.outerRadius-a}},{key:"updateElements",value:function(t,e,n,r){var i,o=this,a="reset"===r,s=o.chart,u=o.getDataset(),c=s.options.animation,l=o._cachedMeta.rScale,f=l.xCenter,h=l.yCenter,d=l.getIndexAngle(0)-.5*Y,p=d,v=360/o.countVisibleElements();for(i=0;i<e;++i)p+=o._computeAngle(i,r,v);for(i=e;i<e+n;i++){var g=t[i],m=p,y=p+o._computeAngle(i,r,v),b=s.getDataVisibility(i)?l.getDistanceFromCenterForValue(u.data[i]):0;p=y,a&&(c.animateScale&&(b=0),c.animateRotate&&(m=y=d));var w={x:f,y:h,innerRadius:0,outerRadius:b,startAngle:m,endAngle:y,options:o.resolveDataElementOptions(i,r)};o.updateElement(g,i,w,r)}}},{key:"countVisibleElements",value:function(){var t=this,e=this.getDataset(),n=this._cachedMeta,r=0;return n.data.forEach(function(n,i){!isNaN(e.data[i])&&t.chart.getDataVisibility(i)&&r++}),r}},{key:"_computeAngle",value:function(t,e,n){return this.chart.getDataVisibility(t)?lt(this.resolveDataElementOptions(t,e).angle||n):0}}]),e}();ir.id="polarArea",ir.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},ir.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(e,n){var r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:!t.getDataVisibility(n),index:n}}):[]}},onClick:function(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var or=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,nr),e}();or.id="pie",or.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var ar=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,$n),Object(y.a)(e,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}},{key:"update",value:function(t){var e=this,n=e._cachedMeta,r=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(r.points=i,"resize"!==t){var a=e.resolveDatasetElementOptions(t);e.options.showLine||(a.borderWidth=0);var s={_loop:!0,_fullLoop:o.length===i.length,options:a};e.updateElement(r,void 0,s,t)}e.updateElements(i,0,i.length,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this.getDataset(),o=this._cachedMeta.rScale,a="reset"===r,s=e;s<e+n;s++){var u=t[s],c=this.resolveDataElementOptions(s,r),l=o.getPointPositionForValue(s,i.data[s]),f=a?o.xCenter:l.x,h=a?o.yCenter:l.y,d={x:f,y:h,angle:l.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(u,s,d,r)}}}]),e}();ar.id="radar",ar.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},ar.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var sr=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,rr),e}();sr.id="scatter",sr.defaults={showLine:!1,fill:!1},sr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var ur=Object.freeze({__proto__:null,BarController:tr,BubbleController:er,DoughnutController:nr,LineController:rr,PolarAreaController:ir,PieController:or,RadarController:ar,ScatterController:sr});function cr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var lr=function(){function t(e){Object(m.a)(this,t),this.options=e||{}}return Object(y.a)(t,[{key:"formats",value:function(){return cr()}},{key:"parse",value:function(t,e){return cr()}},{key:"format",value:function(t,e){return cr()}},{key:"add",value:function(t,e,n){return cr()}},{key:"diff",value:function(t,e,n){return cr()}},{key:"startOf",value:function(t,e,n){return cr()}},{key:"endOf",value:function(t,e){return cr()}}]),t}();lr.override=function(t){Object.assign(lr.prototype,t)};var fr={_date:lr};function hr(t,e){return"native"in t?{x:t.x,y:t.y}:cn(t,e)}function dr(t,e,n,r){var i=t.controller,o=t.data,a=t._sorted,s=i._cachedMeta.iScale;if(s&&e===s.axis&&a&&o.length){var u=s._reversePixels?Pe:Ae;if(!r)return u(o,e,n);if(i._sharedOptions){var c=o[0],l="function"===typeof c.getRange&&c.getRange(e);if(l){var f=u(o,e,n-l),h=u(o,e,n+l);return{lo:f.lo,hi:h.hi}}}}return{lo:0,hi:o.length-1}}function pr(t,e,n,r,i){for(var o=t.getSortedVisibleDatasetMetas(),a=n[e],s=0,u=o.length;s<u;++s)for(var c=o[s],l=c.index,f=c.data,h=dr(o[s],e,a,i),d=h.lo,p=h.hi,v=d;v<=p;++v){var g=f[v];g.skip||r(g,l,v)}}function vr(t,e,n,r){var i=[];if(!de(e,t.chartArea,t._minPadding))return i;return pr(t,n,e,function(t,n,o){t.inRange(e.x,e.y,r)&&i.push({element:t,datasetIndex:n,index:o})},!0),i}function gr(t,e,n,r,i){var o=function(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){var i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n),a=Number.POSITIVE_INFINITY,s=[];if(!de(e,t.chartArea,t._minPadding))return s;return pr(t,n,e,function(n,u,c){if(!r||n.inRange(e.x,e.y,i)){var l=n.getCenterPoint(i);if(de(l,t.chartArea,t._minPadding)){var f=o(e,l);f<a?(s=[{element:n,datasetIndex:u,index:c}],a=f):f===a&&s.push({element:n,datasetIndex:u,index:c})}}}),s}function mr(t,e,n,r){var i=hr(e,t),o=[],a=n.axis,s="x"===a?"inXRange":"inYRange",u=!1;return function(t,e){for(var n,r,i,o=t.getSortedVisibleDatasetMetas(),a=0,s=o.length;a<s;++a){var u=o[a];n=u.index;for(var c=0,l=(r=u.data).length;c<l;++c)(i=r[c]).skip||e(i,n,c)}}(t,function(t,e,n){t[s](i[a],r)&&o.push({element:t,datasetIndex:e,index:n}),t.inRange(i.x,i.y,r)&&(u=!0)}),n.intersect&&!u?[]:o}var yr={modes:{index:function(t,e,n,r){var i=hr(e,t),o=n.axis||"x",a=n.intersect?vr(t,i,o,r):gr(t,i,o,!1,r),s=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(function(t){var e=a[0].index,n=t.data[e];n&&!n.skip&&s.push({element:n,datasetIndex:t.index,index:e})}),s):[]},dataset:function(t,e,n,r){var i=hr(e,t),o=n.axis||"xy",a=n.intersect?vr(t,i,o,r):gr(t,i,o,!1,r);if(a.length>0){var s=a[0].datasetIndex,u=t.getDatasetMeta(s).data;a=[];for(var c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:s,index:c})}return a},point:function(t,e,n,r){return vr(t,hr(e,t),n.axis||"xy",r)},nearest:function(t,e,n,r){return gr(t,hr(e,t),n.axis||"xy",n.intersect,r)},x:function(t,e,n,r){return n.axis="x",mr(t,e,n,r)},y:function(t,e,n,r){return n.axis="y",mr(t,e,n,r)}}},br=["left","top","right","bottom"];function wr(t,e){return t.filter(function(t){return t.pos===e})}function xr(t,e){return t.filter(function(t){return-1===br.indexOf(t.pos)&&t.box.axis===e})}function Er(t,e){return t.sort(function(t,n){var r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function _r(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function kr(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Sr(t,e,n){var r=n.box,i=t.maxPadding;I(n.pos)||(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?r.height:r.width,t[n.pos]+=n.size),r.getPadding&&kr(i,r.getPadding());var o=Math.max(0,e.outerWidth-_r(i,t,"left","right")),a=Math.max(0,e.outerHeight-_r(i,t,"top","bottom")),s=o!==t.w,u=a!==t.h;return t.w=o,t.h=a,n.horizontal?{same:s,other:u}:{same:u,other:s}}function Cr(t,e){var n=e.maxPadding;function r(t){var r={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){r[t]=Math.max(e[t],n[t])}),r}return r(t?["left","right"]:["top","bottom"])}function Or(t,e,n){var r,i,o,a,s,u,c=[];for(r=0,i=t.length,s=0;r<i;++r){(a=(o=t[r]).box).update(o.width||e.w,o.height||e.h,Cr(o.horizontal,e));var l=Sr(e,n,o),f=l.same,h=l.other;s|=f&&c.length,u=u||h,a.fullSize||c.push(o)}return s&&Or(c,e,n)||u}function Tr(t,e,n){var r,i,o,a,s=n.padding,u=e.x,c=e.y;for(r=0,i=t.length;r<i;++r)a=(o=t[r]).box,o.horizontal?(a.left=a.fullSize?s.left:e.left,a.right=a.fullSize?n.outerWidth-s.right:e.left+e.w,a.top=c,a.bottom=c+a.height,a.width=a.right-a.left,c=a.bottom):(a.left=u,a.right=u+a.width,a.top=a.fullSize?s.top:e.top,a.bottom=a.fullSize?n.outerHeight-s.right:e.top+e.h,a.height=a.bottom-a.top,u=a.right);e.x=u,e.y=c}se.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Ir={addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(t){e.draw(t)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update:function(t,e,n,r){if(t){var i=Oe(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){var e=function(t){var e,n,r,i=[];for(e=0,n=(t||[]).length;e<n;++e)r=t[e],i.push({index:e,box:r,pos:r.position,horizontal:r.isHorizontal(),weight:r.weight});return i}(t),n=Er(e.filter(function(t){return t.box.fullSize}),!0),r=Er(wr(e,"left"),!0),i=Er(wr(e,"right")),o=Er(wr(e,"top"),!0),a=Er(wr(e,"bottom")),s=xr(e,"x"),u=xr(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(u).concat(a).concat(s),chartArea:wr(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:o.concat(a).concat(s)}}(t.boxes),u=s.vertical,c=s.horizontal;M(t.boxes,function(t){"function"===typeof t.beforeLayout&&t.beforeLayout()});var l=u.reduce(function(t,e){return e.box.options&&!1===e.box.options.display?t:t+1},0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/l,hBoxMaxHeight:a/2}),h=Object.assign({},i);kr(h,Oe(r));var d=Object.assign({maxPadding:h,w:o,h:a,x:i.left,y:i.top},i);!function(t,e){var n,r,i;for(n=0,r=t.length;n<r;++n)(i=t[n]).horizontal?(i.width=i.box.fullSize&&e.availableWidth,i.height=e.hBoxMaxHeight):(i.width=e.vBoxMaxWidth,i.height=i.box.fullSize&&e.availableHeight)}(u.concat(c),f),Or(s.fullSize,d,f),Or(u,d,f),Or(c,d,f)&&Or(u,d,f),function(t){var e=t.maxPadding;function n(n){var r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),Tr(s.leftAndTop,d,f),d.x+=d.w,d.y+=d.h,Tr(s.rightAndBottom,d,f),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},M(s.chartArea,function(e){var n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h)})}}},Rr=function(){function t(){Object(m.a)(this,t)}return Object(y.a)(t,[{key:"acquireContext",value:function(t,e){}},{key:"releaseContext",value:function(t){return!1}},{key:"addEventListener",value:function(t,e,n){}},{key:"removeEventListener",value:function(t,e,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}},{key:"isAttached",value:function(t){return!0}}]),t}(),Ar=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,Rr),Object(y.a)(e,[{key:"acquireContext",value:function(t){return t&&t.getContext&&t.getContext("2d")||null}}]),e}(),Pr="$chartjs",Nr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dr=function(t){return null===t||""===t};var Mr=!!dn&&{passive:!0};function jr(t,e,n){t.canvas.removeEventListener(e,n,Mr)}function Fr(t,e,n){var r=t.canvas,i=r&&nn(r)||r,o=new MutationObserver(function(t){var e=nn(i);t.forEach(function(t){for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];o!==i&&o!==e||n(t.target)}})});return o.observe(document,{childList:!0,subtree:!0}),o}function Lr(t,e,n){var r=t.canvas,i=r&&nn(r);if(i){var o=new MutationObserver(function(t){t.forEach(function(t){for(var e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===r){n();break}})});return o.observe(i,{childList:!0}),o}}var Br=new Map,Vr=0;function Ur(){var t=window.devicePixelRatio;t!==Vr&&(Vr=t,Br.forEach(function(e,n){n.currentDevicePixelRatio!==t&&e()}))}function zr(t,e,n){var r=t.canvas,i=r&&nn(r);if(i){var o=E(function(t,e){var r=i.clientWidth;n(t,e),r<i.clientWidth&&n()},window),a=new ResizeObserver(function(t){var e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)});return a.observe(i),function(t,e){Br.size||window.addEventListener("resize",Ur),Br.set(t,e)}(t,o),a}}function Wr(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Br.delete(t),Br.size||window.removeEventListener("resize",Ur)}(t)}function qr(t,e,n){var r=t.canvas,i=E(function(e){null!==t.ctx&&n(function(t,e){var n=Nr[t.type]||t.type,r=cn(t,e),i=r.x,o=r.y;return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==o?o:null}}(e,t))},t,function(t){var e=t[0];return[e,e.offsetX,e.offsetY]});return function(t,e,n){t.addEventListener(e,n,Mr)}(r,e,i),i}var Hr=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,Rr),Object(y.a)(e,[{key:"acquireContext",value:function(t,e){var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){var n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Pr]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Dr(i)){var o=pn(t,"width");void 0!==o&&(t.width=o)}if(Dr(r))if(""===t.style.height)t.height=t.width/(e||2);else{var a=pn(t,"height");void 0!==a&&(t.height=a)}}(t,e),n):null}},{key:"releaseContext",value:function(t){var e=t.canvas;if(!e[Pr])return!1;var n=e[Pr].initial;["height","width"].forEach(function(t){var r=n[t];O(r)?e.removeAttribute(t):e.setAttribute(t,r)});var r=n.style||{};return Object.keys(r).forEach(function(t){e.style[t]=r[t]}),e.width=e.width,delete e[Pr],!0}},{key:"addEventListener",value:function(t,e,n){this.removeEventListener(t,e);var r=t.$proxies||(t.$proxies={}),i={attach:Fr,detach:Lr,resize:zr}[e]||qr;r[e]=i(t,e,n)}},{key:"removeEventListener",value:function(t,e){var n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:Wr,detach:Wr,resize:Wr}[e]||jr)(t,e,r),n[e]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(t,e,n,r){return fn(t,e,n,r)}},{key:"isAttached",value:function(t){var e=nn(t);return!(!e||!nn(e))}}]),e}(),Gr=function(){function t(){Object(m.a)(this,t),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return Object(y.a)(t,[{key:"tooltipPosition",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"hasValue",value:function(){return st(this.x)&&st(this.y)}},{key:"getProps",value:function(t,e){var n=this,r=this.$animations;if(!e||!r)return n;var i={};return t.forEach(function(t){i[t]=r[t]&&r[t].active()?r[t]._to:n[t]}),i}}]),t}();Gr.defaults={},Gr.defaultRoutes=void 0;var Kr={values:function(t){return T(t)?t:""+t},numeric:function(t,e,n){if(0===t)return"0";var r,i=this.chart.options.locale,o=t;if(n.length>1){var a=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(a<1e-4||a>1e15)&&(r="scientific"),o=function(t,e){var n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}var s=it(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),bn(t,i,c)},logarithmic:function(t,e,n){if(0===t)return"0";var r=t/Math.pow(10,Math.floor(it(t)));return 1===r||2===r||5===r?Kr.numeric.call(this,t,e,n):""}};var Xr={formatters:Kr};function $r(t,e){var n=t.options.ticks,r=n.maxTicksLimit||function(t){var e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=n.major.enabled?function(t){var e,n,r=[];for(e=0,n=t.length;e<n;e++)t[e].major&&r.push(e);return r}(e):[],o=i.length,a=i[0],s=i[o-1],u=[];if(o>r)return function(t,e,n,r){var i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),a=n[++o*r])}(e,u,i,o/r),u;var c=function(t,e,n){var r=function(t){var e,n,r=t.length;if(r<2)return!1;for(n=t[0],e=1;e<r;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),i=e.length/n;if(!r)return Math.max(i,1);for(var o=function(t){var e,n=[],r=Math.sqrt(t);for(e=1;e<r;e++)t%e===0&&(n.push(e),n.push(t/e));return r===(0|r)&&n.push(r),n.sort(function(t,e){return t-e}).pop(),n}(r),a=0,s=o.length-1;a<s;a++){var u=o[a];if(u>i)return u}return Math.max(i,1)}(i,e,r);if(o>0){var l,f,h=o>1?Math.round((s-a)/(o-1)):null;for(Yr(e,u,c,O(h)?0:a-h,a),l=0,f=o-1;l<f;l++)Yr(e,u,c,i[l],i[l+1]);return Yr(e,u,c,s,O(h)?e.length:s+h),u}return Yr(e,u,c),u}function Yr(t,e,n,r,i){var o,a,s,u=P(r,0),c=Math.min(P(i,t.length),t.length),l=0;for(n=Math.ceil(n),i&&(n=(o=i-r)/Math.floor(o/n)),s=u;s<0;)l++,s=Math.round(u+l*n);for(a=Math.max(u,0);a<c;a++)a===s&&(e.push(t[a]),l++,s=Math.round(u+l*n))}se.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(t,e){return e.lineWidth},tickColor:function(t,e){return e.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),se.route("scale.ticks","color","","color"),se.route("scale.grid","color","","borderColor"),se.route("scale.grid","borderColor","","borderColor"),se.route("scale.title","color","","color"),se.describe("scale",{_fallback:!1,_scriptable:function(t){return!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t},_indexable:function(t){return"borderDash"!==t&&"tickBorderDash"!==t}}),se.describe("scales",{_fallback:"scale"});var Qr=function(t){return"left"===t?"right":"right"===t?"left":t},Jr=function(t,e,n){return"top"===e||"left"===e?t[e]+n:t[e]-n};function Zr(t,e){for(var n=[],r=t.length/e,i=t.length,o=0;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function ti(t,e,n){var r,i=t.ticks.length,o=Math.min(e,i-1),a=t._startPixel,s=t._endPixel,u=t.getPixelForTick(o);if(!(n&&(r=1===i?Math.max(u-a,s-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(o-1))/2,(u+=o<e?r:-r)<a-1e-6||u>s+1e-6)))return u}function ei(t){return t.drawTicks?t.tickLength:0}function ni(t,e){if(!t.display)return 0;var n=Te(t.font,e),r=Oe(t.padding);return(T(t.text)?t.text.length:1)*n.lineHeight+r.height}function ri(t,e,n){var r=_(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=Qr(r)),r}var ii=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).id=t.id,n.type=t.type,n.options=void 0,n.ctx=t.ctx,n.chart=t.chart,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.width=void 0,n.height=void 0,n._margins={left:0,right:0,top:0,bottom:0},n.maxWidth=void 0,n.maxHeight=void 0,n.paddingTop=void 0,n.paddingBottom=void 0,n.paddingLeft=void 0,n.paddingRight=void 0,n.axis=void 0,n.labelRotation=void 0,n.min=void 0,n.max=void 0,n._range=void 0,n.ticks=[],n._gridLineItems=null,n._labelItems=null,n._labelSizes=null,n._length=0,n._maxLength=0,n._longestTextCache={},n._startPixel=void 0,n._endPixel=void 0,n._reversePixels=!1,n._userMax=void 0,n._userMin=void 0,n._suggestedMax=void 0,n._suggestedMin=void 0,n._ticksLength=0,n._borderValue=0,n._cache={},n._dataLimitsCached=!1,n.$context=void 0,n}return v(e,Gr),Object(y.a)(e,[{key:"init",value:function(t){var e=this;e.options=t.setContext(e.getContext()),e.axis=t.axis,e._userMin=e.parse(t.min),e._userMax=e.parse(t.max),e._suggestedMin=e.parse(t.suggestedMin),e._suggestedMax=e.parse(t.suggestedMax)}},{key:"parse",value:function(t,e){return t}},{key:"getUserBounds",value:function(){var t=this._userMin,e=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return t=A(t,Number.POSITIVE_INFINITY),e=A(e,Number.NEGATIVE_INFINITY),n=A(n,Number.POSITIVE_INFINITY),r=A(r,Number.NEGATIVE_INFINITY),{min:A(t,n),max:A(e,r),minDefined:R(t),maxDefined:R(e)}}},{key:"getMinMax",value:function(t){var e,n=this.getUserBounds(),r=n.min,i=n.max,o=n.minDefined,a=n.maxDefined;if(o&&a)return{min:r,max:i};for(var s=this.getMatchingVisibleMetas(),u=0,c=s.length;u<c;++u)e=s[u].controller.getMinMax(this,t),o||(r=Math.min(r,e.min)),a||(i=Math.max(i,e.max));return{min:A(r,A(i,r)),max:A(i,A(r,i))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){D(this.options.beforeUpdate,[this])}},{key:"update",value:function(t,e,n){var r=this,i=r.options.ticks,o=i.sampleSize;r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),r.ticks=null,r._labelSizes=null,r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r._maxLength=r.isHorizontal()?r.width+n.left+n.right:r.height+n.top+n.bottom,r._dataLimitsCached||(r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r._range=function(t,e){var n=t.min,r=t.max;return{min:n-Math.abs(N(e,n)),max:r+N(e,r)}}(r,r.options.grace),r._dataLimitsCached=!0),r.beforeBuildTicks(),r.ticks=r.buildTicks()||[],r.afterBuildTicks();var a=o<r.ticks.length;r._convertTicksToLabels(a?Zr(r.ticks,o):r.ticks),r.configure(),r.beforeCalculateLabelRotation(),r.calculateLabelRotation(),r.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(r.ticks=$r(r,r.ticks),r._labelSizes=null),a&&r._convertTicksToLabels(r.ticks),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate()}},{key:"configure",value:function(){var t,e,n=this,r=n.options.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,r=!r),n._startPixel=t,n._endPixel=e,n._reversePixels=r,n._length=e-t,n._alignToPixels=n.options.alignToPixels}},{key:"afterUpdate",value:function(){D(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){D(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}},{key:"afterSetDimensions",value:function(){D(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(t){this.chart.notifyPlugins(t,this.getContext()),D(this.options[t],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){D(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(t){var e,n,r,i=this.options.ticks;for(e=0,n=t.length;e<n;e++)(r=t[e]).label=D(i.callback,[r.value,e,t],this);for(e=0;e<n;e++)O(t[e].label)&&(t.splice(e,1),n--,e--)}},{key:"afterTickToLabelConversion",value:function(){D(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){D(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var t,e,n,r=this,i=r.options,o=i.ticks,a=r.ticks.length,s=o.minRotation||0,u=o.maxRotation,c=s;if(!r._isVisible()||!o.display||s>=u||a<=1||!r.isHorizontal())r.labelRotation=s;else{var l=r._getLabelSizes(),f=l.widest.width,h=l.highest.height,d=mt(r.chart.width-f,0,r.maxWidth);f+6>(t=i.offset?r.maxWidth/a:d/(a-1))&&(t=d/(a-(i.offset?.5:1)),e=r.maxHeight-ei(i.grid)-o.padding-ni(i.title,r.chart.options.font),n=Math.sqrt(f*f+h*h),c=ft(Math.min(Math.asin(Math.min((l.highest.height+6)/t,1)),Math.asin(Math.min(e/n,1))-Math.asin(h/n))),c=Math.max(s,Math.min(u,c))),r.labelRotation=c}}},{key:"afterCalculateLabelRotation",value:function(){D(this.options.afterCalculateLabelRotation,[this])}},{key:"beforeFit",value:function(){D(this.options.beforeFit,[this])}},{key:"fit",value:function(){var t=this,e={width:0,height:0},n=t.chart,r=t.options,i=r.ticks,o=r.title,a=r.grid,s=t._isVisible(),u=t.isHorizontal();if(s){var c=ni(o,n.options.font);if(u?(e.width=t.maxWidth,e.height=ei(a)+c):(e.height=t.maxHeight,e.width=ei(a)+c),i.display&&t.ticks.length){var l=t._getLabelSizes(),f=l.first,h=l.last,d=l.widest,p=l.highest,v=2*i.padding,g=lt(t.labelRotation),m=Math.cos(g),y=Math.sin(g);if(u){var b=i.mirror?0:y*d.width+m*p.height;e.height=Math.min(t.maxHeight,e.height+b+v)}else{var w=i.mirror?0:m*d.width+y*p.height;e.width=Math.min(t.maxWidth,e.width+w+v)}t._calculatePadding(f,h,y,m)}}t._handleMargins(),u?(t.width=t._length=n.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t._margins.top-t._margins.bottom)}},{key:"_calculatePadding",value:function(t,e,n,r){var i=this,o=i.options,a=o.ticks,s=a.align,u=a.padding,c=o.position,l=0!==i.labelRotation,f="top"!==c&&"x"===i.axis;if(i.isHorizontal()){var h=i.getPixelForTick(0)-i.left,d=i.right-i.getPixelForTick(i.ticks.length-1),p=0,v=0;l?f?(p=r*t.width,v=n*e.height):(p=n*t.height,v=r*e.width):"start"===s?v=e.width:"end"===s?p=t.width:(p=t.width/2,v=e.width/2),i.paddingLeft=Math.max((p-h+u)*i.width/(i.width-h),0),i.paddingRight=Math.max((v-d+u)*i.width/(i.width-d),0)}else{var g=e.height/2,m=t.height/2;"start"===s?(g=0,m=t.height):"end"===s&&(g=e.height,m=0),i.paddingTop=g+u,i.paddingBottom=m+u}}},{key:"_handleMargins",value:function(){var t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}},{key:"afterFit",value:function(){D(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var t=this.options,e=t.axis,n=t.position;return"top"===n||"bottom"===n||"x"===e}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t),this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var t=this,e=t._labelSizes;if(!e){var n=t.options.ticks.sampleSize,r=t.ticks;n<r.length&&(r=Zr(r,n)),t._labelSizes=e=t._computeLabelSizes(r,r.length)}return e}},{key:"_computeLabelSizes",value:function(t,e){var n,r,i,o,a,s,u,c,l,f,h,d=this.ctx,p=this._longestTextCache,v=[],g=[],m=0,y=0;for(n=0;n<e;++n){if(o=t[n].label,a=this._resolveTickFontOptions(n),d.font=s=a.string,u=p[s]=p[s]||{data:{},gc:[]},c=a.lineHeight,l=f=0,O(o)||T(o)){if(T(o))for(r=0,i=o.length;r<i;++r)O(h=o[r])||T(h)||(l=ue(d,u.data,u.gc,l,h),f+=c)}else l=ue(d,u.data,u.gc,l,o),f=c;v.push(l),g.push(f),m=Math.max(l,m),y=Math.max(f,y)}!function(t,e){M(t,function(t){var n,r=t.gc,i=r.length/2;if(i>e){for(n=0;n<i;++n)delete t.data[r[n]];r.splice(0,i)}})}(p,e);var b=v.indexOf(m),w=g.indexOf(y),x=function(t){return{width:v[t]||0,height:g[t]||0}};return{first:x(0),last:x(e-1),widest:x(b),highest:x(w),widths:v,heights:g}}},{key:"getLabelForValue",value:function(t){return t}},{key:"getPixelForValue",value:function(t,e){return NaN}},{key:"getValueForPixel",value:function(t){}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getPixelForDecimal",value:function(t){var e=this;e._reversePixels&&(t=1-t);var n=e._startPixel+t*e._length;return mt(e._alignToPixels?le(e.chart,n,0):n,-32768,32767)}},{key:"getDecimalForPixel",value:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var t=this.min,e=this.max;return t<0&&e<0?e:t>0&&e>0?t:0}},{key:"getContext",value:function(t){var e,n,r=this,i=r.ticks||[];if(t>=0&&t<i.length){var o=i[t];return o.$context||(o.$context=function(t,e,n){return Object.assign(Object.create(t),{tick:n,index:e,type:"tick"})}(r.getContext(),t,o))}return r.$context||(r.$context=(e=r.chart.getContext(),n=r,Object.assign(Object.create(e),{scale:n,type:"scale"})))}},{key:"_tickSize",value:function(){var t=this.options.ticks,e=lt(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}},{key:"_isVisible",value:function(){var t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(t){var e,n,r,i,o,a,s,u,c,l,f,h,d=this,p=d.axis,v=d.chart,g=d.options,m=g.grid,y=g.position,b=m.offset,w=d.isHorizontal(),x=d.ticks.length+(b?1:0),E=ei(m),_=[],k=m.setContext(d.getContext()),S=k.drawBorder?k.borderWidth:0,C=S/2,O=function(t){return le(v,t,S)};if("top"===y)e=O(d.bottom),a=d.bottom-E,u=e-C,l=O(t.top)+C,h=t.bottom;else if("bottom"===y)e=O(d.top),l=t.top,h=O(t.bottom)-C,a=e+C,u=d.top+E;else if("left"===y)e=O(d.right),o=d.right-E,s=e-C,c=O(t.left)+C,f=t.right;else if("right"===y)e=O(d.left),c=t.left,f=O(t.right)-C,o=e+C,s=d.left+E;else if("x"===p){if("center"===y)e=O((t.top+t.bottom)/2+.5);else if(I(y)){var T=Object.keys(y)[0],R=y[T];e=O(d.chart.scales[T].getPixelForValue(R))}l=t.top,h=t.bottom,u=(a=e+C)+E}else if("y"===p){if("center"===y)e=O((t.left+t.right)/2);else if(I(y)){var A=Object.keys(y)[0],P=y[A];e=O(d.chart.scales[A].getPixelForValue(P))}s=(o=e-C)-E,c=t.left,f=t.right}for(n=0;n<x;++n){var N=m.setContext(d.getContext(n)),D=N.lineWidth,M=N.color,j=m.borderDash||[],F=N.borderDashOffset,L=N.tickWidth,B=N.tickColor,V=N.tickBorderDash||[],U=N.tickBorderDashOffset;void 0!==(r=ti(d,n,b))&&(i=le(v,r,D),w?o=s=c=f=i:a=u=l=h=i,_.push({tx1:o,ty1:a,tx2:s,ty2:u,x1:c,y1:l,x2:f,y2:h,width:D,color:M,borderDash:j,borderDashOffset:F,tickWidth:L,tickColor:B,tickBorderDash:V,tickBorderDashOffset:U}))}return d._ticksLength=x,d._borderValue=e,_}},{key:"_computeLabelItems",value:function(t){var e,n,r,i,o,a,s,u,c,l,f,h=this,d=h.axis,p=h.options,v=p.position,g=p.ticks,m=h.isHorizontal(),y=h.ticks,b=g.align,w=g.crossAlign,x=g.padding,E=g.mirror,_=ei(p.grid),k=_+x,S=E?-x:k,C=-lt(h.labelRotation),O=[],R="middle";if("top"===v)o=h.bottom-S,a=h._getXAxisLabelAlignment();else if("bottom"===v)o=h.top+S,a=h._getXAxisLabelAlignment();else if("left"===v){var A=h._getYAxisLabelAlignment(_);a=A.textAlign,i=A.x}else if("right"===v){var P=h._getYAxisLabelAlignment(_);a=P.textAlign,i=P.x}else if("x"===d){if("center"===v)o=(t.top+t.bottom)/2+k;else if(I(v)){var N=Object.keys(v)[0],D=v[N];o=h.chart.scales[N].getPixelForValue(D)+k}a=h._getXAxisLabelAlignment()}else if("y"===d){if("center"===v)i=(t.left+t.right)/2-k;else if(I(v)){var M=Object.keys(v)[0],j=v[M];i=h.chart.scales[M].getPixelForValue(j)}a=h._getYAxisLabelAlignment(_).textAlign}"y"===d&&("start"===b?R="top":"end"===b&&(R="bottom"));var F=h._getLabelSizes();for(e=0,n=y.length;e<n;++e){r=y[e].label;var L=g.setContext(h.getContext(e));s=h.getPixelForTick(e)+g.labelOffset,c=(u=h._resolveTickFontOptions(e)).lineHeight;var B=(l=T(r)?r.length:1)/2,V=L.color,U=L.textStrokeColor,z=L.textStrokeWidth;m?(i=s,f="top"===v?"near"===w||0!==C?-l*c+c/2:"center"===w?-F.highest.height/2-B*c+c:-F.highest.height+c/2:"near"===w||0!==C?c/2:"center"===w?F.highest.height/2-B*c:F.highest.height-l*c,E&&(f*=-1)):(o=s,f=(1-l)*c/2);var W=void 0;if(L.showLabelBackdrop){var q=Oe(L.backdropPadding),H=F.heights[e],G=F.widths[e],K=o+f-q.top,X=i-q.left;switch(R){case"middle":K-=H/2;break;case"bottom":K-=H}switch(a){case"center":X-=G/2;break;case"right":X-=G}W={left:X,top:K,width:G+q.width,height:H+q.height,color:L.backdropColor}}O.push({rotation:C,label:r,font:u,color:V,strokeColor:U,strokeWidth:z,textOffset:f,textAlign:a,textBaseline:R,translation:[i,o],backdrop:W})}return O}},{key:"_getXAxisLabelAlignment",value:function(){var t=this.options,e=t.position,n=t.ticks;if(-lt(this.labelRotation))return"top"===e?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align&&(r="right"),r}},{key:"_getYAxisLabelAlignment",value:function(t){var e,n,r=this,i=r.options,o=i.position,a=i.ticks,s=a.crossAlign,u=a.mirror,c=a.padding,l=t+c,f=r._getLabelSizes().widest.width;return"left"===o?u?(e="left",n=r.right+c):(n=r.right-l,"near"===s?e="right":"center"===s?(e="center",n-=f/2):(e="left",n=r.left)):"right"===o?u?(e="right",n=r.left+c):(n=r.left+l,"near"===s?e="left":"center"===s?(e="center",n+=f/2):(e="right",n=r.right)):e="right",{textAlign:e,x:n}}},{key:"_computeLabelArea",value:function(){var t=this;if(!t.options.ticks.mirror){var e=t.chart,n=t.options.position;return"left"===n||"right"===n?{top:0,left:t.left,bottom:e.height,right:t.right}:"top"===n||"bottom"===n?{top:t.top,left:0,bottom:t.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var t=this.ctx,e=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,o=this.height;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}},{key:"getLineWidthForValue",value:function(t){var e=this.options.grid;if(!this._isVisible()||!e.display)return 0;var n=this.ticks.findIndex(function(e){return e.value===t});return n>=0?e.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(t){var e,n,r=this,i=r.options.grid,o=r.ctx,a=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(t)),s=function(t,e,n){n.width&&n.color&&(o.save(),o.lineWidth=n.width,o.strokeStyle=n.color,o.setLineDash(n.borderDash||[]),o.lineDashOffset=n.borderDashOffset,o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(e.x,e.y),o.stroke(),o.restore())};if(i.display)for(e=0,n=a.length;e<n;++e){var u=a[e];i.drawOnChartArea&&s({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&s({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var t=this,e=t.chart,n=t.ctx,r=t.options.grid,i=r.setContext(t.getContext()),o=r.drawBorder?i.borderWidth:0;if(o){var a,s,u,c,l=r.setContext(t.getContext(0)).lineWidth,f=t._borderValue;t.isHorizontal()?(a=le(e,t.left,o)-o/2,s=le(e,t.right,l)+l/2,u=c=f):(u=le(e,t.top,o)-o/2,c=le(e,t.bottom,l)+l/2,a=s=f),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(a,u),n.lineTo(s,c),n.stroke(),n.restore()}}},{key:"drawLabels",value:function(t){var e=this;if(e.options.ticks.display){var n=e.ctx,r=e._computeLabelArea();r&&pe(n,r);var i,o,a=e._labelItems||(e._labelItems=e._computeLabelItems(t));for(i=0,o=a.length;i<o;++i){var s=a[i],u=s.font,c=s.label;s.backdrop&&(n.fillStyle=s.backdrop.color,n.fillRect(s.backdrop.left,s.backdrop.top,s.backdrop.width,s.backdrop.height)),ye(n,c,0,s.textOffset,u,s)}r&&ve(n)}}},{key:"drawTitle",value:function(){var t=this.ctx,e=this.options,n=e.position,r=e.title,i=e.reverse;if(r.display){var o=Te(r.font),a=Oe(r.padding),s=r.align,u=o.lineHeight/2;"bottom"===n?(u+=a.bottom,T(r.text)&&(u+=o.lineHeight*(r.text.length-1))):u+=a.top;var c=function(t,e,n,r){var i,o,a,s=t.top,u=t.left,c=t.bottom,l=t.right,f=0;return t.isHorizontal()?(o=k(r,u,l),a=Jr(t,n,e),i=l-u):(o=Jr(t,n,e),a=k(r,c,s),f="left"===n?-et:et),{titleX:o,titleY:a,maxWidth:i,rotation:f}}(this,u,n,s),l=c.titleX,f=c.titleY,h=c.maxWidth,d=c.rotation;ye(t,r.text,0,0,o,{color:r.color,maxWidth:h,rotation:d,textAlign:ri(s,n,i),textBaseline:"middle",translation:[l,f]})}}},{key:"draw",value:function(t){var e=this;e._isVisible()&&(e.drawBackground(),e.drawGrid(t),e.drawBorder(),e.drawTitle(),e.drawLabels(t))}},{key:"_layers",value:function(){var t=this,n=t.options,r=n.ticks&&n.ticks.z||0,i=n.grid&&n.grid.z||0;return t._isVisible()&&t.draw===e.prototype.draw?[{z:i,draw:function(e){t.drawBackground(),t.drawGrid(e),t.drawTitle()}},{z:i+1,draw:function(){t.drawBorder()}},{z:r,draw:function(e){t.drawLabels(e)}}]:[{z:r,draw:function(e){t.draw(e)}}]}},{key:"getMatchingVisibleMetas",value:function(t){var e,n,r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];for(e=0,n=r.length;e<n;++e){var a=r[e];a[i]!==this.id||t&&a.type!==t||o.push(a)}return o}},{key:"_resolveTickFontOptions",value:function(t){return Te(this.options.ticks.setContext(this.getContext(t)).font)}},{key:"_maxDigits",value:function(){var t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}]),e}(),oi=function(){function t(e,n,r){Object(m.a)(this,t),this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}return Object(y.a)(t,[{key:"isForType",value:function(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}},{key:"register",value:function(t){var e,n=Object.getPrototypeOf(t);(function(t){return"id"in t&&"defaults"in t})(n)&&(e=this.register(n));var r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r?o:(r[i]=t,function(t,e,n){var r=V(Object.create(null),[n?se.get(n):{},se.get(e),t.defaults]);se.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(function(n){var r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),u=a.join(".");se.route(o,i,u,s)})}(e,t.defaultRoutes);t.descriptors&&se.describe(e,t.descriptors)}(t,o,e),this.override&&se.override(t.id,t.overrides),o)}},{key:"get",value:function(t){return this.items[t]}},{key:"unregister",value:function(t){var e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in se[r]&&(delete se[r][n],this.override&&delete re[n])}}]),t}();var ai=new(function(){function t(){Object(m.a)(this,t),this.controllers=new oi($n,"datasets",!0),this.elements=new oi(Gr,"elements"),this.plugins=new oi(Object,"plugins"),this.scales=new oi(ii,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return Object(y.a)(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}},{key:"addControllers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}},{key:"addElements",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}},{key:"addPlugins",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}},{key:"addScales",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}},{key:"getController",value:function(t){return this._get(t,this.controllers,"controller")}},{key:"getElement",value:function(t){return this._get(t,this.elements,"element")}},{key:"getPlugin",value:function(t){return this._get(t,this.plugins,"plugin")}},{key:"getScale",value:function(t){return this._get(t,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}},{key:"removeElements",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}},{key:"removePlugins",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}},{key:"removeScales",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}},{key:"_each",value:function(t,e,n){var r=this;o(e).forEach(function(e){var i=n||r._getRegistryForType(e);n||i.isForType(e)||i===r.plugins&&e.id?r._exec(t,i,e):M(e,function(e){var i=n||r._getRegistryForType(e);r._exec(t,i,e)})})}},{key:"_exec",value:function(t,e,n){var r=K(t);D(n["before"+r],[],n),e[t](n),D(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(t){for(var e=0;e<this._typedRegistries.length;e++){var n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}},{key:"_get",value:function(t,e,n){var r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}]),t}()),si=function(){function t(){Object(m.a)(this,t),this._init=[]}return Object(y.a)(t,[{key:"notify",value:function(t,e,n,r){var i=this;"beforeInit"===e&&(i._init=i._createDescriptors(t,!0),i._notify(i._init,t,"install"));var o=r?i._descriptors(t).filter(r):i._descriptors(t),a=i._notify(o,t,e,n);return"destroy"===e&&(i._notify(o,t,"stop"),i._notify(i._init,t,"uninstall")),a}},{key:"_notify",value:function(t,e,n,r){r=r||{};var i,o=An(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.plugin;if(!1===D(s[n],[e,r,a.options],s)&&r.cancelable)return!1}}catch(u){o.e(u)}finally{o.f()}return!0}},{key:"invalidate",value:function(){O(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(t){if(this._cache)return this._cache;var e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}},{key:"_createDescriptors",value:function(t,e){var n=t&&t.config,r=P(n.options&&n.options.plugins,{}),i=function(t){for(var e=[],n=Object.keys(ai.plugins.items),r=0;r<n.length;r++)e.push(ai.getPlugin(n[r]));for(var i=t.plugins||[],o=0;o<i.length;o++){var a=i[o];-1===e.indexOf(a)&&e.push(a)}return e}(n);return!1!==r||e?function(t,e,n,r){for(var i=[],o=t.getContext(),a=0;a<e.length;a++){var s=e[a],u=s.id,c=ui(n[u],r);null!==c&&i.push({plugin:s,options:ci(t.config,s,c,o)})}return i}(t,i,r,e):[]}},{key:"_notifyStateChanges",value:function(t){var e=this._oldCache||[],n=this._cache,r=function(t,e){return t.filter(function(t){return!e.some(function(e){return t.plugin.id===e.plugin.id})})};this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}]),t}();function ui(t,e){return e||!1!==t?!0===t?{}:t:null}function ci(t,e,n,r){var i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function li(t,e){var n=se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function fi(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function hi(t){var e=t.options||(t.options={});e.plugins=P(e.plugins,{}),e.scales=function(t,e){var n=re[t.type]||{scales:{}},r=e.scales||{},i=li(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach(function(t){var e=r[t],s=fi(t,e),u=function(t,e){return t===e?"_index_":"_value_"}(s,i),c=n.scales||{};o[s]=o[s]||t,a[t]=U(Object.create(null),[{axis:s},e,c[s],c[u]])}),t.data.datasets.forEach(function(n){var i=n.type||t.type,s=n.indexAxis||li(i,e),u=(re[i]||{}).scales||{};Object.keys(u).forEach(function(t){var e=function(t,e){var n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),i=n[e+"AxisID"]||o[e]||e;a[i]=a[i]||Object.create(null),U(a[i],[{axis:e},r[i],u[t]])})}),Object.keys(a).forEach(function(t){var e=a[t];U(e,[se.scales[e.type],se.scale])}),a}(t,e)}function di(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}var pi=new Map,vi=new Set;function gi(t,e){var n=pi.get(t);return n||(n=e(),pi.set(t,n),vi.add(n)),n}var mi=function(t,e,n){var r=G(e,n);void 0!==r&&t.add(r)},yi=function(){function t(e){Object(m.a)(this,t),this._config=function(t){return(t=t||{}).data=di(t.data),hi(t),t}(e),this._scopeCache=new Map,this._resolverCache=new Map}return Object(y.a)(t,[{key:"update",value:function(){var t=this._config;this.clearCache(),hi(t)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(t){return gi(t,function(){return[["datasets.".concat(t),""]]})}},{key:"datasetAnimationScopeKeys",value:function(t,e){return gi("".concat(t,".transition.").concat(e),function(){return[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]})}},{key:"datasetElementScopeKeys",value:function(t,e){return gi("".concat(t,"-").concat(e),function(){return[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]})}},{key:"pluginScopeKeys",value:function(t){var e=t.id,n=this.type;return gi("".concat(n,"-plugin-").concat(e),function(){return[["plugins.".concat(e)].concat(o(t.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(t,e){var n=this._scopeCache,r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}},{key:"getOptionScopes",value:function(t,e,n){var r=this.options,i=this.type,a=this._cachedScopes(t,n),s=a.get(e);if(s)return s;var u=new Set;e.forEach(function(e){t&&(u.add(t),e.forEach(function(e){return mi(u,t,e)})),e.forEach(function(t){return mi(u,r,t)}),e.forEach(function(t){return mi(u,re[i]||{},t)}),e.forEach(function(t){return mi(u,se,t)}),e.forEach(function(t){return mi(u,ie,t)})});var c=o(u);return vi.has(e)&&a.set(e,c),c}},{key:"chartOptionScopes",value:function(){var t=this.options,e=this.type;return[t,re[e]||{},se.datasets[e]||{},{type:e},se,ie]}},{key:"resolveNamedOptions",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},o=bi(this._resolverCache,t,r),a=o.resolver,s=o.subPrefixes,u=a;(function(t,e){var n,r=Le(t),i=r.isScriptable,o=r.isIndexable,a=An(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(i(s)&&$(t[s])||o(s)&&T(t[s]))return!0}}catch(u){a.e(u)}finally{a.f()}return!1})(a,e)&&(i.$shared=!1,u=Fe(a,n=$(n)?n():n,this.createResolver(t,n,s)));var c,l=An(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;i[f]=u[f]}}catch(h){l.e(h)}finally{l.f()}return i}},{key:"createResolver",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=bi(this._resolverCache,t,n).resolver;return I(e)?Fe(i,e,void 0,r):i}},{key:"type",get:function(){return this._config.type},set:function(t){this._config.type=t}},{key:"data",get:function(){return this._config.data},set:function(t){this._config.data=di(t)}},{key:"options",get:function(){return this._config.options},set:function(t){this._config.options=t}},{key:"plugins",get:function(){return this._config.plugins}}]),t}();function bi(t,e,n){var r=t.get(e);r||(r=new Map,t.set(e,r));var i=n.join(),o=r.get(i);o||(o={resolver:je(e,n),subPrefixes:n.filter(function(t){return!t.toLowerCase().includes("hover")})},r.set(i,o));return o}var wi=["top","bottom","left","right","chartArea"];function xi(t,e){return"top"===t||"bottom"===t||-1===wi.indexOf(t)&&"x"===e}function Ei(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function _i(t){var e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),D(n&&n.onComplete,[t],e)}function ki(t){var e=t.chart,n=e.options.animation;D(n&&n.onProgress,[t],e)}function Si(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Ci(t){return Si()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Oi={},Ti=function(t){var e=Ci(t);return Object.values(Oi).filter(function(t){return t.canvas===e}).pop()},Ii=function(){function t(e,n){var r=this;Object(m.a)(this,t);var i=this;this.config=n=new yi(n);var o=Ci(e),a=Ti(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");var s=n.createResolver(n.chartOptionScopes(),i.getContext());this.platform=i._initializePlatform(o,n);var u=i.platform.acquireContext(o,s.aspectRatio),c=u&&u.canvas,l=c&&c.height,f=c&&c.width;this.id=C(),this.ctx=u,this.canvas=c,this.width=f,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new si,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){var n;return function(){return e?(clearTimeout(n),n=setTimeout(t,e)):t(),e}}(function(){return r.update("resize")},s.resizeDelay||0),Oi[i.id]=i,u&&c?(Nn.listen(i,"complete",_i),Nn.listen(i,"progress",ki),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}return Object(y.a)(t,[{key:"_initialize",value:function(){var t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():hn(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}},{key:"_initializePlatform",value:function(t,e){return e.platform?new e.platform:!Si()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new Ar:new Hr}},{key:"clear",value:function(){return fe(this.canvas,this.ctx),this}},{key:"stop",value:function(){return Nn.stop(this),this}},{key:"resize",value:function(t,e){Nn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}},{key:"_resize",value:function(t,e){var n=this,r=n.options,i=n.canvas,o=r.maintainAspectRatio&&n.aspectRatio,a=n.platform.getMaximumSize(i,t,e,o),s=r.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=a.width,n.height=a.height,n._aspectRatio=n.aspectRatio,hn(n,s,!0)&&(n.notifyPlugins("resize",{size:a}),D(r.onResize,[n,a],n),n.attached&&n._doResize()&&n.render())}},{key:"ensureScalesHaveIDs",value:function(){M(this.options.scales||{},function(t,e){t.id=e})}},{key:"buildOrUpdateScales",value:function(){var t=this,e=t.options,n=e.scales,r=t.scales,i=Object.keys(r).reduce(function(t,e){return t[e]=!1,t},{}),o=[];n&&(o=o.concat(Object.keys(n).map(function(t){var e=n[t],r=fi(t,e),i="r"===r,o="x"===r;return{options:e,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}}))),M(o,function(n){var o=n.options,a=o.id,s=fi(a,o),u=P(o.type,n.dtype);void 0!==o.position&&xi(o.position,s)===xi(n.dposition)||(o.position=n.dposition),i[a]=!0;var c=null;a in r&&r[a].type===u?c=r[a]:(c=new(ai.getScale(u))({id:a,type:u,ctx:t.ctx,chart:t}),r[c.id]=c);c.init(o,e)}),M(i,function(t,e){t||delete r[e]}),M(r,function(e){Ir.configure(t,e,e.options),Ir.addBox(t,e)})}},{key:"_updateMetasetIndex",value:function(t,e){var n=this._metasets,r=t.index;r!==e&&(n[r]=n[e],n[e]=t,t.index=e)}},{key:"_updateMetasets",value:function(){var t=this._metasets,e=this.data.datasets.length,n=t.length;if(n>e){for(var r=e;r<n;++r)this._destroyDatasetMeta(r);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Ei("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var t=this,e=t._metasets,n=t.data.datasets;e.length>n.length&&delete t._stacks,e.forEach(function(e,r){0===n.filter(function(t){return t===e._dataset}).length&&t._destroyDatasetMeta(r)})}},{key:"buildOrUpdateControllers",value:function(){var t,e,n=this,r=[],i=n.data.datasets;for(n._removeUnreferencedMetasets(),t=0,e=i.length;t<e;t++){var o=i[t],a=n.getDatasetMeta(t),s=o.type||n.config.type;if(a.type&&a.type!==s&&(n._destroyDatasetMeta(t),a=n.getDatasetMeta(t)),a.type=s,a.indexAxis=o.indexAxis||li(s,n.options),a.order=o.order||0,n._updateMetasetIndex(a,t),a.label=""+o.label,a.visible=n.isDatasetVisible(t),a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{var u=ai.getController(s),c=se.datasets[s],l=c.datasetElementType,f=c.dataElementType;Object.assign(u.prototype,{dataElementType:ai.getElement(f),datasetElementType:l&&ai.getElement(l)}),a.controller=new u(n,t),r.push(a.controller)}}return n._updateMetasets(),r}},{key:"_resetElements",value:function(){var t=this;M(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(t){var e=this,n=e.config;n.update(),e._options=n.createResolver(n.chartOptionScopes(),e.getContext()),M(e.scales,function(t){Ir.removeBox(e,t)});var r=e._animationsDisabled=!e.options.animation;if(e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),function(t,e){if(t.size!==e.size)return!1;var n,r=b(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!e.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(new Set(Object.keys(e._listeners)),new Set(e.options.events))&&!!this._responsiveListeners===e.options.responsive||(e.unbindEvents(),e.bindEvents()),e._plugins.invalidate(),!1!==e.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){var i=e.buildOrUpdateControllers();e.notifyPlugins("beforeElementsUpdate");for(var o=0,a=0,s=e.data.datasets.length;a<s;a++){var u=e.getDatasetMeta(a).controller,c=!r&&-1===i.indexOf(u);u.buildOrUpdateElements(c),o=Math.max(+u.getMaxOverflow(),o)}e._minPadding=o,e._updateLayout(o),r||M(i,function(t){t.reset()}),e._updateDatasets(t),e.notifyPlugins("afterUpdate",{mode:t}),e._layers.sort(Ei("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render()}}},{key:"_updateLayout",value:function(t){var e=this;if(!1!==e.notifyPlugins("beforeLayout",{cancelable:!0})){Ir.update(e,e.width,e.height,t);var n=e.chartArea,r=n.width<=0||n.height<=0;e._layers=[],M(e.boxes,function(t){var n;r&&"chartArea"===t.position||(t.configure&&t.configure(),(n=e._layers).push.apply(n,o(t._layers())))},e),e._layers.forEach(function(t,e){t._idx=e}),e.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(t){var e="function"===typeof t;if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(var n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,e?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}},{key:"_updateDataset",value:function(t,e){var n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){var t=this;!1!==t.notifyPlugins("beforeRender",{cancelable:!0})&&(Nn.has(t)?t.attached&&!Nn.running(t)&&Nn.start(t):(t.draw(),_i({chart:t})))}},{key:"draw",value:function(){var t,e=this;if(e._resizeBeforeDraw){var n=e._resizeBeforeDraw,r=n.width,i=n.height;e._resize(r,i),e._resizeBeforeDraw=null}if(e.clear(),!(e.width<=0||e.height<=0)&&!1!==e.notifyPlugins("beforeDraw",{cancelable:!0})){var o=e._layers;for(t=0;t<o.length&&o[t].z<=0;++t)o[t].draw(e.chartArea);for(e._drawDatasets();t<o.length;++t)o[t].draw(e.chartArea);e.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(t){var e,n,r=this._sortedMetasets,i=[];for(e=0,n=r.length;e<n;++e){var o=r[e];t&&!o.visible||i.push(o)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=this.getSortedVisibleDatasetMetas(),e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(t){var e=this,n=e.ctx,r=t._clip,i=e.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==e.notifyPlugins("beforeDatasetDraw",o)&&(pe(n,{left:!1===r.left?0:i.left-r.left,right:!1===r.right?e.width:i.right+r.right,top:!1===r.top?0:i.top-r.top,bottom:!1===r.bottom?e.height:i.bottom+r.bottom}),t.controller.draw(),ve(n),o.cancelable=!1,e.notifyPlugins("afterDatasetDraw",o))}},{key:"getElementsAtEventForMode",value:function(t,e,n,r){var i=yr.modes[e];return"function"===typeof i?i(this,t,n,r):[]}},{key:"getDatasetMeta",value:function(t){var e=this.data.datasets[t],n=this._metasets,r=n.filter(function(t){return t&&t._dataset===e}).pop();return r||(r=n[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1}),r}},{key:"getContext",value:function(){return this.$context||(this.$context={chart:this,type:"chart"})}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(t){var e=this.data.datasets[t];if(!e)return!1;var n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}},{key:"setDatasetVisibility",value:function(t,e){this.getDatasetMeta(t).hidden=!e}},{key:"toggleDataVisibility",value:function(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}},{key:"getDataVisibility",value:function(t){return!this._hiddenIndices[t]}},{key:"_updateDatasetVisibility",value:function(t,e){var n=e?"show":"hide",r=this.getDatasetMeta(t),i=r.controller._resolveAnimations(void 0,n);this.setDatasetVisibility(t,e),i.update(r,{visible:e}),this.update(function(e){return e.datasetIndex===t?n:void 0})}},{key:"hide",value:function(t){this._updateDatasetVisibility(t,!1)}},{key:"show",value:function(t){this._updateDatasetVisibility(t,!0)}},{key:"_destroyDatasetMeta",value:function(t){var e=this._metasets&&this._metasets[t];e&&e.controller&&(e.controller._destroy(),delete this._metasets[t])}},{key:"destroy",value:function(){var t,e,n=this,r=n.canvas,i=n.ctx;for(n.stop(),Nn.remove(n),t=0,e=n.data.datasets.length;t<e;++t)n._destroyDatasetMeta(t);n.config.clearCache(),r&&(n.unbindEvents(),fe(r,i),n.platform.releaseContext(i),n.canvas=null,n.ctx=null),n.notifyPlugins("destroy"),delete Oi[n.id]}},{key:"toBase64Image",value:function(){var t;return(t=this.canvas).toDataURL.apply(t,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var t=this,e=t._listeners,n=t.platform,r=function(e,n,r){e.offsetX=n,e.offsetY=r,t._eventHandler(e)};M(t.options.events,function(i){return function(r,i){n.addEventListener(t,r,i),e[r]=i}(i,r)})}},{key:"bindResponsiveEvents",value:function(){var t=this;t._responsiveListeners||(t._responsiveListeners={});var e,n=t._responsiveListeners,r=t.platform,i=function(e,i){r.addEventListener(t,e,i),n[e]=i},o=function(e,i){n[e]&&(r.removeEventListener(t,e,i),delete n[e])},a=function(e,n){t.canvas&&t.resize(e,n)},s=function n(){o("attach",n),t.attached=!0,t.resize(),i("resize",a),i("detach",e)};e=function(){t.attached=!1,o("resize",a),i("attach",s)},r.isAttached(t.canvas)?s():e()}},{key:"unbindEvents",value:function(){var t=this;M(t._listeners,function(e,n){t.platform.removeEventListener(t,n,e)}),t._listeners={},M(t._responsiveListeners,function(e,n){t.platform.removeEventListener(t,n,e)}),t._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(t,e,n){var r,i,o,a=n?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),i=0,o=t.length;i<o;++i){var s=(r=t[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t){var e=this,n=e._active||[],r=t.map(function(t){var n=t.datasetIndex,r=t.index,i=e.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}});!j(r,n)&&(e._active=r,e._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(t,e,n){return this._plugins.notify(this,t,e,n)}},{key:"_updateHoverStyles",value:function(t,e,n){var r=this.options.hover,i=function(t,e){return t.filter(function(t){return!e.some(function(e){return t.datasetIndex===e.datasetIndex&&t.index===e.index})})},o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}},{key:"_eventHandler",value:function(t,e){var n=this,r=this,i={event:t,replay:e,cancelable:!0},o=function(e){return(e.options.events||n.options.events).includes(t.type)};if(!1!==r.notifyPlugins("beforeEvent",i,o)){var a=r._handleEvent(t,e);return i.cancelable=!1,r.notifyPlugins("afterEvent",i,o),(a||i.changed)&&r.render(),r}}},{key:"_handleEvent",value:function(t,e){var n,r=this,i=r._active,o=void 0===i?[]:i,a=r.options,s=a.hover,u=e,c=[],l=null;return"mouseout"!==t.type&&(c=r.getElementsAtEventForMode(t,s.mode,s,u),l="click"===t.type?r._lastEvent:t),r._lastEvent=null,de(t,r.chartArea,r._minPadding)&&(D(a.onHover,[t,c,r],r),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||D(a.onClick,[t,c,r],r)),((n=!j(c,o))||e)&&(r._active=c,r._updateHoverStyles(c,o,e)),r._lastEvent=l,n}},{key:"aspectRatio",get:function(){var t=this.options,e=t.aspectRatio,n=t.maintainAspectRatio,r=this.width,i=this.height,o=this._aspectRatio;return O(e)?n&&o?o:i?r/i:null:e}},{key:"data",get:function(){return this.config.data},set:function(t){this.config.data=t}},{key:"options",get:function(){return this._options},set:function(t){this.config.options=t}}]),t}(),Ri=function(){return M(Ii.instances,function(t){return t._plugins.invalidate()})};function Ai(t,e,n){var r=e.startAngle,i=e.pixelMargin,o=e.x,a=e.y,s=e.outerRadius,u=e.innerRadius,c=i/s;t.beginPath(),t.arc(o,a,s,r-c,n+c),u>i?(c=i/u,t.arc(o,a,u,n+c,r-c,!0)):t.arc(o,a,i,n+et,r-et),t.closePath(),t.clip()}function Pi(t,e,n,r){var i=ke(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-e)/2,a=Math.min(o,r*e/2),s=function(t){var e=(n-Math.min(o,t))*r/2;return mt(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:mt(i.innerStart,0,a),innerEnd:mt(i.innerEnd,0,a)}}function Ni(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Di(t,e,n,r){var i=e.x,o=e.y,a=e.startAngle,s=e.pixelMargin,u=e.innerRadius,c=Math.max(e.outerRadius+n-s,0),l=u>0?u+n+s:0,f=r-a,h=(f-Math.max(.001,f*c-n/Y)/c)/2,d=a+h,p=r-h,v=Pi(e,l,c,p-d),g=v.outerStart,m=v.outerEnd,y=v.innerStart,b=v.innerEnd,w=c-g,x=c-m,E=d+g/w,_=p-m/x,k=l+y,S=l+b,C=d+y/k,O=p-b/S;if(t.beginPath(),t.arc(i,o,c,E,_),m>0){var T=Ni(x,_,i,o);t.arc(T.x,T.y,m,_,p+et)}var I=Ni(S,p,i,o);if(t.lineTo(I.x,I.y),b>0){var R=Ni(S,O,i,o);t.arc(R.x,R.y,b,p+et,O+Math.PI)}if(t.arc(i,o,l,p-b/l,d+y/l,!0),y>0){var A=Ni(k,C,i,o);t.arc(A.x,A.y,y,C+Math.PI,d-et)}var P=Ni(w,d,i,o);if(t.lineTo(P.x,P.y),g>0){var N=Ni(w,E,i,o);t.arc(N.x,N.y,g,d-et,E)}t.closePath()}function Mi(t,e,n,r){var i=e.options,o="inner"===i.borderAlign;i.borderWidth&&(o?(t.lineWidth=2*i.borderWidth,t.lineJoin="round"):(t.lineWidth=i.borderWidth,t.lineJoin="bevel"),e.fullCircles&&function(t,e,n){var r,i=e.x,o=e.y,a=e.startAngle,s=e.pixelMargin,u=e.fullCircles,c=Math.max(e.outerRadius-s,0),l=e.innerRadius+s;for(n&&Ai(t,e,a+Q),t.beginPath(),t.arc(i,o,l,a+Q,a,!0),r=0;r<u;++r)t.stroke();for(t.beginPath(),t.arc(i,o,c,a,a+Q),r=0;r<u;++r)t.stroke()}(t,e,o),o&&Ai(t,e,r),Di(t,e,n,r),t.stroke())}Object.defineProperties(Ii,{defaults:{enumerable:!0,value:se},instances:{enumerable:!0,value:Oi},overrides:{enumerable:!0,value:re},registry:{enumerable:!0,value:ai},version:{enumerable:!0,value:"3.3.1"},getChart:{enumerable:!0,value:Ti},register:{enumerable:!0,value:function(){ai.add.apply(ai,arguments),Ri()}},unregister:{enumerable:!0,value:function(){ai.remove.apply(ai,arguments),Ri()}}});var ji=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).options=void 0,n.circumference=void 0,n.startAngle=void 0,n.endAngle=void 0,n.innerRadius=void 0,n.outerRadius=void 0,n.pixelMargin=0,n.fullCircles=0,t&&Object.assign(u(u(n)),t),n}return v(e,Gr),Object(y.a)(e,[{key:"inRange",value:function(t,e,n){var r=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Y&&(o+=Q),{angle:o,distance:i}}(this.getProps(["x","y"],n),{x:t,y:e}),i=r.angle,o=r.distance,a=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=a.startAngle,u=a.endAngle,c=a.innerRadius,l=a.outerRadius;return(a.circumference>=Q||gt(i,s,u))&&(o>=c&&o<=l)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),n=e.x,r=e.y,i=(e.startAngle+e.endAngle)/2,o=(e.innerRadius+e.outerRadius)/2;return{x:n+Math.cos(i)*o,y:r+Math.sin(i)*o}}},{key:"tooltipPosition",value:function(t){return this.getCenterPoint(t)}},{key:"draw",value:function(t){var e=this,n=e.options,r=e.circumference,i=(n.offset||0)/2;if(e.pixelMargin="inner"===n.borderAlign?.33:0,e.fullCircles=r>Q?Math.floor(r/Q):0,!(0===r||e.innerRadius<0||e.outerRadius<0)){t.save();var o=0;if(i){o=i/2;var a=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(a)*o,Math.sin(a)*o),e.circumference>=Y&&(o=i)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;var s=function(t,e,n){var r=e.fullCircles,i=e.startAngle,o=e.circumference,a=e.endAngle;if(r){Di(t,e,n,i+Q);for(var s=0;s<r;++s)t.fill();isNaN(o)||(a=i+o%Q,o%Q===0&&(a+=Q))}return Di(t,e,n,a),t.fill(),a}(t,e,o);Mi(t,e,o,s),t.restore()}}}]),e}();function Fi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=P(n.borderCapStyle,e.borderCapStyle),t.setLineDash(P(n.borderDash,e.borderDash)),t.lineDashOffset=P(n.borderDashOffset,e.borderDashOffset),t.lineJoin=P(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=P(n.borderWidth,e.borderWidth),t.strokeStyle=P(n.borderColor,e.borderColor)}function Li(t,e,n){t.lineTo(n.x,n.y)}function Bi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.length,i=n.start,o=void 0===i?0:i,a=n.end,s=void 0===a?r-1:a,u=e.start,c=e.end,l=Math.max(o,u),f=Math.min(s,c),h=o<u&&s<u||o>c&&s>c;return{count:r,start:l,loop:e.loop,ilen:f<l&&!h?r+f-l:f-l}}function Vi(t,e,n,r){var i,o,a,s=e.points,u=e.options,c=Bi(s,n,r),l=c.count,f=c.start,h=c.loop,d=c.ilen,p=function(t){return t.stepped?ge:t.tension||"monotone"===t.cubicInterpolationMode?me:Li}(u),v=r||{},g=v.move,m=void 0===g||g,y=v.reverse;for(i=0;i<=d;++i)(o=s[(f+(y?d-i:i))%l]).skip||(m?(t.moveTo(o.x,o.y),m=!1):p(t,a,o,y,u.stepped),a=o);return h&&p(t,a,o=s[(f+(y?d:0))%l],y,u.stepped),!!h}function Ui(t,e,n,r){var i,o,a,s,u,c,l=e.points,f=Bi(l,n,r),h=f.count,d=f.start,p=f.ilen,v=r||{},g=v.move,m=void 0===g||g,y=v.reverse,b=0,w=0,x=function(t){return(d+(y?p-t:t))%h},E=function(){s!==u&&(t.lineTo(b,u),t.lineTo(b,s),t.lineTo(b,c))};for(m&&(o=l[x(0)],t.moveTo(o.x,o.y)),i=0;i<=p;++i)if(!(o=l[x(i)]).skip){var _=o.x,k=o.y,S=0|_;S===a?(k<s?s=k:k>u&&(u=k),b=(w*b+_)/++w):(E(),t.lineTo(_,k),a=S,w=0,s=u=k),c=k}E()}function zi(t){var e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Ui:Vi}ji.id="arc",ji.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,angle:void 0},ji.defaultRoutes={backgroundColor:"backgroundColor"};var Wi="function"===typeof Path2D;function qi(t,e,n,r){Wi&&1===e.segments.length?function(t,e,n,r){var i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Fi(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){var i,o=e.segments,a=e.options,s=zi(e),u=An(o);try{for(u.s();!(i=u.n()).done;){var c=i.value;Fi(t,a,c.style),t.beginPath(),s(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}}catch(l){u.e(l)}finally{u.f()}}(t,e,n,r)}var Hi=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).animated=!0,n.options=void 0,n._loop=void 0,n._fullLoop=void 0,n._path=void 0,n._points=void 0,n._segments=void 0,n._decimated=!1,n._pointsUpdated=!1,t&&Object.assign(u(u(n)),t),n}return v(e,Gr),Object(y.a)(e,[{key:"updateControlPoints",value:function(t,e){var n=this,r=n.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!n._pointsUpdated){var i=r.spanGaps?n._loop:n._fullLoop;en(n._points,r,t,i,e),n._pointsUpdated=!0}}},{key:"first",value:function(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}},{key:"last",value:function(){var t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}},{key:"interpolate",value:function(t,e){var n=this.options,r=t[e],i=this.points,o=Tn(this,{property:e,start:r,end:r});if(o.length){var a,s,u=[],c=function(t){return t.stepped?gn:t.tension||"monotone"===t.cubicInterpolationMode?mn:vn}(n);for(a=0,s=o.length;a<s;++a){var l=o[a],f=l.start,h=l.end,d=i[f],p=i[h];if(d!==p){var v=c(d,p,Math.abs((r-d[e])/(p[e]-d[e])),n.stepped);v[e]=t[e],u.push(v)}else u.push(d)}return 1===u.length?u[0]:u}}},{key:"pathSegment",value:function(t,e,n){return zi(this)(t,this,e,n)}},{key:"path",value:function(t,e,n){var r=this,i=r.segments,o=zi(r),a=r._loop;e=e||0,n=n||r.points.length-e;var s,u=An(i);try{for(u.s();!(s=u.n()).done;){a&=o(t,r,s.value,{start:e,end:e+n-1})}}catch(c){u.e(c)}finally{u.f()}return!!a}},{key:"draw",value:function(t,e,n,r){var i=this,o=i.options||{};(i.points||[]).length&&o.borderWidth&&(t.save(),qi(t,i,n,r),t.restore(),i.animated&&(i._pointsUpdated=!1,i._path=void 0))}},{key:"points",set:function(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1},get:function(){return this._points}},{key:"segments",get:function(){return this._segments||(this._segments=function(t,e){var n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];var o=!!t._loop,a=function(t,e,n,r){var i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return{start:i,end:o%=e}}(n,i,o,r),s=a.start,u=a.end;return In(!0===r?[{start:s,end:u,loop:o}]:function(t,e,n,r){var i,o=t.length,a=[],s=e,u=t[e];for(i=e+1;i<=n;++i){var c=t[i%o];c.skip||c.stop?u.skip||(r=!1,a.push({start:e%o,end:(i-1)%o,loop:r}),e=s=c.stop?i:null):(s=i,u.skip&&(e=i)),u=c}return null!==s&&a.push({start:e%o,end:s%o,loop:r}),a}(n,s,u<s?u+i:u,!!t._fullLoop&&0===s&&u===i-1),n,e)}(this,this.options.segment))}}]),e}();function Gi(t,e,n,r){var i=t.options,o=t.getProps([n],r)[n];return Math.abs(e-o)<i.radius+i.hitRadius}Hi.id="line",Hi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Hi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Hi.descriptors={_scriptable:!0,_indexable:function(t){return"borderDash"!==t&&"fill"!==t}};var Ki=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).options=void 0,n.parsed=void 0,n.skip=void 0,n.stop=void 0,t&&Object.assign(u(u(n)),t),n}return v(e,Gr),Object(y.a)(e,[{key:"inRange",value:function(t,e,n){var r=this.options,i=this.getProps(["x","y"],n),o=i.x,a=i.y;return Math.pow(t-o,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(t,e){return Gi(this,t,"x",e)}},{key:"inYRange",value:function(t,e){return Gi(this,t,"y",e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"size",value:function(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}},{key:"draw",value:function(t){var e=this.options;this.skip||e.radius<.1||(t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,he(t,e,this.x,this.y))}},{key:"getRange",value:function(){var t=this.options||{};return t.radius+t.hitRadius}}]),e}();function Xi(t,e){var n,r,i,o,a,s=t.getProps(["x","y","base","width","height"],e),u=s.x,c=s.y,l=s.base,f=s.width,h=s.height;return t.horizontal?(a=h/2,n=Math.min(u,l),r=Math.max(u,l),i=c-a,o=c+a):(n=u-(a=f/2),r=u+a,i=Math.min(c,l),o=Math.max(c,l)),{left:n,top:i,right:r,bottom:o}}function $i(t){var e=t.options.borderSkipped,n={};return e?(n[e=t.horizontal?Yi(e,"left","right",t.base>t.x):Yi(e,"bottom","top",t.base<t.y)]=!0,n):n}function Yi(t,e,n,r){var i,o,a;return r?(a=n,t=Qi(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=Qi(t,e,n),t}function Qi(t,e,n){return"start"===t?e:"end"===t?n:t}function Ji(t,e,n,r){return t?0:Math.max(Math.min(e,r),n)}function Zi(t){var e=Xi(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){var r=t.options.borderWidth,i=$i(t),o=Se(r);return{t:Ji(i.top,o.top,0,n),r:Ji(i.right,o.right,0,e),b:Ji(i.bottom,o.bottom,0,n),l:Ji(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){var r=t.getProps(["enableBorderRadius"]).enableBorderRadius,i=t.options.borderRadius,o=Ce(i),a=Math.min(e,n),s=$i(t),u=r||I(i);return{topLeft:Ji(!u||s.top||s.left,o.topLeft,0,a),topRight:Ji(!u||s.top||s.right,o.topRight,0,a),bottomLeft:Ji(!u||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:Ji(!u||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function to(t,e,n,r){var i=null===e,o=null===n,a=t&&!(i&&o)&&Xi(t,r);return a&&(i||e>=a.left&&e<=a.right)&&(o||n>=a.top&&n<=a.bottom)}function eo(t,e){t.rect(e.x,e.y,e.w,e.h)}Ki.id="point",Ki.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ki.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var no=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).options=void 0,n.horizontal=void 0,n.base=void 0,n.width=void 0,n.height=void 0,t&&Object.assign(u(u(n)),t),n}return v(e,Gr),Object(y.a)(e,[{key:"draw",value:function(t){var e,n=this.options,r=Zi(this),i=r.inner,o=r.outer,a=(e=o.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?be:eo;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,o),t.clip(),a(t,i),t.fillStyle=n.borderColor,t.fill("evenodd")),t.beginPath(),a(t,i),t.fillStyle=n.backgroundColor,t.fill(),t.restore()}},{key:"inRange",value:function(t,e,n){return to(this,t,e,n)}},{key:"inXRange",value:function(t,e){return to(this,t,null,e)}},{key:"inYRange",value:function(t,e){return to(this,null,t,e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","base","horizontal"],t),n=e.x,r=e.y,i=e.base,o=e.horizontal;return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}},{key:"getRange",value:function(t){return"x"===t?this.width/2:this.height/2}}]),e}();no.id="bar",no.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},no.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ro=Object.freeze({__proto__:null,ArcElement:ji,LineElement:Hi,PointElement:Ki,BarElement:no});function io(t){if(t._decimated){var e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function oo(t){t.data.datasets.forEach(function(t){io(t)})}var ao={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(t,e,n){if(n.enabled){var r=t.width;t.data.datasets.forEach(function(e,i){var o=e._data,a=e.indexAxis,u=t.getDatasetMeta(i),c=o||e.data;if("y"!==Ie([a,t.options.indexAxis])&&"line"===u.type){var l=t.scales[u.xAxisID];if(("linear"===l.type||"time"===l.type)&&!t.options.parsing){var f=function(t,e){var n=e.length,r=0,i=t.iScale,o=i.getUserBounds(),a=o.min,s=o.max,u=o.minDefined,c=o.maxDefined;return u&&(r=mt(Ae(e,i.axis,a).lo,0,n-1)),{start:r,count:c?mt(Ae(e,i.axis,s).hi+1,r,n)-r:n-r}}(u,c),h=f.start,d=f.count;if(d<=4*r)io(e);else{var p;switch(O(o)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=function(t,e,n,r,i){var o=i.samples||r;if(o>=n)return t.slice(e,e+n);var a,s,u,c,l,f=[],h=(n-2)/(o-2),d=0,p=e+n-1,v=e;for(f[d++]=t[v],a=0;a<o-2;a++){var g=0,m=0,y=void 0,b=Math.floor((a+1)*h)+1+e,w=Math.min(Math.floor((a+2)*h)+1,n)+e,x=w-b;for(y=b;y<w;y++)g+=t[y].x,m+=t[y].y;g/=x,m/=x;var E=Math.floor(a*h)+1+e,_=Math.floor((a+1)*h)+1+e,k=t[v],S=k.x,C=k.y;for(u=c=-1,y=E;y<_;y++)(c=.5*Math.abs((S-g)*(t[y].y-C)-(S-t[y].x)*(m-C)))>u&&(u=c,s=t[y],l=y);f[d++]=s,v=l}return f[d++]=t[p],f}(c,h,d,r,n);break;case"min-max":p=function(t,e,n,r){var i,o,a,u,c,l,f,h,d,p,v=0,g=0,m=[],y=e+n-1,b=t[e].x,w=t[y].x-b;for(i=e;i<e+n;++i){a=((o=t[i]).x-b)/w*r,u=o.y;var x=0|a;if(x===c)u<d?(d=u,l=i):u>p&&(p=u,f=i),v=(g*v+o.x)/++g;else{var E=i-1;if(!O(l)&&!O(f)){var _=Math.min(l,f),k=Math.max(l,f);_!==h&&_!==E&&m.push(s({},t[_],{x:v})),k!==h&&k!==E&&m.push(s({},t[k],{x:v}))}i>0&&E!==h&&m.push(t[E]),m.push(o),c=x,g=0,d=p=u,l=f=h=i}}return m}(c,h,d,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=p}}}})}else oo(t)},destroy:function(t){oo(t)}};function so(t,e,n){var r=function(t){var e=t.options,n=e.fill,r=P(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(I(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return R(i)&&Math.floor(i)===i?("-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i):["origin","start","end","stack"].indexOf(r)>=0&&r}var uo=function(){function t(e){Object(m.a)(this,t),this.x=e.x,this.y=e.y,this.radius=e.radius}return Object(y.a)(t,[{key:"pathSegment",value:function(t,e,n){var r=this.x,i=this.y,o=this.radius;return e=e||{start:0,end:Q},t.arc(r,i,o,e.end,e.start,!0),!n.bounds}},{key:"interpolate",value:function(t){var e=this.x,n=this.y,r=this.radius,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),t}();function co(t){return(t.scale||{}).getPointPositionForValue?function(t){var e,n,r,i=t.scale,o=t.fill,a=i.options,s=i.getLabels().length,u=[],c=a.reverse?i.max:i.min,l=a.reverse?i.min:i.max;if(r="start"===o?c:"end"===o?l:I(o)?o.value:i.getBaseValue(),a.grid.circular)return n=i.getPointPositionForValue(0,c),new uo({x:n.x,y:n.y,radius:i.getDistanceFromCenterForValue(r)});for(e=0;e<s;++e)u.push(i.getPointPositionForValue(e,r));return u}(t):function(t){var e,n=t.scale,r=void 0===n?{}:n,i=t.fill,o=null;return"start"===i?o=r.bottom:"end"===i?o=r.top:I(i)?o=r.getPixelForValue(i.value):r.getBasePixel&&(o=r.getBasePixel()),R(o)?{x:(e=r.isHorizontal())?o:null,y:e?null:o}:null}(t)}function lo(t){var e=t.chart,n=t.scale,r=t.index,i=t.line,o=[],a=i.segments,s=i.points,u=function(t,e){for(var n=[],r=t.getSortedVisibleDatasetMetas(),i=0;i<r.length;i++){var o=r[i];if(o.index===e)break;fo(o)&&n.unshift(o.dataset)}return n}(e,r);u.push(vo({x:null,y:n.bottom},i));for(var c=0;c<a.length;c++)for(var l=a[c],f=l.start;f<=l.end;f++)ho(o,s[f],u);return new Hi({points:o,options:{}})}var fo=function(t){return"line"===t.type&&!t.hidden};function ho(t,e,n){for(var r=[],i=0;i<n.length;i++){var o=po(n[i],e,"x"),a=o.first,s=o.last,u=o.point;if(!(!u||a&&s))if(a)r.unshift(u);else if(t.push(u),!s)break}t.push.apply(t,r)}function po(t,e,n){var r=t.interpolate(e,n);if(!r)return{};for(var i=r[n],o=t.segments,a=t.points,s=!1,u=!1,c=0;c<o.length;c++){var l=o[c],f=a[l.start][n],h=a[l.end][n];if(i>=f&&i<=h){s=i===f,u=i===h;break}}return{first:s,last:u,point:r}}function vo(t,e){var n=[],r=!1;return T(t)?(r=!0,n=t):n=function(t,e){var n=t||{},r=n.x,i=void 0===r?null:r,o=n.y,a=void 0===o?null:o,s=e.points,u=[];return e.segments.forEach(function(t){var e=s[t.start],n=s[t.end];null!==a?(u.push({x:e.x,y:a}),u.push({x:n.x,y:a})):null!==i&&(u.push({x:i,y:e.y}),u.push({x:i,y:n.y}))}),u}(t,e),n.length?new Hi({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function go(t,e,n){var r,i=t[e].fill,o=[e];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!R(i))return i;if(!(r=t[i]))return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function mo(t,e,n){t.beginPath(),e.path(t),t.lineTo(e.last().x,n),t.lineTo(e.first().x,n),t.closePath(),t.clip()}function yo(t,e,n,r){if(!r){var i=e[t],o=n[t];return"angle"===t&&(i=vt(i),o=vt(o)),{property:t,start:i,end:o}}}function bo(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function wo(t,e,n){var r=e.chart.chartArea,i=r.top,o=r.bottom,a=n||{},s=a.property,u=a.start,c=a.end;"x"===s&&(t.beginPath(),t.rect(u,i,c-u,o-i),t.clip())}function xo(t,e,n,r){var i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}function Eo(t,e){var n,r=e.line,i=e.target,o=e.property,s=e.color,u=e.scale,c=function(t,e,n){var r,i=t.segments,o=t.points,s=e.points,u=[],c=An(i);try{for(c.s();!(r=c.n()).done;){var l=r.value,f=yo(n,o[l.start],o[l.end],l.loop);if(e.segments){var h,d=An(Tn(e,f));try{for(d.s();!(h=d.n()).done;){var p,v=h.value,g=yo(n,s[v.start],s[v.end],v.loop),m=An(On(l,o,g));try{for(m.s();!(p=m.n()).done;){var y=p.value;u.push({source:y,target:v,start:Object(a.a)({},n,bo(f,g,"start",Math.max)),end:Object(a.a)({},n,bo(f,g,"end",Math.min))})}}catch(b){m.e(b)}finally{m.f()}}}catch(b){d.e(b)}finally{d.f()}}else u.push({source:l,target:f,start:o[l.start],end:o[l.end]})}}catch(b){c.e(b)}finally{c.f()}return u}(r,i,o),l=An(c);try{for(l.s();!(n=l.n()).done;){var f=n.value,h=f.source,d=f.target,p=f.start,v=f.end,g=h.style,m=(g=void 0===g?{}:g).backgroundColor,y=void 0===m?s:m;t.save(),t.fillStyle=y,wo(t,u,yo(o,p,v)),t.beginPath();var b=!!r.pathSegment(t,h);b?t.closePath():xo(t,i,v,o);var w=!!i.pathSegment(t,d,{move:b,reverse:!0}),x=b&&w;x||xo(t,i,p,o),t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}catch(E){l.e(E)}finally{l.f()}}function _o(t,e,n){var r=function(t){var e=t.chart,n=t.fill,r=t.line;if(R(n))return function(t,e){var n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return lo(t);var i=co(t);return i instanceof uo?i:vo(i,r)}(e),i=e.line,o=e.scale,a=e.axis,s=i.options,u=s.fill,c=s.backgroundColor,l=u||{},f=l.above,h=void 0===f?c:f,d=l.below,p=void 0===d?c:d;r&&i.points.length&&(pe(t,n),function(t,e){var n=e.line,r=e.target,i=e.above,o=e.below,a=e.area,s=e.scale,u=n._loop?"angle":e.axis;t.save(),"x"===u&&o!==i&&(mo(t,r,a.top),Eo(t,{line:n,target:r,color:i,scale:s,property:u}),t.restore(),t.save(),mo(t,r,a.bottom)),Eo(t,{line:n,target:r,color:o,scale:s,property:u}),t.restore()}(t,{line:i,target:r,above:h,below:p,area:n,scale:o,axis:a}),ve(t))}var ko={id:"filler",afterDatasetsUpdate:function(t,e,n){var r,i,o,a,s=(t.data.datasets||[]).length,u=[];for(i=0;i<s;++i)a=null,(o=(r=t.getDatasetMeta(i)).dataset)&&o.options&&o instanceof Hi&&(a={visible:t.isDatasetVisible(i),index:i,fill:so(o,i,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=a,u.push(a);for(i=0;i<s;++i)(a=u[i])&&!1!==a.fill&&(a.fill=go(u,i,n.propagate))},beforeDraw:function(t,e,n){for(var r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),o=t.chartArea,a=i.length-1;a>=0;--a){var s=i[a].$filler;s&&(s.line.updateControlPoints(o,s.axis),r&&_o(t.ctx,s,o))}},beforeDatasetsDraw:function(t,e,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=t.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var o=r[i].$filler;o&&_o(t.ctx,o,t.chartArea)}},beforeDatasetDraw:function(t,e,n){var r=e.meta.$filler;r&&!1!==r.fill&&"beforeDatasetDraw"===n.drawTime&&_o(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},So=function(t,e){var n=t.boxHeight,r=void 0===n?e:n,i=t.boxWidth,o=void 0===i?e:i;return t.usePointStyle&&(r=Math.min(r,e),o=Math.min(o,e)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(e,r)}},Co=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this)))._added=!1,n.legendHitBoxes=[],n._hoveredItem=null,n.doughnutMode=!1,n.chart=t.chart,n.options=t.options,n.ctx=t.ctx,n.legendItems=void 0,n.columnSizes=void 0,n.lineWidths=void 0,n.maxHeight=void 0,n.maxWidth=void 0,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.height=void 0,n.width=void 0,n._margins=void 0,n.position=void 0,n.weight=void 0,n.fullSize=void 0,n}return v(e,Gr),Object(y.a)(e,[{key:"update",value:function(t,e,n){var r=this;r.maxWidth=t,r.maxHeight=e,r._margins=n,r.setDimensions(),r.buildLabels(),r.fit()}},{key:"setDimensions",value:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height)}},{key:"buildLabels",value:function(){var t=this,e=t.options.labels||{},n=D(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),e.sort&&(n=n.sort(function(n,r){return e.sort(n,r,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n}},{key:"fit",value:function(){var t=this,e=t.options,n=t.ctx;if(e.display){var r,i,o=e.labels,a=Te(o.font),s=a.size,u=t._computeTitleHeight(),c=So(o,s),l=c.boxWidth,f=c.itemHeight;n.font=a.string,t.isHorizontal()?(r=t.maxWidth,i=t._fitRows(u,s,l,f)+10):(i=t.maxHeight,r=t._fitCols(u,s,l,f)+10),t.width=Math.min(r,e.maxWidth||t.maxWidth),t.height=Math.min(i,e.maxHeight||t.maxHeight)}else t.width=t.height=0}},{key:"_fitRows",value:function(t,e,n,r){var i=this,o=i.ctx,a=i.maxWidth,s=i.options.labels.padding,u=i.legendHitBoxes=[],c=i.lineWidths=[0],l=r+s,f=t;o.textAlign="left",o.textBaseline="middle";var h=-1,d=-l;return i.legendItems.forEach(function(t,i){var p=n+e/2+o.measureText(t.text).width;(0===i||c[c.length-1]+p+2*s>a)&&(f+=l,c[c.length-(i>0?0:1)]=0,d+=l,h++),u[i]={left:0,top:d,row:h,width:p,height:r},c[c.length-1]+=p+s}),f}},{key:"_fitCols",value:function(t,e,n,r){var i=this,o=i.ctx,a=i.maxHeight,s=i.options.labels.padding,u=i.legendHitBoxes=[],c=i.columnSizes=[],l=a-t,f=s,h=0,d=0,p=0,v=0,g=0;return i.legendItems.forEach(function(t,i){var a=n+e/2+o.measureText(t.text).width;i>0&&d+e+2*s>l&&(f+=h+s,c.push({width:h,height:d}),p+=h+s,g++,v=0,h=d=0),h=Math.max(h,a),d+=e+s,u[i]={left:p,top:v,col:g,width:a,height:r},v+=r+s}),f+=h,c.push({width:h,height:d}),f}},{key:"adjustHitBoxes",value:function(){var t=this;if(t.options.display){var e=t._computeTitleHeight(),n=t.legendHitBoxes,r=t.options,i=r.align,o=r.labels.padding;if(this.isHorizontal()){var a,s=0,u=k(i,t.left+o,t.right-t.lineWidths[s]),c=An(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;s!==l.row&&(s=l.row,u=k(i,t.left+o,t.right-t.lineWidths[s])),l.top+=t.top+e+o,l.left=u,u+=l.width+o}}catch(g){c.e(g)}finally{c.f()}}else{var f,h=0,d=k(i,t.top+e+o,t.bottom-t.columnSizes[h].height),p=An(n);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.col!==h&&(h=v.col,d=k(i,t.top+e+o,t.bottom-t.columnSizes[h].height)),v.top=d,v.left+=t.left+o,d+=v.height+o}}catch(g){p.e(g)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var t=this.ctx;pe(t,this),this._draw(),ve(t)}}},{key:"_draw",value:function(){var t,e=this,n=e.options,r=e.columnSizes,i=e.lineWidths,o=e.ctx,a=n.align,s=n.labels,u=se.color,c=En(n.rtl,e.left,e.width),l=Te(s.font),f=s.color,h=s.padding,d=l.size,p=d/2;e.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=l.string;var v=So(s,d),g=v.boxWidth,m=v.boxHeight,y=v.itemHeight,b=e.isHorizontal(),w=this._computeTitleHeight();t=b?{x:k(a,e.left+h,e.right-i[0]),y:e.top+h+w,line:0}:{x:e.left+h,y:k(a,e.top+w+h,e.bottom-r[0].height),line:0},_n(e.ctx,n.textDirection);var x=y+h;e.legendItems.forEach(function(n,v){o.strokeStyle=n.fontColor||f,o.fillStyle=n.fontColor||f;var E=o.measureText(n.text).width,_=c.textAlign(n.textAlign||(n.textAlign=s.textAlign)),S=g+d/2+E,C=t.x,O=t.y;c.setWidth(e.width),b?v>0&&C+S+h>e.right&&(O=t.y+=x,t.line++,C=t.x=k(a,e.left+h,e.right-i[t.line])):v>0&&O+x>e.bottom&&(C=t.x=C+r[t.line].width+h,t.line++,O=t.y=k(a,e.top+w+h,e.bottom-r[t.line].height)),function(t,e,n){if(!(isNaN(g)||g<=0||isNaN(m)||m<0)){o.save();var r=P(n.lineWidth,1);if(o.fillStyle=P(n.fillStyle,u),o.lineCap=P(n.lineCap,"butt"),o.lineDashOffset=P(n.lineDashOffset,0),o.lineJoin=P(n.lineJoin,"miter"),o.lineWidth=r,o.strokeStyle=P(n.strokeStyle,u),o.setLineDash(P(n.lineDash,[])),s.usePointStyle){var i={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},a=c.xPlus(t,g/2);he(o,i,a,e+p)}else{var l=e+Math.max((d-m)/2,0),f=c.leftForLtr(t,g),h=Ce(n.borderRadius);o.beginPath(),Object.values(h).some(function(t){return 0!==t})?be(o,{x:f,y:l,w:g,h:m,radius:h}):o.rect(f,l,g,m),o.fill(),0!==r&&o.stroke()}o.restore()}}(c.x(C),O,n),C=function(t,e,n){return"right"===t?n:"center"===t?(e+n)/2:e}(_,C+g+p,e.right),function(t,e,n){ye(o,n.text,t,e+y/2,l,{strikethrough:n.hidden,textAlign:n.textAlign})}(c.x(C),O,n),b?t.x+=S+h:t.y+=x}),kn(e.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var t=this,e=t.options,n=e.title,r=Te(n.font),i=Oe(n.padding);if(n.display){var a,s=En(e.rtl,t.left,t.width),u=t.ctx,c=n.position,l=r.size/2,f=i.top+l,h=t.left,d=t.width;if(this.isHorizontal())d=Math.max.apply(Math,o(t.lineWidths)),a=t.top+f,h=k(e.align,h,t.right-d);else{var p=t.columnSizes.reduce(function(t,e){return Math.max(t,e.height)},0);a=f+k(e.align,t.top,t.bottom-p-e.labels.padding-t._computeTitleHeight())}var v=k(c,h,h+d);u.textAlign=s.textAlign(_(c)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=r.string,ye(u,n.text,v,a,r)}}},{key:"_computeTitleHeight",value:function(){var t=this.options.title,e=Te(t.font),n=Oe(t.padding);return t.display?e.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(t,e){var n,r,i,o=this;if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)for(i=o.legendHitBoxes,n=0;n<i.length;++n)if(t>=(r=i[n]).left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height)return o.legendItems[n];return null}},{key:"handleEvent",value:function(t){var e=this,n=e.options;if(function(t,e){if("mousemove"===t&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,n)){var r,i,o=e._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){var a=e._hoveredItem,s=(i=o,null!==(r=a)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);a&&!s&&D(n.onLeave,[t,a,e],e),e._hoveredItem=o,o&&!s&&D(n.onHover,[t,o,e],e)}else o&&D(n.onClick,[t,o,e],e)}}}]),e}();var Oo={id:"legend",_element:Co,start:function(t,e,n){var r=t.legend=new Co({ctx:t.ctx,options:n,chart:t});Ir.configure(t,r,n),Ir.addBox(t,r)},stop:function(t){Ir.removeBox(t,t.legend),delete t.legend},beforeUpdate:function(t,e,n){var r=t.legend;Ir.configure(t,r,n),r.options=n},afterUpdate:function(t){var e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent:function(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(t,e,n){var r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(t){return t.chart.options.color},boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,o=n.textAlign,a=n.color;return t._getSortedDatasetMetas().map(function(t){var n=t.controller.getStyle(r?0:void 0),s=Oe(n.borderWidth);return{text:e[t.index].label,fillStyle:n.backgroundColor,fontColor:a,hidden:!t.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:o||n.textAlign,borderRadius:0,datasetIndex:t.index}},this)}},title:{color:function(t){return t.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(t){return!t.startsWith("on")},labels:{_scriptable:function(t){return!["generateLabels","filter","sort"].includes(t)}}}},To=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).chart=t.chart,n.options=t.options,n.ctx=t.ctx,n._padding=void 0,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.width=void 0,n.height=void 0,n.position=void 0,n.weight=void 0,n.fullSize=void 0,n}return v(e,Gr),Object(y.a)(e,[{key:"update",value:function(t,e){var n=this,r=n.options;if(n.left=0,n.top=0,r.display){n.width=n.right=t,n.height=n.bottom=e;var i=T(r.text)?r.text.length:1;n._padding=Oe(r.padding);var o=i*Te(r.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=o:n.width=o}else n.width=n.height=n.right=n.bottom=0}},{key:"isHorizontal",value:function(){var t=this.options.position;return"top"===t||"bottom"===t}},{key:"_drawArgs",value:function(t){var e,n,r,i=this.top,o=this.left,a=this.bottom,s=this.right,u=this.options,c=u.align,l=0;return this.isHorizontal()?(n=k(c,o,s),r=i+t,e=s-o):("left"===u.position?(n=o+t,r=k(c,a,i),l=-.5*Y):(n=s-t,r=k(c,i,a),l=.5*Y),e=a-i),{titleX:n,titleY:r,maxWidth:e,rotation:l}}},{key:"draw",value:function(){var t=this.ctx,e=this.options;if(e.display){var n=Te(e.font),r=n.lineHeight/2+this._padding.top,i=this._drawArgs(r),o=i.titleX,a=i.titleY,s=i.maxWidth,u=i.rotation;ye(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:u,textAlign:_(e.align),textBaseline:"middle",translation:[o,a]})}}}]),e}();var Io={id:"title",_element:To,start:function(t,e,n){!function(t,e){var n=new To({ctx:t.ctx,options:e,chart:t});Ir.configure(t,n,e),Ir.addBox(t,n),t.titleBlock=n}(t,n)},stop:function(t){var e=t.titleBlock;Ir.removeBox(t,e),delete t.titleBlock},beforeUpdate:function(t,e,n){var r=t.titleBlock;Ir.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ro={average:function(t){if(!t.length)return!1;var e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e].element;if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:r/o,y:i/o}},nearest:function(t,e){if(!t.length)return!1;var n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){var u=t[n].element;if(u&&u.hasValue()){var c=dt(e,u.getCenterPoint());c<s&&(s=c,i=u)}}if(i){var l=i.tooltipPosition();o=l.x,a=l.y}return{x:o,y:a}}};function Ao(t,e){return e&&(T(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Po(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function No(t,e){var n=e.element,r=e.datasetIndex,i=e.index,o=t.getDatasetMeta(r).controller,a=o.getLabelAndValue(i),s=a.label,u=a.value;return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Do(t,e){var n=t._chart.ctx,r=t.body,i=t.footer,o=t.title,a=e.boxWidth,s=e.boxHeight,u=Te(e.bodyFont),c=Te(e.titleFont),l=Te(e.footerFont),f=o.length,h=i.length,d=r.length,p=Oe(e.padding),v=p.height,g=0,m=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);(m+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),m)&&(v+=d*(e.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(m-d)*u.lineHeight+(m-1)*e.bodySpacing);h&&(v+=e.footerMarginTop+h*l.lineHeight+(h-1)*e.footerSpacing);var y=0,b=function(t){g=Math.max(g,n.measureText(t).width+y)};return n.save(),n.font=c.string,M(t.title,b),n.font=u.string,M(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?a+2:0,M(r,function(t){M(t.before,b),M(t.lines,b),M(t.after,b)}),y=0,n.font=l.string,M(t.footer,b),n.restore(),{width:g+=p.width,height:v}}function Mo(t,e,n,r){var i=n.x,o=n.width,a=t.width,s=t.chartArea,u=s.left,c=s.right,l="center";return"center"===r?l=i<=(u+c)/2?"left":"right":i<=o/2?l="left":i>=a-o/2&&(l="right"),function(t,e,n,r){var i=r.x,o=r.width,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(l,t,e,n)&&(l="center"),l}function jo(t,e,n){var r=e.yAlign||function(t,e){var n=e.y,r=e.height;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:e.xAlign||Mo(t,e,n,r),yAlign:r}}function Fo(t,e,n,r){var i=t.caretSize,o=t.caretPadding,a=t.cornerRadius,s=n.xAlign,u=n.yAlign,c=i+o,l=a+o,f=function(t,e){var n=t.x,r=t.width;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s),h=function(t,e,n){var r=t.y,i=t.height;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,u,c);return"center"===u?"left"===s?f+=c:"right"===s&&(f-=c):"left"===s?f-=l:"right"===s&&(f+=l),{x:mt(f,0,r.width-e.width),y:mt(h,0,r.height-e.height)}}function Lo(t,e,n){var r=Oe(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function Bo(t){return Ao([],Po(t))}function Vo(t,e){var n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var Uo=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this))).opacity=0,n._active=[],n._chart=t._chart,n._eventPosition=void 0,n._size=void 0,n._cachedAnimations=void 0,n._tooltipItems=[],n.$animations=void 0,n.$context=void 0,n.options=t.options,n.dataPoints=void 0,n.title=void 0,n.beforeBody=void 0,n.body=void 0,n.afterBody=void 0,n.footer=void 0,n.xAlign=void 0,n.yAlign=void 0,n.x=void 0,n.y=void 0,n.height=void 0,n.width=void 0,n.caretX=void 0,n.caretY=void 0,n.labelColors=void 0,n.labelPointStyles=void 0,n.labelTextColors=void 0,n}return v(e,Gr),Object(y.a)(e,[{key:"initialize",value:function(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var t=this,e=t._cachedAnimations;if(e)return e;var n=t._chart,r=t.options.setContext(t.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new Fn(t._chart,i);return i._cacheable&&(t._cachedAnimations=Object.freeze(o)),o}},{key:"getContext",value:function(){var t,e,n,r=this;return r.$context||(r.$context=(t=r._chart.getContext(),e=r,n=r._tooltipItems,Object.assign(Object.create(t),{tooltip:e,tooltipItems:n,type:"tooltip"})))}},{key:"getTitle",value:function(t,e){var n=e.callbacks,r=n.beforeTitle.apply(this,[t]),i=n.title.apply(this,[t]),o=n.afterTitle.apply(this,[t]),a=[];return a=Ao(a,Po(r)),a=Ao(a,Po(i)),a=Ao(a,Po(o))}},{key:"getBeforeBody",value:function(t,e){return Bo(e.callbacks.beforeBody.apply(this,[t]))}},{key:"getBody",value:function(t,e){var n=this,r=e.callbacks,i=[];return M(t,function(t){var e={before:[],lines:[],after:[]},o=Vo(r,t);Ao(e.before,Po(o.beforeLabel.call(n,t))),Ao(e.lines,o.label.call(n,t)),Ao(e.after,Po(o.afterLabel.call(n,t))),i.push(e)}),i}},{key:"getAfterBody",value:function(t,e){return Bo(e.callbacks.afterBody.apply(this,[t]))}},{key:"getFooter",value:function(t,e){var n=e.callbacks,r=n.beforeFooter.apply(this,[t]),i=n.footer.apply(this,[t]),o=n.afterFooter.apply(this,[t]),a=[];return a=Ao(a,Po(r)),a=Ao(a,Po(i)),a=Ao(a,Po(o))}},{key:"_createItems",value:function(t){var e,n,r=this,i=r._active,o=r._chart.data,a=[],s=[],u=[],c=[];for(e=0,n=i.length;e<n;++e)c.push(No(r._chart,i[e]));return t.filter&&(c=c.filter(function(e,n,r){return t.filter(e,n,r,o)})),t.itemSort&&(c=c.sort(function(e,n){return t.itemSort(e,n,o)})),M(c,function(e){var n=Vo(t.callbacks,e);a.push(n.labelColor.call(r,e)),s.push(n.labelPointStyle.call(r,e)),u.push(n.labelTextColor.call(r,e))}),r.labelColors=a,r.labelPointStyles=s,r.labelTextColors=u,r.dataPoints=c,c}},{key:"update",value:function(t,e){var n,r=this,i=r.options.setContext(r.getContext()),o=r._active,a=[];if(o.length){var s=Ro[i.position].call(r,o,r._eventPosition);a=r._createItems(i),r.title=r.getTitle(a,i),r.beforeBody=r.getBeforeBody(a,i),r.body=r.getBody(a,i),r.afterBody=r.getAfterBody(a,i),r.footer=r.getFooter(a,i);var u=r._size=Do(r,i),c=Object.assign({},s,u),l=jo(r._chart,i,c),f=Fo(i,c,l,r._chart);r.xAlign=l.xAlign,r.yAlign=l.yAlign,n={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:s.x,caretY:s.y}}else 0!==r.opacity&&(n={opacity:0});r._tooltipItems=a,r.$context=void 0,n&&r._resolveAnimations().update(r,n),t&&i.external&&i.external.call(r,{chart:r._chart,tooltip:r,replay:e})}},{key:"drawCaret",value:function(t,e,n,r){var i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(t,e,n){var r,i,o,a,s,u,c=this.xAlign,l=this.yAlign,f=n.cornerRadius,h=n.caretSize,d=t.x,p=t.y,v=e.width,g=e.height;return"center"===l?(s=p+g/2,"left"===c?(i=(r=d)-h,a=s+h,u=s-h):(i=(r=d+v)+h,a=s-h,u=s+h),o=r):(i="left"===c?d+f+h:"right"===c?d+v-f-h:this.caretX,"top"===l?(s=(a=p)-h,r=i-h,o=i+h):(s=(a=p+g)+h,r=i+h,o=i-h),u=a),{x1:r,x2:i,x3:o,y1:a,y2:s,y3:u}}},{key:"drawTitle",value:function(t,e,n){var r,i,o,a=this.title,s=a.length;if(s){var u=En(n.rtl,this.x,this.width);for(t.x=Lo(this,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",r=Te(n.titleFont),i=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,o=0;o<s;++o)e.fillText(a[o],u.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i,o+1===s&&(t.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(t,e,n,r,i){var o=this.labelColors[n],a=this.labelPointStyles[n],s=i.boxHeight,u=i.boxWidth,c=Te(i.bodyFont),l=Lo(this,"left",i),f=r.x(l),h=s<c.lineHeight?(c.lineHeight-s)/2:0,d=e.y+h;if(i.usePointStyle){var p={radius:Math.min(u,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(f,u)+u/2,g=d+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,he(t,p,v,g),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,he(t,p,v,g)}else{t.lineWidth=o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;var m=r.leftForLtr(f,u),y=r.leftForLtr(r.xPlus(f,1),u-2),b=Ce(o.borderRadius);Object.values(b).some(function(t){return 0!==t})?(t.beginPath(),t.fillStyle=i.multiKeyBackground,be(t,{x:m,y:d,w:u,h:s,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),be(t,{x:y,y:d+1,w:u-2,h:s-2,radius:b}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(m,d,u,s),t.strokeRect(m,d,u,s),t.fillStyle=o.backgroundColor,t.fillRect(y,d+1,u-2,s-2))}t.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(t,e,n){var r,i,o,a,s,u,c,l=this,f=l.body,h=n.bodySpacing,d=n.bodyAlign,p=n.displayColors,v=n.boxHeight,g=n.boxWidth,m=Te(n.bodyFont),y=m.lineHeight,b=0,w=En(n.rtl,l.x,l.width),x=function(n){e.fillText(n,w.x(t.x+b),t.y+y/2),t.y+=y+h},E=w.textAlign(d);for(e.textAlign=d,e.textBaseline="middle",e.font=m.string,t.x=Lo(l,E,n),e.fillStyle=n.bodyColor,M(l.beforeBody,x),b=p&&"right"!==E?"center"===d?g/2+1:g+2:0,a=0,u=f.length;a<u;++a){for(r=f[a],i=l.labelTextColors[a],e.fillStyle=i,M(r.before,x),o=r.lines,p&&o.length&&(l._drawColorBox(e,t,a,w,n),y=Math.max(m.lineHeight,v)),s=0,c=o.length;s<c;++s)x(o[s]),y=m.lineHeight;M(r.after,x)}b=0,y=m.lineHeight,M(l.afterBody,x),t.y-=h}},{key:"drawFooter",value:function(t,e,n){var r,i,o=this.footer,a=o.length;if(a){var s=En(n.rtl,this.x,this.width);for(t.x=Lo(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",r=Te(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,i=0;i<a;++i)e.fillText(o[i],s.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(t,e,n,r){var i=this.xAlign,o=this.yAlign,a=t.x,s=t.y,u=n.width,c=n.height,l=r.cornerRadius;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+l,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+u-l,s),e.quadraticCurveTo(a+u,s,a+u,s+l),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+u,s+c-l),e.quadraticCurveTo(a+u,s+c,a+u-l,s+c),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+l,s+c),e.quadraticCurveTo(a,s+c,a,s+c-l),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+l),e.quadraticCurveTo(a,s,a+l,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}},{key:"_updateAnimationTarget",value:function(t){var e=this,n=e._chart,r=e.$animations,i=r&&r.x,o=r&&r.y;if(i||o){var a=Ro[t.position].call(e,e._active,e._eventPosition);if(!a)return;var s=e._size=Do(e,t),u=Object.assign({},a,e._size),c=jo(n,t,u),l=Fo(t,u,c,n);i._to===l.x&&o._to===l.y||(e.xAlign=c.xAlign,e.yAlign=c.yAlign,e.width=s.width,e.height=s.height,e.caretX=a.x,e.caretY=a.y,e._resolveAnimations().update(e,l))}}},{key:"draw",value:function(t){var e=this,n=e.options.setContext(e.getContext()),r=e.opacity;if(r){e._updateAnimationTarget(n);var i={width:e.width,height:e.height},o={x:e.x,y:e.y};r=Math.abs(r)<.001?0:r;var a=Oe(n.padding),s=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;n.enabled&&s&&(t.save(),t.globalAlpha=r,e.drawBackground(o,t,i,n),_n(t,n.textDirection),o.y+=a.top,e.drawTitle(o,t,n),e.drawBody(o,t,n),e.drawFooter(o,t,n),kn(t,n.textDirection),t.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t,e){var n=this,r=n._active,i=t.map(function(t){var e=t.datasetIndex,r=t.index,i=n._chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[r],index:r}}),o=!j(r,i),a=n._positionChanged(i,e);(o||a)&&(n._active=i,n._eventPosition=e,n.update(!0))}},{key:"handleEvent",value:function(t,e){var n,r=this,i=r.options,o=r._active||[],a=[];"mouseout"!==t.type&&(a=r._chart.getElementsAtEventForMode(t,i.mode,i,e),i.reverse&&a.reverse());var s=r._positionChanged(a,t);return(n=e||!j(a,o)||s)&&(r._active=a,(i.enabled||i.external)&&(r._eventPosition={x:t.x,y:t.y},r.update(!0,e))),n}},{key:"_positionChanged",value:function(t,e){var n=this.caretX,r=this.caretY,i=this.options,o=Ro[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}]),e}();Uo.positioners=Ro;var zo={id:"tooltip",_element:Uo,positioners:Ro,afterInit:function(t,e,n){n&&(t.tooltip=new Uo({_chart:t,options:n}))},beforeUpdate:function(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset:function(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw:function(t){var e=t.tooltip,n={tooltip:e};!1!==t.notifyPlugins("beforeTooltipDraw",n)&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent:function(t,e){if(t.tooltip){var n=e.replay;t.tooltip.handleEvent(e.event,n)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(t,e){return e.bodyFont.size},boxWidth:function(t,e){return e.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:S,title:function(t){if(t.length>0){var e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:S,beforeBody:S,beforeLabel:S,label:function(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;var e=t.dataset.label||"";e&&(e+=": ");var n=t.formattedValue;return O(n)||(e+=n),e},labelColor:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:S,afterBody:S,beforeFooter:S,footer:S,afterFooter:S}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(t){return"filter"!==t&&"itemSort"!==t&&"external"!==t},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Wo=Object.freeze({__proto__:null,Decimation:ao,Filler:ko,Legend:Oo,Title:Io,Tooltip:zo}),qo=function(t,e,n){return"string"===typeof e?t.push(e)-1:isNaN(e)?null:n};var Ho=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this,t)))._startValue=void 0,n._valueRange=0,n}return v(e,ii),Object(y.a)(e,[{key:"parse",value:function(t,e){if(O(t))return null;var n=this.getLabels();return function(t,e){return null===t?null:mt(Math.round(t),0,e)}(e=isFinite(e)&&n[e]===t?e:function(t,e,n){var r=t.indexOf(e);return-1===r?qo(t,e,n):r!==t.lastIndexOf(e)?n:r}(n,t,P(e,t)),n.length-1)}},{key:"determineDataLimits",value:function(){var t=this,e=t.getUserBounds(),n=e.minDefined,r=e.maxDefined,i=t.getMinMax(!0),o=i.min,a=i.max;"ticks"===t.options.bounds&&(n||(o=0),r||(a=t.getLabels().length-1)),t.min=o,t.max=a}},{key:"buildTicks",value:function(){var t=this,e=t.min,n=t.max,r=t.options.offset,i=[],o=t.getLabels();o=0===e&&n===o.length-1?o:o.slice(e,n+1),t._valueRange=Math.max(o.length-(r?0:1),1),t._startValue=t.min-(r?.5:0);for(var a=e;a<=n;a++)i.push({value:a});return i}},{key:"getLabelForValue",value:function(t){var e=this.getLabels();return t>=0&&t<e.length?e[t]:t}},{key:"configure",value:function(){d(h(e.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getValueForPixel",value:function(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),e}();function Go(t,e){var n,r,i,o,a=[],s=t.bounds,u=t.step,c=t.min,l=t.max,f=t.precision,h=t.count,d=t.maxTicks,p=t.maxDigits,v=t.includeBounds,g=u||1,m=d-1,y=e.min,b=e.max,w=!O(c),x=!O(l),E=!O(h),_=(b-y)/(p+1),k=at((b-y)/m/g)*g;if(k<1e-14&&!w&&!x)return[{value:y},{value:b}];(o=Math.ceil(b/k)-Math.floor(y/k))>m&&(k=at(o*k/m/g)*g),O(f)||(n=Math.pow(10,f),k=Math.ceil(k*n)/n),"ticks"===s?(r=Math.floor(y/k)*k,i=Math.ceil(b/k)*k):(r=y,i=b),w&&x&&u&&function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t}((l-c)/u,k/1e3)?(k=(l-c)/(o=Math.min((l-c)/k,d)),r=c,i=l):E?k=((i=x?l:i)-(r=w?c:r))/(o=h-1):o=ut(o=(i-r)/k,Math.round(o),k/1e3)?Math.round(o):Math.ceil(o);var S=Math.max(ht(k),ht(r));n=Math.pow(10,O(f)?S:f),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var C=0;for(w&&(v&&r!==c?(a.push({value:c}),r<c&&C++,ut(Math.round((r+C*k)*n)/n,c,Ko(c,_,t))&&C++):r<c&&C++);C<o;++C)a.push({value:Math.round((r+C*k)*n)/n});return x&&v&&i!==l?ut(a[a.length-1].value,l,Ko(l,_,t))?a[a.length-1].value=l:a.push({value:l}):x&&i!==l||a.push({value:i}),a}function Ko(t,e,n){var r=n.horizontal,i=lt(n.minRotation),o=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}Ho.id="category",Ho.defaults={ticks:{callback:Ho.prototype.getLabelForValue}};var Xo=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this,t))).start=void 0,n.end=void 0,n._startValue=void 0,n._endValue=void 0,n._valueRange=0,n}return v(e,ii),Object(y.a)(e,[{key:"parse",value:function(t,e){return O(t)?null:("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}},{key:"handleTickRangeOptions",value:function(){var t=this,e=t.options.beginAtZero,n=t.getUserBounds(),r=n.minDefined,i=n.maxDefined,o=t.min,a=t.max,s=function(t){return o=r?o:t},u=function(t){return a=i?a:t};if(e){var c=ot(o),l=ot(a);c<0&&l<0?u(0):c>0&&l>0&&s(0)}o===a&&(u(a+1),e||s(o-1)),t.min=o,t.max=a}},{key:"getTickLimit",value:function(){var t,e=this.options.ticks,n=e.maxTicksLimit,r=e.stepSize;return r?t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1:(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=e.ticks,r=t.getTickLimit(),i=Go({maxTicks:r=Math.max(2,r),bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:t._maxDigits(),horizontal:t.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},t._range||t);return"ticks"===e.bounds&&ct(i,t,"value"),e.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i}},{key:"configure",value:function(){var t=this,n=t.ticks,r=t.min,i=t.max;if(d(h(e.prototype),"configure",this).call(this),t.options.offset&&n.length){var o=(i-r)/Math.max(n.length-1,1)/2;r-=o,i+=o}t._startValue=r,t._endValue=i,t._valueRange=i-r}},{key:"getLabelForValue",value:function(t){return bn(t,this.chart.options.locale)}}]),e}(),$o=function(t){function e(){return Object(m.a)(this,e),f(this,h(e).apply(this,arguments))}return v(e,Xo),Object(y.a)(e,[{key:"determineDataLimits",value:function(){var t=this.getMinMax(!0),e=t.min,n=t.max;this.min=R(e)?e:0,this.max=R(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var t=this,e=t.isHorizontal(),n=e?t.width:t.height,r=lt(t.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=t._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}},{key:"getPixelForValue",value:function(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}]),e}();function Yo(t){return 1===t/Math.pow(10,Math.floor(it(t)))}$o.id="linear",$o.defaults={ticks:{callback:Xr.formatters.numeric}};var Qo=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this,t))).start=void 0,n.end=void 0,n._startValue=void 0,n._valueRange=0,n}return v(e,ii),Object(y.a)(e,[{key:"parse",value:function(t,e){var n=Xo.prototype.parse.apply(this,[t,e]);if(0!==n)return R(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var t=this,e=t.getMinMax(!0),n=e.min,r=e.max;t.min=R(n)?Math.max(0,n):null,t.max=R(r)?Math.max(0,r):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var t=this,e=t.getUserBounds(),n=e.minDefined,r=e.maxDefined,i=t.min,o=t.max,a=function(t){return i=n?i:t},s=function(t){return o=r?o:t},u=function(t,e){return Math.pow(10,Math.floor(it(t))+e)};i===o&&(i<=0?(a(1),s(10)):(a(u(i,-1)),s(u(o,1)))),i<=0&&a(u(o,-1)),o<=0&&s(u(i,1)),t._zero&&t.min!==t._suggestedMin&&i===u(t.min,0)&&a(u(i,-1)),t.min=i,t.max=o}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=function(t,e){var n=Math.floor(it(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[],o=A(t.min,Math.pow(10,Math.floor(it(e.min)))),a=Math.floor(it(o)),s=Math.floor(o/Math.pow(10,a)),u=a<0?Math.pow(10,Math.abs(a)):1;do{i.push({value:o,major:Yo(o)}),10===++s&&(s=1,u=++a>=0?1:u),o=Math.round(s*Math.pow(10,a)*u)/u}while(a<n||a===n&&s<r);var c=A(t.max,o);return i.push({value:c,major:Yo(o)}),i}({min:t._userMin,max:t._userMax},t);return"ticks"===e.bounds&&ct(n,t,"value"),e.reverse?(n.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n}},{key:"getLabelForValue",value:function(t){return void 0===t?"0":bn(t,this.chart.options.locale)}},{key:"configure",value:function(){var t=this.min;d(h(e.prototype),"configure",this).call(this),this._startValue=it(t),this._valueRange=it(this.max)-it(t)}},{key:"getPixelForValue",value:function(t){var e=this;return void 0!==t&&0!==t||(t=e.min),null===t||isNaN(t)?NaN:e.getPixelForDecimal(t===e.min?0:(it(t)-e._startValue)/e._valueRange)}},{key:"getValueForPixel",value:function(t){var e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}]),e}();function Jo(t){var e=t.ticks;if(e.display&&t.display){var n=Oe(e.backdropPadding);return P(e.font&&e.font.size,se.font.size)+n.height}return 0}function Zo(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function ta(t){return 0===t||180===t?"center":t<180?"left":"right"}function ea(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function na(t,e,n,r){var i=t.ctx;if(n)i.arc(t.xCenter,t.yCenter,e,0,Q);else{var o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(var a=1;a<r;a++)o=t.getPointPosition(a,e),i.lineTo(o.x,o.y)}}function ra(t){return st(t)?t:0}Qo.id="logarithmic",Qo.defaults={ticks:{callback:Xr.formatters.logarithmic,major:{enabled:!0}}};var ia=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this,t))).xCenter=void 0,n.yCenter=void 0,n.drawingArea=void 0,n._pointLabels=[],n._pointLabelItems=[],n}return v(e,Xo),Object(y.a)(e,[{key:"setDimensions",value:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Jo(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}},{key:"determineDataLimits",value:function(){var t=this.getMinMax(!1),e=t.min,n=t.max;this.min=R(e)&&!isNaN(e)?e:0,this.max=R(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Jo(this.options))}},{key:"generateTickLabels",value:function(t){var e=this;Xo.prototype.generateTickLabels.call(e,t),e._pointLabels=e.getLabels().map(function(t,n){var r=D(e.options.pointLabels.callback,[t,n],e);return r||0===r?r:""})}},{key:"fit",value:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,r,i,o,a,s={l:0,r:t.width,t:0,b:t.height-t.paddingTop},u={},c=[],l=[],f=t.getLabels().length;for(e=0;e<f;e++){var h=t.options.pointLabels.setContext(t.getContext(e));l[e]=h.padding,r=t.getPointPosition(e,t.drawingArea+l[e]);var d=Te(h.font);t.ctx.font=d.string,i=t.ctx,o=d.lineHeight,n=T(a=t._pointLabels[e])?{w:ce(i,i.font,a),h:a.length*o}:{w:i.measureText(a).width,h:o},c[e]=n;var p=t.getIndexAngle(e),v=ft(p),g=Zo(v,r.x,n.w,0,180),m=Zo(v,r.y,n.h,90,270);g.start<s.l&&(s.l=g.start,u.l=p),g.end>s.r&&(s.r=g.end,u.r=p),m.start<s.t&&(s.t=m.start,u.t=p),m.end>s.b&&(s.b=m.end,u.b=p)}t._setReductions(t.drawingArea,s,u),t._pointLabelItems=[];var y=t.options,b=Jo(y),w=t.getDistanceFromCenterForValue(y.ticks.reverse?t.min:t.max);for(e=0;e<f;e++){var x=0===e?b/2:0,E=t.getPointPosition(e,w+x+l[e]),_=ft(t.getIndexAngle(e)),k=c[e];ea(_,k,E);var S=ta(_),C=void 0,O=(C="left"===S?E.x:"center"===S?E.x-k.w/2:E.x-k.w)+k.w;t._pointLabelItems[e]={x:E.x,y:E.y,textAlign:S,left:C,top:E.y,right:O,bottom:E.y+k.h}}}(this):this.setCenterPoint(0,0,0,0)}},{key:"_setReductions",value:function(t,e,n){var r=this,i=e.l/Math.sin(n.l),o=Math.max(e.r-r.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-(r.height-r.paddingTop),0)/Math.cos(n.b);i=ra(i),o=ra(o),a=ra(a),s=ra(s),r.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(i+o)/2),Math.floor(t-(a+s)/2))),r.setCenterPoint(i,o,a,s)}},{key:"setCenterPoint",value:function(t,e,n,r){var i=this,o=i.width-e-i.drawingArea,a=t+i.drawingArea,s=n+i.drawingArea,u=i.height-i.paddingTop-r-i.drawingArea;i.xCenter=Math.floor((a+o)/2+i.left),i.yCenter=Math.floor((s+u)/2+i.top+i.paddingTop)}},{key:"getIndexAngle",value:function(t){return vt(t*(Q/this.getLabels().length)+lt(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(t){var e=this;if(O(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n}},{key:"getValueForDistanceFromCenter",value:function(t){if(O(t))return NaN;var e=this,n=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-n:e.min+n}},{key:"getPointPosition",value:function(t,e){var n=this.getIndexAngle(t)-et;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}},{key:"getPointPositionForValue",value:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}},{key:"getBasePosition",value:function(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(t){var e=this._pointLabelItems[t];return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"drawBackground",value:function(){var t=this,e=t.options,n=e.backgroundColor,r=e.grid.circular;if(n){var i=t.ctx;i.save(),i.beginPath(),na(t,t.getDistanceFromCenterForValue(t._endValue),r,t.getLabels().length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}},{key:"drawGrid",value:function(){var t,e,n,r=this,i=r.ctx,o=r.options,a=o.angleLines,s=o.grid,u=r.getLabels().length;if(o.pointLabels.display&&function(t,e){for(var n=t.ctx,r=t.options.pointLabels,i=e-1;i>=0;i--){var o=r.setContext(t.getContext(i)),a=Te(o.font),s=t._pointLabelItems[i],u=s.x,c=s.y,l=s.textAlign,f=s.left,h=s.top,d=s.right,p=s.bottom,v=o.backdropColor;if(!O(v)){var g=Oe(o.backdropPadding);n.fillStyle=v,n.fillRect(f-g.left,h-g.top,d-f+g.width,p-h+g.height)}ye(n,t._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:l,textBaseline:"middle"})}}(r,u),s.display&&r.ticks.forEach(function(t,n){if(0!==n){e=r.getDistanceFromCenterForValue(t.value);var i=s.setContext(r.getContext(n-1));!function(t,e,n,r){var i=t.ctx,o=e.circular,a=e.color,s=e.lineWidth;!o&&!r||!a||!s||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=s,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),na(t,n,o,r),i.closePath(),i.stroke(),i.restore())}(r,i,e,u)}}),a.display){for(i.save(),t=r.getLabels().length-1;t>=0;t--){var c=a.setContext(r.getContext(t)),l=c.color,f=c.lineWidth;f&&l&&(i.lineWidth=f,i.strokeStyle=l,i.setLineDash(c.borderDash),i.lineDashOffset=c.borderDashOffset,e=r.getDistanceFromCenterForValue(o.ticks.reverse?r.min:r.max),n=r.getPointPosition(t,e),i.beginPath(),i.moveTo(r.xCenter,r.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var t=this,e=t.ctx,n=t.options,r=n.ticks;if(r.display){var i,o,a=t.getIndexAngle(0);e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach(function(a,s){if(0!==s||n.reverse){var u=r.setContext(t.getContext(s)),c=Te(u.font);if(i=t.getDistanceFromCenterForValue(t.ticks[s].value),u.showLabelBackdrop){o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;var l=Oe(u.backdropPadding);e.fillRect(-o/2-l.left,-i-c.size/2-l.top,o+l.width,c.size+l.height)}ye(e,a.label,0,-i,c,{color:u.color})}}),e.restore()}}},{key:"drawTitle",value:function(){}}]),e}();ia.id="radialLinear",ia.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(t){return t},padding:5}},ia.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ia.descriptors={angleLines:{_fallback:"grid"}};var oa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},aa=Object.keys(oa);function sa(t,e){return t-e}function ua(t,e){if(O(e))return null;var n=t._adapter,r=t._parseOpts,i=r.parser,o=r.round,a=r.isoWeekday,s=e;return"function"===typeof i&&(s=i(s)),R(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(o&&(s="week"!==o||!st(a)&&!0!==a?n.startOf(s,o):n.startOf(s,"isoWeek",a)),+s)}function ca(t,e,n,r){for(var i=aa.length,o=aa.indexOf(t);o<i-1;++o){var a=oa[aa[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(s*a.size))<=r)return aa[o]}return aa[i-1]}function la(t,e,n){if(n){if(n.length){var r=Re(n,e),i=r.lo,o=r.hi;t[n[i]>=e?n[i]:n[o]]=!0}}else t[e]=!0}function fa(t,e,n){var r,i,o=[],a={},s=e.length;for(r=0;r<s;++r)a[i=e[r]]=r,o.push({value:i,major:!1});return 0!==s&&n?function(t,e,n,r){var i,o,a=t._adapter,s=+a.startOf(e[0].value,r),u=e[e.length-1].value;for(i=s;i<=u;i=+a.add(i,1,r))(o=n[i])>=0&&(e[o].major=!0);return e}(t,o,a,n):o}var ha=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this,t)))._cache={data:[],labels:[],all:[]},n._unit="day",n._majorUnit=void 0,n._offsets={},n._normalized=!1,n._parseOpts=void 0,n}return v(e,ii),Object(y.a)(e,[{key:"init",value:function(t,n){var r=t.time||(t.time={}),i=this._adapter=new fr._date(t.adapters.date);U(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},d(h(e.prototype),"init",this).call(this,t),this._normalized=n.normalized}},{key:"parse",value:function(t,e){return void 0===t?null:ua(this,t)}},{key:"beforeLayout",value:function(){d(h(e.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var t=this,e=t.options,n=t._adapter,r=e.time.unit||"day",i=t.getUserBounds(),o=i.min,a=i.max,s=i.minDefined,u=i.maxDefined;function c(t){s||isNaN(t.min)||(o=Math.min(o,t.min)),u||isNaN(t.max)||(a=Math.max(a,t.max))}s&&u||(c(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||c(t.getMinMax(!1))),o=R(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),a=R(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,t.min=Math.min(o,a-1),t.max=Math.max(o+1,a)}},{key:"_getLabelBounds",value:function(){var t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=e.time,r=e.ticks,i="labels"===r.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&i.length&&(t.min=t._userMin||i[0],t.max=t._userMax||i[i.length-1]);var o=t.min,a=function(t,e,n){for(var r=0,i=t.length;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(i,o,t.max);return t._unit=n.unit||(r.autoSkip?ca(n.minUnit,t.min,t.max,t._getLabelCapacity(o)):function(t,e,n,r,i){for(var o=aa.length-1;o>=aa.indexOf(n);o--){var a=aa[o];if(oa[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return aa[n?aa.indexOf(n):0]}(t,a.length,n.minUnit,t.min,t.max)),t._majorUnit=r.major.enabled&&"year"!==t._unit?function(t){for(var e=aa.indexOf(t)+1,n=aa.length;e<n;++e)if(oa[aa[e]].common)return aa[e]}(t._unit):void 0,t.initOffsets(i),e.reverse&&a.reverse(),fa(t,a,t._majorUnit)}},{key:"initOffsets",value:function(t){var e,n,r=this,i=0,o=0;r.options.offset&&t.length&&(e=r.getDecimalForValue(t[0]),i=1===t.length?1-e:(r.getDecimalForValue(t[1])-e)/2,n=r.getDecimalForValue(t[t.length-1]),o=1===t.length?n:(n-r.getDecimalForValue(t[t.length-2]))/2);var a=t.length<3?.5:.25;i=mt(i,0,a),o=mt(o,0,a),r._offsets={start:i,end:o,factor:1/(i+1+o)}}},{key:"_generate",value:function(){var t,e,n=this,r=n._adapter,i=n.min,o=n.max,a=n.options,s=a.time,u=s.unit||ca(s.minUnit,i,o,n._getLabelCapacity(i)),c=P(s.stepSize,1),l="week"===u&&s.isoWeekday,f=st(l)||!0===l,h={},d=i;if(f&&(d=+r.startOf(d,"isoWeek",l)),d=+r.startOf(d,f?"day":u),r.diff(o,i,u)>1e5*c)throw new Error(i+" and "+o+" are too far apart with stepSize of "+c+" "+u);var p="data"===a.ticks.source&&n.getDataTimestamps();for(t=d,e=0;t<o;t=+r.add(t,c,u),e++)la(h,t,p);return t!==o&&"ticks"!==a.bounds&&1!==e||la(h,t,p),Object.keys(h).sort(function(t,e){return t-e}).map(function(t){return+t})}},{key:"getLabelForValue",value:function(t){var e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(t,e,n,r){var i=this,o=i.options,a=o.time.displayFormats,s=i._unit,u=i._majorUnit,c=s&&a[s],l=u&&a[u],f=n[e],h=u&&l&&f&&f.major,d=i._adapter.format(t,r||(h?l:c)),p=o.ticks.callback;return p?D(p,[d,e,n],i):d}},{key:"generateTickLabels",value:function(t){var e,n,r;for(e=0,n=t.length;e<n;++e)(r=t[e]).label=this._tickFormatFunction(r.value,e,t)}},{key:"getDecimalForValue",value:function(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(t){var e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}},{key:"getValueForPixel",value:function(t){var e=this,n=e._offsets,r=e.getDecimalForPixel(t)/n.factor-n.end;return e.min+r*(e.max-e.min)}},{key:"_getLabelSize",value:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,r=lt(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}},{key:"_getLabelCapacity",value:function(t){var e=this,n=e.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=e._tickFormatFunction(t,0,fa(e,[t],e._majorUnit),i),a=e._getLabelSize(o),s=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h)-1;return s>0?s:1}},{key:"getDataTimestamps",value:function(){var t,e,n=this,r=n._cache.data||[];if(r.length)return r;var i=n.getMatchingVisibleMetas();if(n._normalized&&i.length)return n._cache.data=i[0].controller.getAllParsedValues(n);for(t=0,e=i.length;t<e;++t)r=r.concat(i[t].controller.getAllParsedValues(n));return n._cache.data=n.normalize(r)}},{key:"getLabelTimestamps",value:function(){var t,e,n=this,r=n._cache.labels||[];if(r.length)return r;var i=n.getLabels();for(t=0,e=i.length;t<e;++t)r.push(ua(n,i[t]));return n._cache.labels=n._normalized?r:n.normalize(r)}},{key:"normalize",value:function(t){return Me(t.sort(sa))}}]),e}();function da(t,e,n){var r,i,o,a;if(n)r=Math.floor(e),i=Math.ceil(e),o=t[r],a=t[i];else{var s=Re(t,e);o=s.lo,a=s.hi,r=t[o],i=t[a]}var u=i-r;return u?o+(a-o)*(e-r)/u:o}ha.id="time",ha.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var pa=function(t){function e(t){var n;return Object(m.a)(this,e),(n=f(this,h(e).call(this,t)))._table=[],n._maxIndex=void 0,n}return v(e,ha),Object(y.a)(e,[{key:"initOffsets",value:function(){var t=this,n=t._getTimestampsForTable();t._table=t.buildLookupTable(n),t._maxIndex=t._table.length-1,d(h(e.prototype),"initOffsets",this).call(this,n)}},{key:"buildLookupTable",value:function(t){var e=this.min,n=this.max;if(!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,i,o,a=[e];for(r=0,i=t.length;r<i;++r)(o=t[r])>e&&o<n&&a.push(o);return a.push(n),a}},{key:"_getTimestampsForTable",value:function(){var t=this,e=t._cache.all||[];if(e.length)return e;var n=t.getDataTimestamps(),r=t.getLabelTimestamps();return e=n.length&&r.length?t.normalize(n.concat(r)):n.length?n:r,e=t._cache.all=e}},{key:"getPixelForValue",value:function(t,e){var n=this,r=n._offsets,i=n._normalized&&n._maxIndex>0&&!O(e)?e/n._maxIndex:n.getDecimalForValue(t);return n.getPixelForDecimal((r.start+i)*r.factor)}},{key:"getDecimalForValue",value:function(t){return da(this._table,t)/this._maxIndex}},{key:"getValueForPixel",value:function(t){var e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return da(this._table,n*this._maxIndex,!0)}}]),e}();pa.id="timeseries",pa.defaults=ha.defaults;var va=[ur,ro,Wo,Object.freeze({__proto__:null,CategoryScale:Ho,LinearScale:$o,LogarithmicScale:Qo,RadialLinearScale:ia,TimeScale:ha,TimeSeriesScale:pa})];Ii.register.apply(Ii,o(va));var ga=Ii,ma=n(203),ya=n.n(ma),ba=n(160),wa=n.n(ba),xa=n(204),Ea=n.n(xa);function _a(){return(_a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ka(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return Ca});var Sa=Object(r.forwardRef)(function(t,e){var n=t.id,o=t.className,a=t.height,s=void 0===a?150:a,u=t.width,c=void 0===u?300:u,l=t.redraw,f=void 0!==l&&l,h=t.type,d=t.data,p=t.options,v=void 0===p?{}:p,g=t.plugins,m=void 0===g?[]:g,y=t.getDatasetAtEvent,b=t.getElementAtEvent,w=t.getElementsAtEvent,x=t.fallbackContent,E=ka(t,["id","className","height","width","redraw","type","data","options","plugins","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","fallbackContent"]),_=Object(r.useRef)(null),k=Object(r.useMemo)(function(){return"function"===typeof d?_.current?d(_.current):{}:ya()({},d)},[d,_.current]),S=Object(r.useState)(),C=S[0],O=S[1];Object(r.useImperativeHandle)(e,function(){return C},[C]);var T=function(){_.current&&O(new ga(_.current,{type:h,data:k,options:v,plugins:m}))},I=function(){C&&C.destroy()};return Object(r.useEffect)(function(){return T(),function(){return I()}},[]),Object(r.useEffect)(function(){f?(I(),setTimeout(function(){T()},0)):function(){if(C){if(v&&(C.options=_a({},v)),!C.config.data)return C.config.data=k,void C.update();var t=k.datasets,e=void 0===t?[]:t,n=ka(k,["datasets"]),r=C.config.data.datasets,i=void 0===r?[]:r;wa()(C.config.data,n),C.config.data.datasets=e.map(function(t){var e=Ea()(i,function(e){return e.label===t.label&&e.type===t.type});return e&&t.data?(e.data?e.data.length=t.data.length:e.data=[],wa()(e.data,t.data),_a({},e,t,{data:e.data})):t}),C.update()}}()},[t,k]),i.a.createElement("canvas",Object.assign({},E,{height:s,width:c,ref:_,id:n,className:o,onClick:function(t){C&&(y&&y(C.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1),t),b&&b(C.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),t),w&&w(C.getElementsAtEventForMode(t,"index",{intersect:!0},!1),t))},"data-testid":"canvas",role:"img"}),x)}),Ca=(Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"line",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"bar",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"radar",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"doughnut",ref:e,options:t.options||{}}))}));Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"polarArea",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"bubble",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"pie",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(Sa,Object.assign({},t,{type:"scatter",ref:e,options:t.options||{}}))})},,,,,,,,,,function(t,e,n){"use strict";var r=n(97),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}function x(){}function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=w.prototype;var _=E.prototype=new x;_.constructor=E,r(_,w.prototype),_.isPureReactComponent=!0;var k={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:k.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var I=/\/+/g,R=[];function A(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+D(s=e[c],c);u+=t(s,l,r,i)}else if(l=null===e||"object"!==typeof e?null:"function"===typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+D(s,c++),r,i);else if("object"===s)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function M(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,function(t){return t}):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),N(t,j,e=A(e,o,r,i)),P(e)}var L={current:null};function B(){var t=L.current;if(null===t)throw Error(m(321));return t}var V={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,M,e=A(null,null,e,n)),P(e)},count:function(t){return N(t,function(){return null},null)},toArray:function(t){var e=[];return F(t,e,null,function(t){return t}),e},only:function(t){if(!T(t))throw Error(m(143));return t}},e.Component=w,e.Fragment=s,e.Profiler=c,e.PureComponent=E,e.StrictMode=u,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(m(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=k.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)S.call(e,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=O,e.createFactory=function(t){var e=O.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return B().useCallback(t,e)},e.useContext=function(t,e){return B().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return B().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return B().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return B().useLayoutEffect(t,e)},e.useMemo=function(t,e){return B().useMemo(t,e)},e.useReducer=function(t,e,n){return B().useReducer(t,e,n)},e.useRef=function(t){return B().useRef(t)},e.useState=function(t){return B().useState(t)},e.version="16.14.0"},function(t,e,n){"use strict";var r=n(0),i=n(97),o=n(219);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=!1,u=null,c=!1,l=null,f={onError:function(t){s=!0,u=t}};function h(t,e,n,r,i,o,a,c,l){s=!1,u=null,function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}.apply(f,arguments)}var d=null,p=null,v=null;function g(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),function(t,e,n,r,i,o,f,d,p){if(h.apply(this,arguments),s){if(!s)throw Error(a(198));var v=u;s=!1,u=null,c||(c=!0,l=v)}}(r,e,void 0,t),t.currentTarget=null}var m=null,y={};function b(){if(m)for(var t in y){var e=y[t],n=m.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!x[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in x[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;if(E.hasOwnProperty(u))throw Error(a(99,u));E[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&w(c[i],s,u);i=!0}else o.registrationName?(w(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function w(t,e,n){if(_[t])throw Error(a(100,t));_[t]=e,k[t]=e.eventTypes[n].dependencies}var x=[],E={},_={},k={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!y.hasOwnProperty(e)||y[e]!==r){if(y[e])throw Error(a(102,e));y[e]=r,n=!0}}n&&b()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),O=null,T=null,I=null;function R(t){if(t=p(t)){if("function"!==typeof O)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),O(t.stateNode,t.type,e))}}function A(t){T?I?I.push(t):I=[t]:T=t}function P(){if(T){var t=T,e=I;if(I=T=null,R(t),e)for(t=0;t<e.length;t++)R(e[t])}}function N(t,e){return t(e)}function D(t,e,n,r,i){return t(e,n,r,i)}function M(){}var j=N,F=!1,L=!1;function B(){null===T&&null===I||(M(),P())}function V(t,e,n){if(L)return t(e,n);L=!0;try{return j(t,e,n)}finally{L=!1,B()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},q={};function H(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){G[t]=new H(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];G[e]=new H(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){G[t]=new H(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){G[t]=new H(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){G[t]=new H(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){G[t]=new H(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){G[t]=new H(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){G[t]=new H(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){G[t]=new H(t,5,!1,t.toLowerCase(),null,!1)});var K=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K,X);G[e]=new H(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K,X);G[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K,X);G[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){G[t]=new H(t,1,!1,t.toLowerCase(),null,!1)}),G.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){G[t]=new H(t,1,!1,t.toLowerCase(),null,!0)});var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(t,e,n,r){var i=G.hasOwnProperty(e)?G[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!z.call(q,t)||!z.call(W,t)&&(U.test(t)?q[t]=!0:(W[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,Z=J?Symbol.for("react.element"):60103,tt=J?Symbol.for("react.portal"):60106,et=J?Symbol.for("react.fragment"):60107,nt=J?Symbol.for("react.strict_mode"):60108,rt=J?Symbol.for("react.profiler"):60114,it=J?Symbol.for("react.provider"):60109,ot=J?Symbol.for("react.context"):60110,at=J?Symbol.for("react.concurrent_mode"):60111,st=J?Symbol.for("react.forward_ref"):60112,ut=J?Symbol.for("react.suspense"):60113,ct=J?Symbol.for("react.suspense_list"):60120,lt=J?Symbol.for("react.memo"):60115,ft=J?Symbol.for("react.lazy"):60116,ht=J?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function pt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case et:return"Fragment";case tt:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case it:return"Context.Provider";case st:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case lt:return vt(t.type);case ht:return vt(t.render);case ft:if(t=1===t._status?t._result:null)return vt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=vt(t.type);n=null,r&&(n=vt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function yt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=yt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Et(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function _t(t,e){null!=(e=e.checked)&&Y(t,"checked",e,!1)}function kt(t,e){_t(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ct(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ct(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function St(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ct(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Tt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function It(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function At(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Pt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Nt="http://www.w3.org/1999/xhtml",Dt="http://www.w3.org/2000/svg";function Mt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Mt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ft,Lt,Bt=(Lt=function(t,e){if(t.namespaceURI!==Dt||"innerHTML"in t)t.innerHTML=e;else{for((Ft=Ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return Lt(t,e)})}:Lt);function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Wt={},qt={};function Ht(t){if(Wt[t])return Wt[t];if(!zt[t])return t;var e,n=zt[t];for(e in n)if(n.hasOwnProperty(e)&&e in qt)return Wt[t]=n[e];return t}C&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);var Gt=Ht("animationend"),Kt=Ht("animationiteration"),Xt=Ht("animationstart"),$t=Ht("transitionend"),Yt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Qt.get(t);return void 0===e&&(e=new Map,Qt.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)g(t,e[r],n[r]);else e&&g(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(c)throw t=l,c=!1,l=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!C)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var le=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function he(t,e,n,r){if(le.length){var i=le.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=In(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<x.length;u++){var c=x[u];c&&(c=c.extractEvents(r,e,o,i,a))&&(s=re(s,c))}se(s)}}function pe(t,e,n){if(!n.has(t)){switch(t){case"scroll":Xe(e,"scroll",!0);break;case"focus":case"blur":Xe(e,"focus",!0),Xe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Xe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Yt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ve,ge,me,ye=!1,be=[],we=null,xe=null,Ee=null,_e=new Map,ke=new Map,Se=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Oe="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Te(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ie(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":_e.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ke.delete(e.pointerId)}}function Re(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Te(e,n,r,i,o),null!==e&&(null!==(e=Rn(e))&&ge(e)),t):(t.eventSystemFlags|=r,t)}function Ae(t){var e=In(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,function(){me(n)})}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Pe(t){if(null!==t.blockedOn)return!1;var e=Ye(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Rn(e);return null!==n&&ge(n),t.blockedOn=e,!1}return!0}function Ne(t,e,n){Pe(t)&&n.delete(e)}function De(){for(ye=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Rn(t.blockedOn))&&ve(t);break}var e=Ye(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Pe(we)&&(we=null),null!==xe&&Pe(xe)&&(xe=null),null!==Ee&&Pe(Ee)&&(Ee=null),_e.forEach(Ne),ke.forEach(Ne)}function Me(t,e){t.blockedOn===e&&(t.blockedOn=null,ye||(ye=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,De)))}function je(t){function e(e){return Me(e,t)}if(0<be.length){Me(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Me(we,t),null!==xe&&Me(xe,t),null!==Ee&&Me(Ee,t),_e.forEach(e),ke.forEach(e),n=0;n<Se.length;n++)(r=Se[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Ae(n),null===n.blockedOn&&Se.shift()}var Fe={},Le=new Map,Be=new Map,Ve=["abort","abort",Gt,"animationEnd",Kt,"animationIteration",Xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$t,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Be.set(r,e),Le.set(r,o),Fe[i]=o}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ve,2);for(var ze="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<ze.length;We++)Be.set(ze[We],0);var qe=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Ge=!0;function Ke(t,e){Xe(e,t,!1)}function Xe(t,e,n){var r=Be.get(e);switch(void 0===r?2:r){case 0:r=function(t,e,n,r){F||M();var i=$e,o=F;F=!0;try{D(i,t,e,n,r)}finally{(F=o)||B()}}.bind(null,e,1,t);break;case 1:r=function(t,e,n,r){He(qe,$e.bind(null,t,e,n,r))}.bind(null,e,1,t);break;default:r=$e.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function $e(t,e,n,r){if(Ge)if(0<be.length&&-1<Ce.indexOf(t))t=Te(null,t,e,n,r),be.push(t);else{var i=Ye(t,e,n,r);if(null===i)Ie(t,r);else if(-1<Ce.indexOf(t))t=Te(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=Re(we,t,e,n,r,i),!0;case"dragenter":return xe=Re(xe,t,e,n,r,i),!0;case"mouseover":return Ee=Re(Ee,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _e.set(o,Re(_e.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ke.set(o,Re(ke.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Ie(t,r),t=he(t,r,null,e);try{V(de,t)}finally{fe(t)}}}}function Ye(t,e,n,r){if(null!==(n=In(n=ue(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=he(t,r,n,e);try{V(de,t)}finally{fe(t)}return null}var Qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Je=["Webkit","ms","Moz","O"];function Ze(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Qe.hasOwnProperty(t)&&Qe[t]?(""+e).trim():e+"px"}function tn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ze(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Qe).forEach(function(t){Je.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qe[e]=Qe[t]})});var en=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(t,e){if(e){if(en[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function rn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=Nt;function an(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=k[e];for(var r=0;r<e.length;r++)pe(e[r],t,n)}function sn(){}function un(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ln(t,e){var n,r=cn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cn(r)}}function fn(){for(var t=window,e=un();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=un((t=e.contentWindow).document)}return e}function hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var dn="$",pn="/$",vn="$?",gn="$!",mn=null,yn=null;function bn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function wn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var xn="function"===typeof setTimeout?setTimeout:void 0,En="function"===typeof clearTimeout?clearTimeout:void 0;function _n(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function kn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===dn||n===gn||n===vn){if(0===e)return t;e--}else n===pn&&e++}t=t.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+Sn,On="__reactEventHandlers$"+Sn,Tn="__reactContainere$"+Sn;function In(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tn]||n[Cn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=kn(t);null!==t;){if(n=t[Cn])return n;t=kn(t)}return e}n=(t=n).parentNode}return null}function Rn(t){return!(t=t[Cn]||t[Tn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function An(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Pn(t){return t[On]||null}function Nn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Dn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function Mn(t,e,n){(e=Dn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function jn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Nn(e);for(e=n.length;0<e--;)Mn(n[e],"captured",t);for(e=0;e<n.length;e++)Mn(n[e],"bubbled",t)}}function Fn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Dn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Ln(t){t&&t.dispatchConfig.registrationName&&Fn(t._targetInst,null,t)}function Bn(t){ie(t,jn)}var Vn=null,Un=null,zn=null;function Wn(){if(zn)return zn;var t,e,n=Un,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return zn=i.slice(t,1<e?1-e:void 0)}function qn(){return!0}function Hn(){return!1}function Gn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Hn,this.isPropagationStopped=Hn,this}function Kn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Xn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function $n(t){t.eventPool=[],t.getPooled=Kn,t.release=Xn}i(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Hn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,$n(n),n},$n(Gn);var Yn=Gn.extend({data:null}),Qn=Gn.extend({data:null}),Jn=[9,13,27,32],Zn=C&&"CompositionEvent"in window,tr=null;C&&"documentMode"in document&&(tr=document.documentMode);var er=C&&"TextEvent"in window&&!tr,nr=C&&(!Zn||tr&&8<tr&&11>=tr),rr=String.fromCharCode(32),ir={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},or=!1;function ar(t,e){switch(t){case"keyup":return-1!==Jn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ur=!1;var cr={eventTypes:ir,extractEvents:function(t,e,n,r){var i;if(Zn)t:{switch(t){case"compositionstart":var o=ir.compositionStart;break t;case"compositionend":o=ir.compositionEnd;break t;case"compositionupdate":o=ir.compositionUpdate;break t}o=void 0}else ur?ar(t,n)&&(o=ir.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=ir.compositionStart);return o?(nr&&"ko"!==n.locale&&(ur||o!==ir.compositionStart?o===ir.compositionEnd&&ur&&(i=Wn()):(Un="value"in(Vn=r)?Vn.value:Vn.textContent,ur=!0)),o=Yn.getPooled(o,e,n,r),i?o.data=i:null!==(i=sr(n))&&(o.data=i),Bn(o),i=o):i=null,(t=er?function(t,e){switch(t){case"compositionend":return sr(e);case"keypress":return 32!==e.which?null:(or=!0,rr);case"textInput":return(t=e.data)===rr&&or?null:t;default:return null}}(t,n):function(t,e){if(ur)return"compositionend"===t||!Zn&&ar(t,e)?(t=Wn(),zn=Un=Vn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Qn.getPooled(ir.beforeInput,e,n,r)).data=t,Bn(e)):e=null,null===i?e:null===e?i:[i,e]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!lr[t.type]:"textarea"===e}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(t,e,n){return(t=Gn.getPooled(hr.change,t,e,n)).type="change",A(n),Bn(t),t}var pr=null,vr=null;function gr(t){se(t)}function mr(t){if(wt(An(t)))return t}function yr(t,e){if("change"===t)return e}var br=!1;function wr(){pr&&(pr.detachEvent("onpropertychange",xr),vr=pr=null)}function xr(t){if("value"===t.propertyName&&mr(vr))if(t=dr(vr,t,ue(t)),F)se(t);else{F=!0;try{N(gr,t)}finally{F=!1,B()}}}function Er(t,e,n){"focus"===t?(wr(),vr=n,(pr=e).attachEvent("onpropertychange",xr)):"blur"===t&&wr()}function _r(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mr(vr)}function kr(t,e){if("click"===t)return mr(e)}function Sr(t,e){if("input"===t||"change"===t)return mr(e)}C&&(br=ce("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:hr,_isInputEventSupported:br,extractEvents:function(t,e,n,r){var i=e?An(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(fr(i))if(br)a=Sr;else{a=_r;var s=Er}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=kr);if(a&&(a=a(t,e)))return dr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Ct(i,"number",i.value)}},Or=Gn.extend({view:null,detail:null}),Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ir(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Tr[t])&&!!e[t]}function Rr(){return Ir}var Ar=0,Pr=0,Nr=!1,Dr=!1,Mr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ar;return Ar=t.screenX,Nr?"mousemove"===t.type?t.screenX-e:0:(Nr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pr;return Pr=t.screenY,Dr?"mousemove"===t.type?t.screenY-e:0:(Dr=!0,0)}}),jr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Fr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?In(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Mr,u=Fr.mouseLeave,c=Fr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=jr,u=Fr.pointerLeave,c=Fr.pointerEnter,l="pointer");if(t=null==a?o:An(a),o=null==e?o:An(e),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(c,e,n,r)).type=l+"enter",n.target=o,n.relatedTarget=t,l=e,(r=a)&&l)t:{for(c=l,a=0,t=s=r;t;t=Nn(t))a++;for(t=0,e=c;e;e=Nn(e))t++;for(;0<a-t;)s=Nn(s),a--;for(;0<t-a;)c=Nn(c),t--;for(;a--;){if(s===c||s===c.alternate)break t;s=Nn(s),c=Nn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Nn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Nn(l);for(l=0;l<s.length;l++)Fn(s[l],"bubbled",u);for(l=r.length;0<l--;)Fn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Br="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Vr=Object.prototype.hasOwnProperty;function Ur(t,e){if(Br(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Vr.call(e,n[r])||!Br(t[n[r]],e[n[r]]))return!1;return!0}var zr=C&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Hr=null,Gr=null,Kr=!1;function Xr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Kr||null==qr||qr!==un(n)?null:("selectionStart"in(n=qr)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gr&&Ur(Gr,n)?null:(Gr=n,(t=Gn.getPooled(Wr.select,Hr,t,e)).type="select",t.target=qr,Bn(t),t))}var $r={eventTypes:Wr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?An(e):window,t){case"focus":(fr(i)||"true"===i.contentEditable)&&(qr=i,Hr=e,Gr=null);break;case"blur":Gr=Hr=qr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Xr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Yr=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qr=Gn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jr=Or.extend({relatedTarget:null});function Zr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ei={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni=Or.extend({key:function(t){if(t.key){var e=ti[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Zr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ei[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rr,charCode:function(t){return"keypress"===t.type?Zr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Zr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ri=Mr.extend({dataTransfer:null}),ii=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rr}),oi=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ai=Mr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),si={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=Le.get(t);if(!i)return null;switch(t){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":t=ni;break;case"blur":case"focus":t=Jr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ri;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ii;break;case Gt:case Kt:case Xt:t=Yr;break;case $t:t=oi;break;case"scroll":t=Or;break;case"wheel":t=ai;break;case"copy":case"cut":case"paste":t=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=jr;break;default:t=Gn}return Bn(e=t.getPooled(i,e,n,r)),e}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=Pn,p=Rn,v=An,S({SimpleEventPlugin:si,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Cr,SelectEventPlugin:$r,BeforeInputEventPlugin:cr});var ui=[],ci=-1;function li(t){0>ci||(t.current=ui[ci],ui[ci]=null,ci--)}function fi(t,e){ui[++ci]=t.current,t.current=e}var hi={},di={current:hi},pi={current:!1},vi=hi;function gi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){li(pi),li(di)}function bi(t,e,n){if(di.current!==hi)throw Error(a(168));fi(di,e),fi(pi,n)}function wi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,vt(e)||"Unknown",o));return i({},n,{},r)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,t),fi(pi,pi.current),!0}function Ei(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=wi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,li(pi),li(di),fi(di,t)):li(pi),fi(pi,n)}var _i=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ci=o.unstable_requestPaint,Oi=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Di={},Mi=o.unstable_shouldYield,ji=void 0!==Ci?Ci:function(){},Fi=null,Li=null,Bi=!1,Vi=Oi(),Ui=1e4>Vi?Oi:function(){return Oi()-Vi};function zi(){switch(Ti()){case Ii:return 99;case Ri:return 98;case Ai:return 97;case Pi:return 96;case Ni:return 95;default:throw Error(a(332))}}function Wi(t){switch(t){case 99:return Ii;case 98:return Ri;case 97:return Ai;case 96:return Pi;case 95:return Ni;default:throw Error(a(332))}}function qi(t,e){return t=Wi(t),_i(t,e)}function Hi(t,e,n){return t=Wi(t),ki(t,e,n)}function Gi(t){return null===Fi?(Fi=[t],Li=ki(Ii,Xi)):Fi.push(t),Di}function Ki(){if(null!==Li){var t=Li;Li=null,Si(t)}Xi()}function Xi(){if(!Bi&&null!==Fi){Bi=!0;var t=0;try{var e=Fi;qi(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(t+1)),ki(Ii,Ki),n}finally{Bi=!1}}}function $i(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Yi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Qi={current:null},Ji=null,Zi=null,to=null;function eo(){to=Zi=Ji=null}function no(t){var e=Qi.current;li(Qi),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function io(t,e){Ji=t,to=Zi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Pa=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Zi){if(null===Ji)throw Error(a(308));Zi=e,Ji.dependencies={expirationTime:0,firstContext:e,responders:null}}else Zi=Zi.next=e;return t._currentValue}var ao=!1;function so(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function co(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function lo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.alternate;null!==n&&uo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function ho(t,e,n,r){var o=t.updateQueue;ao=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),vu(s,p.suspenseConfig);t:{var g=t,m=p;switch(s=e,v=n,m.tag){case 1:if("function"===typeof(g=m.payload)){c=g.call(v,c,s);break t}c=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=m.payload)?g.call(v,c,s):g)||void 0===s)break t;c=i({},c,s);break t;case 2:ao=!0}}null!==p.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=c:d.next=h,o.baseState=f,o.baseQueue=d,gu(l),t.expirationTime=l,t.memoizedState=c}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var vo=$.ReactCurrentBatchConfig,go=(new r.Component).refs;function mo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ru(),i=vo.suspense;(i=co(r=iu(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),lo(t,i),ou(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ru(),i=vo.suspense;(i=co(r=iu(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),lo(t,i),ou(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ru(),r=vo.suspense;(r=co(n=iu(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),lo(t,r),ou(t,n)}};function bo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function wo(t,e,n){var r=!1,i=hi,o=e.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=mi(e)?vi:di.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?gi(t,i):hi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function Eo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=go,so(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=mi(e)?vi:di.current,i.context=gi(t,o)),ho(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var _o=Array.isArray;function ko(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===go&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Du(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Fu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=ko(t,e,n),r.return=t,r):((r=Mu(n.type,n.key,n.props,null,t.mode,r)).ref=ko(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Lu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=ju(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Fu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Z:return(n=Mu(e.type,e.key,e.props,null,t.mode,n)).ref=ko(t,null,e),n.return=t,n;case tt:return(e=Lu(e,t.mode,n)).return=t,e}if(_o(e)||pt(e))return(e=ju(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Z:return n.key===i?n.type===et?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case tt:return n.key===i?l(t,e,n,r):null}if(_o(n)||pt(n))return null!==i?null:f(t,e,n,r,null);So(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Z:return t=t.get(null===r.key?n:r.key)||null,r.type===et?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case tt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||pt(r))return f(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}t&&f&&null===m.alternate&&e(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(t&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return t&&f.forEach(function(t){return e(i,t)}),c}function g(i,s,u,c){var l=pt(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=m);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(t&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return t&&v.forEach(function(t){return e(i,t)}),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===et&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Z:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===et){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=ko(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===et?((r=ju(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Mu(o.type,o.key,o.props,null,t.mode,u)).ref=ko(t,r,o),u.return=t,t=u)}return s(t);case tt:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Lu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Fu(o,t.mode,u)).return=t,t=r),s(t);if(_o(o))return v(t,r,o,u);if(pt(o))return g(t,r,o,u);if(l&&So(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Oo=Co(!0),To=Co(!1),Io={},Ro={current:Io},Ao={current:Io},Po={current:Io};function No(t){if(t===Io)throw Error(a(174));return t}function Do(t,e){switch(fi(Po,e),fi(Ao,t),fi(Ro,Io),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jt(null,"");break;default:e=jt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}li(Ro),fi(Ro,e)}function Mo(){li(Ro),li(Ao),li(Po)}function jo(t){No(Po.current);var e=No(Ro.current),n=jt(e,t.type);e!==n&&(fi(Ao,t),fi(Ro,n))}function Fo(t){Ao.current===t&&(li(Ro),li(Ao))}var Lo={current:0};function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===gn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Vo(t,e){return{responder:t,props:e}}var Uo=$.ReactCurrentDispatcher,zo=$.ReactCurrentBatchConfig,Wo=0,qo=null,Ho=null,Go=null,Ko=!1;function Xo(){throw Error(a(321))}function $o(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Br(t[n],e[n]))return!1;return!0}function Yo(t,e,n,r,i,o){if(Wo=o,qo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Uo.current=null===t||null===t.memoizedState?ba:wa,t=n(r,i),e.expirationTime===Wo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Go=Ho=null,e.updateQueue=null,Uo.current=xa,t=n(r,i)}while(e.expirationTime===Wo)}if(Uo.current=ya,e=null!==Ho&&null!==Ho.next,Wo=0,Go=Ho=qo=null,Ko=!1,e)throw Error(a(300));return t}function Qo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?qo.memoizedState=Go=t:Go=Go.next=t,Go}function Jo(){if(null===Ho){var t=qo.alternate;t=null!==t?t.memoizedState:null}else t=Ho.next;var e=null===Go?qo.memoizedState:Go.next;if(null!==e)Go=e,Ho=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Ho=t).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Go?qo.memoizedState=Go=t:Go=Go.next=t}return Go}function Zo(t,e){return"function"===typeof e?e(t):e}function ta(t){var e=Jo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<Wo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,l>qo.expirationTime&&(qo.expirationTime=l,gu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),vu(l,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Br(r,e.memoizedState)||(Pa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ea(t){var e=Jo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Br(o,e.memoizedState)||(Pa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function na(t){var e=Qo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t}).dispatch=ma.bind(null,qo,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=qo.updateQueue)?(e={lastEffect:null},qo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ia(){return Jo().memoizedState}function oa(t,e,n,r){var i=Qo();qo.effectTag|=t,i.memoizedState=ra(1|e,n,void 0,void 0===r?null:r)}function aa(t,e,n,r){var i=Jo();r=void 0===r?null:r;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==r&&$o(r,a.deps))return void ra(e,n,o,r)}qo.effectTag|=t,i.memoizedState=ra(1|e,n,o,r)}function sa(t,e){return oa(516,4,t,e)}function ua(t,e){return aa(516,4,t,e)}function ca(t,e){return aa(4,2,t,e)}function la(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function fa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,aa(4,2,la.bind(null,e,t),n)}function ha(){}function da(t,e){return Qo().memoizedState=[t,void 0===e?null:e],t}function pa(t,e){var n=Jo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function va(t,e){var n=Jo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ga(t,e,n){var r=zi();qi(98>r?98:r,function(){t(!0)}),qi(97<r?97:r,function(){var r=zo.suspense;zo.suspense=void 0===e?null:e;try{t(!1),n()}finally{zo.suspense=r}})}function ma(t,e,n){var r=ru(),i=vo.suspense;i={expirationTime:r=iu(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===qo||null!==o&&o===qo)Ko=!0,i.expirationTime=Wo,qo.expirationTime=Wo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Br(s,a))return}catch(u){}ou(t,r)}}var ya={readContext:oo,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useResponder:Xo,useDeferredValue:Xo,useTransition:Xo},ba={readContext:oo,useCallback:da,useContext:oo,useEffect:sa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,oa(4,2,la.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4,2,t,e)},useMemo:function(t,e){var n=Qo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,qo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Qo().memoizedState=t},useState:na,useDebugValue:ha,useResponder:Vo,useDeferredValue:function(t,e){var n=na(t),r=n[0],i=n[1];return sa(function(){var n=zo.suspense;zo.suspense=void 0===e?null:e;try{i(t)}finally{zo.suspense=n}},[t,e]),r},useTransition:function(t){var e=na(!1),n=e[0];return e=e[1],[da(ga.bind(null,e,t),[e,t]),n]}},wa={readContext:oo,useCallback:pa,useContext:oo,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:ca,useMemo:va,useReducer:ta,useRef:ia,useState:function(){return ta(Zo)},useDebugValue:ha,useResponder:Vo,useDeferredValue:function(t,e){var n=ta(Zo),r=n[0],i=n[1];return ua(function(){var n=zo.suspense;zo.suspense=void 0===e?null:e;try{i(t)}finally{zo.suspense=n}},[t,e]),r},useTransition:function(t){var e=ta(Zo),n=e[0];return e=e[1],[pa(ga.bind(null,e,t),[e,t]),n]}},xa={readContext:oo,useCallback:pa,useContext:oo,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:ca,useMemo:va,useReducer:ea,useRef:ia,useState:function(){return ea(Zo)},useDebugValue:ha,useResponder:Vo,useDeferredValue:function(t,e){var n=ea(Zo),r=n[0],i=n[1];return ua(function(){var n=zo.suspense;zo.suspense=void 0===e?null:e;try{i(t)}finally{zo.suspense=n}},[t,e]),r},useTransition:function(t){var e=ea(Zo),n=e[0];return e=e[1],[pa(ga.bind(null,e,t),[e,t]),n]}},Ea=null,_a=null,ka=!1;function Sa(t,e){var n=Pu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ca(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Oa(t){if(ka){var e=_a;if(e){var n=e;if(!Ca(t,e)){if(!(e=_n(n.nextSibling))||!Ca(t,e))return t.effectTag=-1025&t.effectTag|2,ka=!1,void(Ea=t);Sa(Ea,n)}Ea=t,_a=_n(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,ka=!1,Ea=t}}function Ta(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ea=t}function Ia(t){if(t!==Ea)return!1;if(!ka)return Ta(t),ka=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!wn(e,t.memoizedProps))for(e=_a;e;)Sa(t,e),e=_n(e.nextSibling);if(Ta(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===pn){if(0===e){_a=_n(t.nextSibling);break t}e--}else n!==dn&&n!==gn&&n!==vn||e++}t=t.nextSibling}_a=null}}else _a=Ea?_n(t.stateNode.nextSibling):null;return!0}function Ra(){_a=Ea=null,ka=!1}var Aa=$.ReactCurrentOwner,Pa=!1;function Na(t,e,n,r){e.child=null===t?To(e,null,n,r):Oo(e,t.child,n,r)}function Da(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=Yo(t,e,n,r,o,i),null===t||Pa?(e.effectTag|=1,Na(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Qa(t,e,i))}function Ma(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Nu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Mu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ja(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&t.ref===e.ref)?Qa(t,e,o):(e.effectTag|=1,(t=Du(a,r)).ref=e.ref,t.return=e,e.child=t)}function ja(t,e,n,r,i,o){return null!==t&&Ur(t.memoizedProps,r)&&t.ref===e.ref&&(Pa=!1,i<o)?(e.expirationTime=t.expirationTime,Qa(t,e,o)):La(t,e,n,r,o)}function Fa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function La(t,e,n,r,i){var o=mi(n)?vi:di.current;return o=gi(e,o),io(e,i),n=Yo(t,e,n,r,o,i),null===t||Pa?(e.effectTag|=1,Na(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Qa(t,e,i))}function Ba(t,e,n,r,i){if(mi(n)){var o=!0;xi(e)}else o=!1;if(io(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),wo(e,n,r),Eo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=gi(e,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&xo(e,a,r,c),ao=!1;var h=e.memoizedState;a.state=h,ho(e,r,a,i),u=e.memoizedState,s!==r||h!==u||pi.current||ao?("function"===typeof l&&(mo(e,n,l,r),u=e.memoizedState),(s=ao||bo(e,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,uo(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Yi(e.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=oo(c):c=gi(e,c=mi(n)?vi:di.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&xo(e,a,r,c),ao=!1,u=e.memoizedState,a.state=u,ho(e,r,a,i),h=e.memoizedState,s!==r||u!==h||pi.current||ao?("function"===typeof l&&(mo(e,n,l,r),h=e.memoizedState),(l=ao||bo(e,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Va(t,e,n,r,o,i)}function Va(t,e,n,r,i,o){Fa(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Ei(e,n,!1),Qa(t,e,o);r=e.stateNode,Aa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Oo(e,t.child,null,o),e.child=Oo(e,null,s,o)):Na(t,e,s,o),e.memoizedState=r.state,i&&Ei(e,n,!0),e.child}function Ua(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Do(t,e.containerInfo)}var za,Wa,qa,Ha,Ga={dehydrated:null,retryTime:0};function Ka(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fi(Lo,1&a),null===t){if(void 0!==o.fallback&&Oa(e),s){if(s=o.fallback,(o=ju(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ju(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=Ga,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=To(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Du(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Du(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Ga,e.child=n,i}return n=Oo(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=ju(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ju(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ga,e.child=o,n}return e.memoizedState=null,e.child=Oo(e,t,o.children,n)}function Xa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ro(t.return,e)}function $a(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Na(t,e,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Xa(t,n);else if(19===t.tag)Xa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(Lo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Bo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$a(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Bo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$a(e,!0,n,null,o,e.lastEffect);break;case"together":$a(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Qa(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&gu(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Du(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Du(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ja(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Za(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(e.type)&&yi(),null;case 3:return Mo(),li(pi),li(di),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ia(e)||(e.effectTag|=4),Wa(e),null;case 5:Fo(e),n=No(Po.current);var o=e.type;if(null!==t&&null!=e.stateNode)qa(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=No(Ro.current),Ia(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[Cn]=e,r[On]=s,o){case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(t=0;t<Yt.length;t++)Ke(Yt[t],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"form":Ke("reset",r),Ke("submit",r);break;case"details":Ke("toggle",r);break;case"input":Et(r,s),Ke("invalid",r),an(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r),an(n,"onChange");break;case"textarea":Rt(r,s),Ke("invalid",r),an(n,"onChange")}for(var u in nn(o,s),t=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(t=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(t=["children",""+c]):_.hasOwnProperty(u)&&null!=c&&an(n,u)}switch(o){case"input":bt(r),St(r,s,!0);break;case"textarea":bt(r),Pt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=sn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===on&&(t=Mt(o)),t===on?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[Cn]=e,t[On]=r,za(t,e,!1,!1),e.stateNode=t,u=rn(o,r),o){case"iframe":case"object":case"embed":Ke("load",t),c=r;break;case"video":case"audio":for(c=0;c<Yt.length;c++)Ke(Yt[c],t);c=r;break;case"source":Ke("error",t),c=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),c=r;break;case"form":Ke("reset",t),Ke("submit",t),c=r;break;case"details":Ke("toggle",t),c=r;break;case"input":Et(t,r),c=xt(t,r),Ke("invalid",t),an(n,"onChange");break;case"option":c=Ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Ke("invalid",t),an(n,"onChange");break;case"textarea":Rt(t,r),c=It(t,r),Ke("invalid",t),an(n,"onChange");break;default:c=r}nn(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?tn(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Bt(t,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&Vt(t,f):"number"===typeof f&&Vt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(_.hasOwnProperty(s)?null!=f&&an(n,s):null!=f&&Y(t,s,f,u))}switch(o){case"input":bt(t),St(t,r,!1);break;case"textarea":bt(t),Pt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Tt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Tt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(t.onclick=sn)}bn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ha(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=No(Po.current),No(Ro.current),Ia(e)?(n=e.stateNode,r=e.memoizedProps,n[Cn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=e,e.stateNode=n)}return null;case 13:return li(Lo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ia(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Fs===Os&&(Fs=Rs):(Fs!==Os&&Fs!==Rs||(Fs=As),0!==zs&&null!==Ds&&(Uu(Ds,js),zu(Ds,zs)))),(n||r)&&(e.effectTag|=4),null);case 4:return Mo(),Wa(e),null;case 10:return no(e),null;case 17:return mi(e.type)&&yi(),null;case 19:if(li(Lo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(s=r.rendering)){if(o)Ja(r,!1);else if(Fs!==Os||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Bo(s))){for(e.effectTag|=64,Ja(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return fi(Lo,1&Lo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Bo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ja(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Ja(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,e=Lo.current,fi(Lo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function ts(t){switch(t.tag){case 1:mi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Mo(),li(pi),li(di),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Fo(t),null;case 13:return li(Lo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return li(Lo),null;case 4:return Mo(),null;case 10:return no(t),null;default:return null}}function es(t,e){return{value:t,source:e,stack:gt(e)}}za=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(){},qa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,c=e.stateNode;switch(No(Ro.current),t=null,n){case"input":a=xt(c,a),r=xt(c,r),t=[];break;case"option":a=Ot(c,a),r=Ot(c,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=It(c,a),r=It(c,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=sn)}for(s in nn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(_.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(t||(t=[]),t.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(_.hasOwnProperty(s)?(null!=l&&an(o,s),t||c===l||(t=[])):(t=t||[]).push(s,l))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ha=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var ns="function"===typeof WeakSet?WeakSet:Set;function rs(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=gt(n)),null!==n&&vt(n.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(i){setTimeout(function(){throw i})}}function is(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ou(t,n)}else e.current=null}function os(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Yi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function as(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function ss(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function us(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ss(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Yi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&je(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function cs(t,e,n){switch("function"===typeof Ru&&Ru(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;qi(97<n?97:n,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){Ou(i,o)}}t=t.next}while(t!==r)})}break;case 1:is(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Ou(t,n)}}(e,n);break;case 5:is(e);break;case 4:ds(t,e,n)}}function ls(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ls(e)}function fs(t){return 5===t.tag||3===t.tag||4===t.tag}function hs(t){t:{for(var e=t.return;null!==e;){if(fs(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=sn));else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ds(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,c=o,l=n,f=c;;)if(cs(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break t;for(;null===f.sibling;){if(null===f.return||f.return===c)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(cs(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ps(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void as(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[On]=r,"input"===t&&"radio"===r.type&&null!=r.name&&_t(n,r),rn(t,i),e=rn(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?tn(n,u):"dangerouslySetInnerHTML"===s?Bt(n,u):"children"===s?Vt(n,u):Y(n,s,u,e)}switch(t){case"input":kt(n,r);break;case"textarea":At(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Tt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Tt(n,!!r.multiple,r.defaultValue,!0):Tt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,je(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,qs=Ui()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Ze("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void vs(e);case 19:return void vs(e);case 17:return}throw Error(a(163))}function vs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ns),e.forEach(function(e){var r=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=iu(e=ru(),t,null)),null!==(t=au(t,e))&&uu(t)}.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}var gs="function"===typeof WeakMap?WeakMap:Map;function ms(t,e,n){(n=co(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,Xs=r),rs(t,e)},n}function ys(t,e,n){(n=co(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return rs(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),rs(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var bs,ws=Math.ceil,xs=$.ReactCurrentDispatcher,Es=$.ReactCurrentOwner,_s=0,ks=8,Ss=16,Cs=32,Os=0,Ts=1,Is=2,Rs=3,As=4,Ps=5,Ns=_s,Ds=null,Ms=null,js=0,Fs=Os,Ls=null,Bs=1073741823,Vs=1073741823,Us=null,zs=0,Ws=!1,qs=0,Hs=500,Gs=null,Ks=!1,Xs=null,$s=null,Ys=!1,Qs=null,Js=90,Zs=null,tu=0,eu=null,nu=0;function ru(){return(Ns&(Ss|Cs))!==_s?1073741821-(Ui()/10|0):0!==nu?nu:nu=1073741821-(Ui()/10|0)}function iu(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=zi();if(0===(4&e))return 99===r?1073741823:1073741822;if((Ns&Ss)!==_s)return js;if(null!==n)t=$i(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=$i(t,150,100);break;case 97:case 96:t=$i(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ds&&t===js&&--t,t}function ou(t,e){if(50<tu)throw tu=0,eu=null,Error(a(185));if(null!==(t=au(t,e))){var n=zi();1073741823===e?(Ns&ks)!==_s&&(Ns&(Ss|Cs))===_s?cu(t):(uu(t),Ns===_s&&Ki()):uu(t),(4&Ns)===_s||98!==n&&99!==n||(null===Zs?Zs=new Map([[t,e]]):(void 0===(n=Zs.get(t))||n>e)&&Zs.set(t,e))}}function au(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ds===i&&(gu(e),Fs===As&&Uu(i,js)),zu(i,e)),i}function su(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Vu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function uu(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Gi(cu.bind(null,t));else{var e=su(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=ru();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Di&&Si(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Gi(cu.bind(null,t)):Hi(r,function t(e,n){nu=0;if(n)return n=ru(),Wu(e,n),uu(e),null;var r=su(e);if(0!==r){if(n=e.callbackNode,(Ns&(Ss|Cs))!==_s)throw Error(a(327));if(ku(),e===Ds&&r===js||hu(e,r),null!==Ms){var i=Ns;Ns|=Ss;for(var o=pu();;)try{yu();break}catch(c){du(e,c)}if(eo(),Ns=i,xs.current=o,Fs===Ts)throw n=Ls,hu(e,r),Uu(e,r),uu(e),n;if(null===Ms)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,i=Fs,Ds=null,i){case Os:case Ts:throw Error(a(345));case Is:Wu(e,2<r?2:r);break;case Rs:if(Uu(e,r),i=e.lastSuspendedTime,r===i&&(e.nextKnownPendingLevel=xu(o)),1073741823===Bs&&10<(o=qs+Hs-Ui())){if(Ws){var s=e.lastPingedTime;if(0===s||s>=r){e.lastPingedTime=r,hu(e,r);break}}if(0!==(s=su(e))&&s!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}e.timeoutHandle=xn(Eu.bind(null,e),o);break}Eu(e);break;case As:if(Uu(e,r),i=e.lastSuspendedTime,r===i&&(e.nextKnownPendingLevel=xu(o)),Ws&&(0===(o=e.lastPingedTime)||o>=r)){e.lastPingedTime=r,hu(e,r);break}if(0!==(o=su(e))&&o!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}if(1073741823!==Vs?i=10*(1073741821-Vs)-Ui():1073741823===Bs?i=0:(i=10*(1073741821-Bs)-5e3,o=Ui(),r=10*(1073741821-r)-o,0>(i=o-i)&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ws(i/1960))-i,r<i&&(i=r)),10<i){e.timeoutHandle=xn(Eu.bind(null,e),i);break}Eu(e);break;case Ps:if(1073741823!==Bs&&null!==Us){s=Bs;var u=Us;if(0>=(i=0|u.busyMinDurationMs)?i=0:(o=0|u.busyDelayMs,s=Ui()-(10*(1073741821-s)-(0|u.timeoutMs||5e3)),i=s<=o?0:o+i-s),10<i){Uu(e,r),e.timeoutHandle=xn(Eu.bind(null,e),i);break}}Eu(e);break;default:throw Error(a(329))}if(uu(e),e.callbackNode===n)return t.bind(null,e)}}return null}.bind(null,t),{timeout:10*(1073741821-e)-Ui()}),t.callbackNode=e}}}function cu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Ns&(Ss|Cs))!==_s)throw Error(a(327));if(ku(),t===Ds&&e===js||hu(t,e),null!==Ms){var n=Ns;Ns|=Ss;for(var r=pu();;)try{mu();break}catch(i){du(t,i)}if(eo(),Ns=n,xs.current=r,Fs===Ts)throw n=Ls,hu(t,e),Uu(t,e),uu(t),n;if(null!==Ms)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ds=null,Eu(t),uu(t)}return null}function lu(t,e){var n=Ns;Ns|=1;try{return t(e)}finally{(Ns=n)===_s&&Ki()}}function fu(t,e){var n=Ns;Ns&=-2,Ns|=ks;try{return t(e)}finally{(Ns=n)===_s&&Ki()}}function hu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,En(n)),null!==Ms)for(n=Ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Mo(),li(pi),li(di);break;case 5:Fo(r);break;case 4:Mo();break;case 13:case 19:li(Lo);break;case 10:no(r)}n=n.return}Ds=t,Ms=Du(t.current,null),js=e,Fs=Os,Ls=null,Vs=Bs=1073741823,Us=null,zs=0,Ws=!1}function du(t,e){for(;;){try{if(eo(),Uo.current=ya,Ko)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wo=0,Go=Ho=qo=null,Ko=!1,null===Ms||null===Ms.return)return Fs=Ts,Ls=e,Ms=null;t:{var i=t,o=Ms.return,a=Ms,s=e;if(e=js,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Lo.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var g=new Set;g.add(u),f.updateQueue=g}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=co(1073741823,null);m.tag=2,lo(a,m)}a.expirationTime=1073741823;break t}s=void 0,a=e;var y=i.pingCache;if(null===y?(y=i.pingCache=new gs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(a)){s.add(a);var b=Tu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);s=Error((vt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(a))}Fs!==Ps&&(Fs=Is),s=es(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=e,fo(f,ms(f,u,e));break t;case 1:u=s;var w=f.type,x=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){f.effectTag|=4096,f.expirationTime=e,fo(f,ys(f,u,e));break t}}f=f.return}while(null!==f)}Ms=wu(Ms)}catch(E){e=E;continue}break}}function pu(){var t=xs.current;return xs.current=ya,null===t?ya:t}function vu(t,e){t<Bs&&2<t&&(Bs=t),null!==e&&t<Vs&&2<t&&(Vs=t,Us=e)}function gu(t){t>zs&&(zs=t)}function mu(){for(;null!==Ms;)Ms=bu(Ms)}function yu(){for(;null!==Ms&&!Mi();)Ms=bu(Ms)}function bu(t){var e=bs(t.alternate,t,js);return t.memoizedProps=t.pendingProps,null===e&&(e=wu(t)),Es.current=null,e}function wu(t){Ms=t;do{var e=Ms.alternate;if(t=Ms.return,0===(2048&Ms.effectTag)){if(e=Za(e,Ms,js),1===js||1!==Ms.childExpirationTime){for(var n=0,r=Ms.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ms.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ms.firstEffect),null!==Ms.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ms.firstEffect),t.lastEffect=Ms.lastEffect),1<Ms.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ms:t.firstEffect=Ms,t.lastEffect=Ms))}else{if(null!==(e=ts(Ms)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ms.sibling))return e;Ms=t}while(null!==Ms);return Fs===Os&&(Fs=Ps),null}function xu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Eu(t){var e=zi();return qi(99,function(t,e){do{ku()}while(null!==Qs);if((Ns&(Ss|Cs))!==_s)throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=xu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ds&&(Ms=Ds=null,js=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ns;Ns|=Cs,Es.current=null,mn=Ge;var s=fn();if(hn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(C){u=null;break t}var h=0,d=-1,p=-1,v=0,g=0,m=s,y=null;e:for(;;){for(var b;m!==u||0!==l&&3!==m.nodeType||(d=h+l),m!==f||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(b=m.firstChild);)y=m,m=b;for(;;){if(m===s)break e;if(y===u&&++v===l&&(d=h),y===f&&++g===c&&(p=h),null!==(b=m.nextSibling))break;y=(m=y).parentNode}m=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:u},Ge=!1,Gs=i;do{try{_u()}catch(C){if(null===Gs)throw Error(a(330));Ou(Gs,C),Gs=Gs.nextEffect}}while(null!==Gs);Gs=i;do{try{for(s=t,u=e;null!==Gs;){var w=Gs.effectTag;if(16&w&&Vt(Gs.stateNode,""),128&w){var x=Gs.alternate;if(null!==x){var E=x.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:hs(Gs),Gs.effectTag&=-3;break;case 6:hs(Gs),Gs.effectTag&=-3,ps(Gs.alternate,Gs);break;case 1024:Gs.effectTag&=-1025;break;case 1028:Gs.effectTag&=-1025,ps(Gs.alternate,Gs);break;case 4:ps(Gs.alternate,Gs);break;case 8:ds(s,l=Gs,u),ls(l)}Gs=Gs.nextEffect}}catch(C){if(null===Gs)throw Error(a(330));Ou(Gs,C),Gs=Gs.nextEffect}}while(null!==Gs);if(E=yn,x=fn(),w=E.focusedElem,u=E.selectionRange,x!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&hn(w)&&(x=u.start,void 0===(E=u.end)&&(E=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(E,w.value.length)):(E=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=ln(w,s),f=ln(w,u),l&&f&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((x=x.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(x),E.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),E.addRange(x))))),x=[];for(E=w;E=E.parentNode;)1===E.nodeType&&x.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<x.length;w++)(E=x[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Ge=!!mn,yn=mn=null,t.current=n,Gs=i;do{try{for(w=t;null!==Gs;){var _=Gs.effectTag;if(36&_&&us(w,Gs.alternate,Gs),128&_){x=void 0;var k=Gs.ref;if(null!==k){var S=Gs.stateNode;switch(Gs.tag){case 5:x=S;break;default:x=S}"function"===typeof k?k(x):k.current=x}}Gs=Gs.nextEffect}}catch(C){if(null===Gs)throw Error(a(330));Ou(Gs,C),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,ji(),Ns=o}else t.current=n;if(Ys)Ys=!1,Qs=t,Js=e;else for(Gs=i;null!==Gs;)e=Gs.nextEffect,Gs.nextEffect=null,Gs=e;if(0===(e=t.firstPendingTime)&&($s=null),1073741823===e?t===eu?tu++:(tu=0,eu=t):tu=0,"function"===typeof Iu&&Iu(n.stateNode,r),uu(t),Ks)throw Ks=!1,t=Xs,Xs=null,t;return(Ns&ks)!==_s?null:(Ki(),null)}.bind(null,t,e)),null}function _u(){for(;null!==Gs;){var t=Gs.effectTag;0!==(256&t)&&os(Gs.alternate,Gs),0===(512&t)||Ys||(Ys=!0,Hi(97,function(){return ku(),null})),Gs=Gs.nextEffect}}function ku(){if(90!==Js){var t=97<Js?97:Js;return Js=90,qi(t,Su)}}function Su(){if(null===Qs)return!1;var t=Qs;if(Qs=null,(Ns&(Ss|Cs))!==_s)throw Error(a(331));var e=Ns;for(Ns|=Cs,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:as(5,n),ss(5,n)}}catch(r){if(null===t)throw Error(a(330));Ou(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Ns=e,Ki(),!0}function Cu(t,e,n){lo(t,e=ms(t,e=es(n,e),1073741823)),null!==(t=au(t,1073741823))&&uu(t)}function Ou(t,e){if(3===t.tag)Cu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Cu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){lo(n,t=ys(n,t=es(e,t),1073741823)),null!==(n=au(n,1073741823))&&uu(n);break}}n=n.return}}function Tu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ds===t&&js===n?Fs===As||Fs===Rs&&1073741823===Bs&&Ui()-qs<Hs?hu(t,js):Ws=!0:Vu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,uu(t)))}bs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||pi.current)Pa=!0;else{if(r<n){switch(Pa=!1,e.tag){case 3:Ua(e),Ra();break;case 5:if(jo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&xi(e);break;case 4:Do(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,fi(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Ka(t,e,n):(fi(Lo,1&Lo.current),null!==(e=Qa(t,e,n))?e.sibling:null);fi(Lo,1&Lo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ya(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),fi(Lo,Lo.current),!r)return null}return Qa(t,e,n)}Pa=!1}}else Pa=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=gi(e,di.current),io(e,n),i=Yo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)){var o=!0;xi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternalFiber=e,Eo(e,r,t,n),e=Va(null,e,r,!0,o,n)}else e.tag=0,Na(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Nu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===st)return 11;if(t===lt)return 14}return 2}(i),t=Yi(i,t),o){case 0:e=La(null,e,i,t,n);break t;case 1:e=Ba(null,e,i,t,n);break t;case 11:e=Da(null,e,i,t,n);break t;case 14:e=Ma(null,e,i,Yi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:Yi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:Yi(r,i),n);case 3:if(Ua(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,uo(t,e),ho(e,r,null,n),(r=e.memoizedState.element)===i)Ra(),e=Qa(t,e,n);else{if((i=e.stateNode.hydrate)&&(_a=_n(e.stateNode.containerInfo.firstChild),Ea=e,i=ka=!0),i)for(n=To(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Na(t,e,r,n),Ra();e=e.child}return e;case 5:return jo(e),null===t&&Oa(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,wn(r,i)?s=null:null!==o&&wn(r,o)&&(e.effectTag|=16),Fa(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Na(t,e,s,n),e=e.child),e;case 6:return null===t&&Oa(e),null;case 13:return Ka(t,e,n);case 4:return Do(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Oo(e,null,r,n):Na(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Da(t,e,r,i=e.elementType===r?i:Yi(r,i),n);case 7:return Na(t,e,e.pendingProps,n),e.child;case 8:case 12:return Na(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(fi(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Br(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){e=Qa(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=co(n,null)).tag=2,lo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ro(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Na(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,io(e,n),r=r(i=oo(i,o.unstable_observedBits)),e.effectTag|=1,Na(t,e,r,n),e.child;case 14:return o=Yi(i=e.type,e.pendingProps),Ma(t,e,i,o=Yi(i.type,o),r,n);case 15:return ja(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(r)?(t=!0,xi(e)):t=!1,io(e,n),wo(e,r,i),Eo(e,r,i,n),Va(null,e,r,!0,t,n);case 19:return Ya(t,e,n)}throw Error(a(156,e.tag))};var Iu=null,Ru=null;function Au(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pu(t,e,n,r){return new Au(t,e,n,r)}function Nu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Du(t,e){var n=t.alternate;return null===n?((n=Pu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Nu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case et:return ju(n.children,i,o,e);case at:s=8,i|=7;break;case nt:s=8,i|=1;break;case rt:return(t=Pu(12,n,e,8|i)).elementType=rt,t.type=rt,t.expirationTime=o,t;case ut:return(t=Pu(13,n,e,i)).type=ut,t.elementType=ut,t.expirationTime=o,t;case ct:return(t=Pu(19,n,e,i)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case it:s=10;break t;case ot:s=9;break t;case st:s=11;break t;case lt:s=14;break t;case ft:s=16,r=null;break t;case ht:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Pu(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function ju(t,e,n,r){return(t=Pu(7,t,r,e)).expirationTime=n,t}function Fu(t,e,n){return(t=Pu(6,t,null,e)).expirationTime=n,t}function Lu(t,e,n){return(e=Pu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Vu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Uu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function zu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Wu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function qu(t,e,n,r){var i=e.current,o=ru(),s=vo.suspense;o=iu(o,i,s);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,u);break t}}n=u}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),lo(i,e),ou(i,o),o}function Hu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Gu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ku(t,e){Gu(t,e),(t=t.alternate)&&Gu(t,e)}function Xu(t,e,n){var r=new Bu(t,e,n=null!=n&&!0===n.hydrate),i=Pu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,so(i),t[Tn]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Ce.forEach(function(t){pe(t,e,n)}),Oe.forEach(function(t){pe(t,e,n)})}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function $u(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Yu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Hu(a);s.call(t)}}qu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Xu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Hu(a);u.call(t)}}fu(function(){qu(e,a,t,i)})}return Hu(a)}function Qu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(e))throw Error(a(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:tt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Xu.prototype.render=function(t){qu(t,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;qu(null,t,null,function(){e[Tn]=null})},ve=function(t){if(13===t.tag){var e=$i(ru(),150,100);ou(t,e),Ku(t,e)}},ge=function(t){13===t.tag&&(ou(t,3),Ku(t,3))},me=function(t){if(13===t.tag){var e=ru();ou(t,e=iu(e,t,null)),Ku(t,e)}},O=function(t,e,n){switch(e){case"input":if(kt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pn(r);if(!i)throw Error(a(90));wt(r),kt(r,i)}}}break;case"textarea":At(t,n);break;case"select":null!=(e=n.value)&&Tt(t,!!n.multiple,e,!1)}},N=lu,D=function(t,e,n,r,i){var o=Ns;Ns|=4;try{return qi(98,t.bind(null,e,n,r,i))}finally{(Ns=o)===_s&&Ki()}},M=function(){(Ns&(1|Ss|Cs))===_s&&(function(){if(null!==Zs){var t=Zs;Zs=null,t.forEach(function(t,e){Wu(e,t),uu(e)}),Ki()}}(),ku())},j=function(t,e){var n=Ns;Ns|=2;try{return t(e)}finally{(Ns=n)===_s&&Ki()}};var Ju={Events:[Rn,An,Pn,S,E,Bn,function(t){ie(t,Ln)},A,P,$e,se,ku,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Iu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Ru=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ju,e.createPortal=Qu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if((Ns&(Ss|Cs))!==_s)throw Error(a(187));var n=Ns;Ns|=1;try{return qi(99,t.bind(null,e))}finally{Ns=n,Ki()}},e.hydrate=function(t,e,n){if(!$u(e))throw Error(a(200));return Yu(null,t,e,!0,n)},e.render=function(t,e,n){if(!$u(e))throw Error(a(200));return Yu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$u(t))throw Error(a(40));return!!t._reactRootContainer&&(fu(function(){Yu(null,null,t,!1,function(){t._reactRootContainer=null,t[Tn]=null})}),!0)},e.unstable_batchedUpdates=lu,e.unstable_createPortal=function(t,e){return Qu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$u(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Yu(t,e,n,!1,r)},e.version="16.14.0"},function(t,e,n){"use strict";t.exports=n(220)},function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},f=Date.now();e.unstable_now=function(){return Date.now()-f},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var y=!1,b=null,w=-1,x=5,E=0;a=function(){return e.unstable_now()>=E},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,k=_.port2;_.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();E=t+x;try{b(!0,t)?k.postMessage(null):(y=!1,b=null)}catch(n){throw k.postMessage(null),n}}else y=!1},r=function(t){b=t,y||(y=!0,k.postMessage(null))},i=function(t,n){w=p(function(){t(e.unstable_now())},n)},o=function(){v(w),w=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function C(t){return void 0===(t=t[0])?null:t}function O(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var I=[],R=[],A=1,P=null,N=3,D=!1,M=!1,j=!1;function F(t){for(var e=C(R);null!==e;){if(null===e.callback)O(R);else{if(!(e.startTime<=t))break;O(R),e.sortIndex=e.expirationTime,S(I,e)}e=C(R)}}function L(t){if(j=!1,F(t),!M)if(null!==C(I))M=!0,r(B);else{var e=C(R);null!==e&&i(L,e.startTime-t)}}function B(t,n){M=!1,j&&(j=!1,o()),D=!0;var r=N;try{for(F(n),P=C(I);null!==P&&(!(P.expirationTime>n)||t&&!a());){var s=P.callback;if(null!==s){P.callback=null,N=P.priorityLevel;var u=s(P.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?P.callback=u:P===C(I)&&O(I),F(n)}else O(I);P=C(I)}if(null!==P)var c=!0;else{var l=C(R);null!==l&&i(L,l.startTime-n),c=!1}return c}finally{P=null,N=r,D=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){M||D||(M=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return C(I)},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:V(t)}else a=V(t),u=s;return t={id:A++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,S(R,t),null===C(I)&&t===C(R)&&(j?o():j=!0,i(L,u-s))):(t.sortIndex=a,S(I,t),M||D||(M=!0,r(B))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=C(I);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=N;return function(){var n=N;N=e;try{return t.apply(this,arguments)}finally{N=n}}}},,,function(t,e,n){"use strict";var r=n(224);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case m:case g:case c:return t;default:return e}}case o:return e}}}function _(t){return E(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=m,e.Memo=g,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return _(t)||E(t)===f},e.isConcurrentMode=_,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===d},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===m},e.isMemo=function(t){return E(t)===g},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===p||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===b||t.$$typeof===w||t.$$typeof===x||t.$$typeof===y)},e.typeOf=E},function(t,e,n){"use strict";var r=n(22);e.__esModule=!0,e.default=void 0;var i=r(n(227)),o=r(n(232)),a=(r(n(155)),r(n(156)),function(t){return(0,i.default)(function(t,e){return!(0,o.default)(t,e)})(t)});e.default=a},function(t,e,n){"use strict";var r=n(22);e.__esModule=!0,e.default=void 0;var i=r(n(228)),o=n(0),a=(r(n(155)),r(n(156)),function(t){return function(e){var n=(0,o.createFactory)(e);return function(e){function r(){return e.apply(this,arguments)||this}(0,i.default)(r,e);var o=r.prototype;return o.shouldComponentUpdate=function(e){return t(this.props,e)},o.render=function(){return n(this.props)},r}(o.Component)}});e.default=a},function(t,e,n){var r=n(229);t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,n(e,r)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){return function(n){return n[t]=e,n}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":void 0};e.default=r},function(t,e,n){"use strict";var r=n(22);e.__esModule=!0,e.default=void 0;var i=r(n(233)).default;e.default=i},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function(t,e){if(i(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=(0,r(n(235)).default)();e.default=i},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(n(161));var i=r(n(81)),o=n(12),a=r(n(237)),s=r(n(238)),u=r(n(239)),c=r(n(249)),l=r(n(250)),f=r(n(251)),h=r(n(252)),d=r(n(253)),p=r(n(254));var v=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,r=t.mixins,v=void 0===r?{}:r,g=t.palette,m=void 0===g?{}:g,y=t.spacing,b=t.typography,w=void 0===b?{}:b,x=(0,i.default)(t,["breakpoints","mixins","palette","spacing","typography"]),E=(0,u.default)(m),_=(0,a.default)(n),k=(0,h.default)(y),S=(0,o.deepmerge)({breakpoints:_,direction:"ltr",mixins:(0,s.default)(_,k,v),overrides:{},palette:E,props:{},shadows:l.default,typography:(0,c.default)(E,w),spacing:k,shape:f.default,transitions:d.default,zIndex:p.default},x),C=arguments.length,O=new Array(C>1?C-1:0),T=1;T<C;T++)O[T-1]=arguments[T];return S=O.reduce(function(t,e){return(0,o.deepmerge)(t,e)},S)};e.default=v},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,s=void 0===r?"px":r,u=t.step,c=void 0===u?5:u,l=(0,o.default)(t,["values","unit","step"]);function f(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(s,")")}function h(t,e){var r=a.indexOf(e);return r===a.length-1?f(t):"@media (min-width:".concat("number"===typeof n[t]?n[t]:t).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:e)-c/100).concat(s,")")}return(0,i.default)({keys:a,values:n,up:f,down:function(t){var e=a.indexOf(t)+1,r=n[a[e]];if(e===a.length)return f("xs");return"@media (max-width:".concat(("number"===typeof r&&e>0?r:t)-c/100).concat(s,")")},between:h,only:function(t){return h(t,t)},width:function(t){return n[t]}},l)},e.keys=void 0;var i=r(n(77)),o=r(n(81)),a=["xs","sm","md","lg","xl"];e.keys=a},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r;return(0,o.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:e(2),paddingRight:e(2)},n,(0,i.default)({},t.up("sm"),(0,o.default)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(r={minHeight:56},(0,i.default)(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,i.default)(r,t.up("sm"),{minHeight:64}),r)},n)};var i=r(n(161)),o=r(n(77))},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.primary,n=void 0===e?{light:c.default[300],main:c.default[500],dark:c.default[700]}:e,r=t.secondary,b=void 0===r?{light:l.default.A200,main:l.default.A400,dark:l.default.A700}:r,w=t.error,x=void 0===w?{light:f.default[300],main:f.default[500],dark:f.default[700]}:w,E=t.warning,_=void 0===E?{light:h.default[300],main:h.default[500],dark:h.default[700]}:E,k=t.info,S=void 0===k?{light:d.default[300],main:d.default[500],dark:d.default[700]}:k,C=t.success,O=void 0===C?{light:p.default[300],main:p.default[500],dark:p.default[700]}:C,T=t.type,I=void 0===T?"light":T,R=t.contrastThreshold,A=void 0===R?3:R,P=t.tonalOffset,N=void 0===P?.2:P,D=(0,o.default)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function M(t){var e=(0,v.getContrastRatio)(t,m.text.primary)>=A?m.text.primary:g.text.primary;return e}var j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=(0,i.default)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error((0,a.formatMuiErrorMessage)(4,e));if("string"!==typeof t.main)throw new Error(_formatMuiErrorMessage(5,JSON.stringify(t.main)));return y(t,"light",n,N),y(t,"dark",r,N),t.contrastText||(t.contrastText=M(t.main)),t},F={dark:m,light:g};0;return(0,a.deepmerge)((0,i.default)({common:s.default,type:I,primary:j(n),secondary:j(b,"A400","A200","A700"),error:j(x),warning:j(_),info:j(S),success:j(O),grey:u.default,contrastThreshold:A,getContrastText:M,augmentColor:j,tonalOffset:N},F[I]),D)},e.dark=e.light=void 0;var i=r(n(77)),o=r(n(81)),a=n(12),s=r(n(240)),u=r(n(241)),c=r(n(242)),l=r(n(243)),f=r(n(244)),h=r(n(245)),d=r(n(246)),p=r(n(247)),v=n(248),g={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:u.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};e.light=g;var m={text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:u.default[800],default:"#303030"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(t,e,n,r){var i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,v.lighten)(t.main,i):"dark"===e&&(t.dark=(0,v.darken)(t.main,o)))}e.dark=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={black:"#000",white:"#fff"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToRgb=o,e.rgbToHex=function(t){if(0===t.indexOf("#"))return t;var e=s(t).values;return"#".concat(e.map(function(t){return function(t){var e=t.toString(16);return 1===e.length?"0".concat(e):e}(t)}).join(""))},e.hslToRgb=a,e.decomposeColor=s,e.recomposeColor=u,e.getContrastRatio=function(t,e){var n=c(t),r=c(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},e.getLuminance=c,e.emphasize=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(t)>.5?l(t,e):f(t,e)},e.fade=function(t,e){t=s(t),e=i(e),("rgb"===t.type||"hsl"===t.type)&&(t.type+="a");return t.values[3]=e,u(t)},e.darken=l,e.lighten=f;var r=n(12);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function o(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map(function(t){return t+t})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3}).join(", "),")"):""}function a(t){var e=(t=s(t)).values,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-o*Math.max(Math.min(e-3,9-e,1),-1)},c="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===t.type&&(c+="a",l.push(e[3])),u({type:c,values:l})}function s(t){if(t.type)return t;if("#"===t.charAt(0))return s(o(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.formatMuiErrorMessage)(3,t));var i=t.substring(e+1,t.length-1).split(",");return{type:n,values:i=i.map(function(t){return parseFloat(t)})}}function u(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map(function(t,e){return e<3?parseInt(t,10):t}):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function c(t){var e="hsl"===(t=s(t)).type?s(a(t)).values:t.values;return e=e.map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l(t,e){if(t=s(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return u(t)}function f(t,e){if(t=s(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return u(t)}},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n="function"===typeof e?e(t):e,r=n.fontFamily,l=void 0===r?c:r,f=n.fontSize,h=void 0===f?14:f,d=n.fontWeightLight,p=void 0===d?300:d,v=n.fontWeightRegular,g=void 0===v?400:v,m=n.fontWeightMedium,y=void 0===m?500:m,b=n.fontWeightBold,w=void 0===b?700:b,x=n.htmlFontSize,E=void 0===x?16:x,_=n.allVariants,k=n.pxToRem,S=(0,o.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);0;var C=h/14,O=k||function(t){return"".concat(t/E*C,"rem")},T=function(t,e,n,r,o){return(0,i.default)({fontFamily:l,fontWeight:t,fontSize:O(e),lineHeight:n},l===c?{letterSpacing:"".concat(s(r/e),"em")}:{},o,_)},I={h1:T(p,96,1.167,-1.5),h2:T(p,60,1.2,-.5),h3:T(g,48,1.167,0),h4:T(g,34,1.235,.25),h5:T(g,24,1.334,0),h6:T(y,20,1.6,.15),subtitle1:T(g,16,1.75,.15),subtitle2:T(y,14,1.57,.1),body1:T(g,16,1.5,.15),body2:T(g,14,1.43,.15),button:T(y,14,1.75,.4,u),caption:T(g,12,1.66,.4),overline:T(g,12,2.66,1,u)};return(0,a.deepmerge)((0,i.default)({htmlFontSize:E,pxToRem:O,round:s,fontFamily:l,fontSize:h,fontWeightLight:p,fontWeightRegular:g,fontWeightMedium:y,fontWeightBold:w},I),S,{clone:!1})};var i=r(n(77)),o=r(n(81)),a=n(12);function s(t){return Math.round(1e5*t)/1e5}var u={textTransform:"uppercase"},c='"Roboto", "Helvetica", "Arial", sans-serif'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=.2,i=.14,o=.12;function a(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(r,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(i,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(o,")")].join(",")}var s=["none",a(0,2,1,-1,0,1,1,0,0,1,3,0),a(0,3,1,-2,0,2,2,0,0,1,5,0),a(0,3,3,-2,0,3,4,0,0,1,8,0),a(0,2,4,-1,0,4,5,0,0,1,10,0),a(0,3,5,-1,0,5,8,0,0,1,14,0),a(0,3,5,-1,0,6,10,0,0,1,18,0),a(0,4,5,-2,0,7,10,1,0,2,16,1),a(0,5,5,-3,0,8,10,1,0,3,14,2),a(0,5,6,-3,0,9,12,1,0,3,16,2),a(0,6,6,-3,0,10,14,1,0,4,18,3),a(0,6,7,-4,0,11,15,1,0,4,20,3),a(0,7,8,-4,0,12,17,2,0,5,22,4),a(0,7,8,-4,0,13,19,2,0,5,24,4),a(0,7,9,-4,0,14,21,2,0,5,26,4),a(0,8,9,-5,0,15,22,2,0,6,28,5),a(0,8,10,-5,0,16,24,2,0,6,30,5),a(0,8,11,-5,0,17,26,2,0,6,32,5),a(0,9,11,-5,0,18,28,2,0,7,34,6),a(0,9,12,-6,0,19,29,2,0,7,36,6),a(0,10,13,-6,0,20,31,3,0,8,38,7),a(0,10,13,-6,0,21,33,3,0,8,40,7),a(0,10,14,-6,0,22,35,3,0,8,42,7),a(0,11,14,-7,0,23,36,3,0,9,44,8),a(0,11,15,-7,0,24,38,3,0,9,46,8)];e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={borderRadius:4};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=(0,r.createUnarySpacing)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map(function(t){if("string"===typeof t)return t;var n=e(t);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n};var r=n(149)},function(t,e,n){"use strict";var r=n(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.duration=e.easing=void 0;var i=r(n(81)),o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};e.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(t){return"".concat(Math.round(t),"ms")}e.duration=a;var u={easing:o,duration:a,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,r=void 0===n?a.standard:n,u=e.easing,c=void 0===u?o.easeInOut:u,l=e.delay,f=void 0===l?0:l;(0,i.default)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map(function(t){return"".concat(t," ").concat("string"===typeof r?r:s(r)," ").concat(c," ").concat("string"===typeof f?f:s(f))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};e.default=r},function(t,e,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(256),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"===typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},g={};g[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==r&&i.call(y,a)&&(g=y);var b=k.prototype=E.prototype=Object.create(g);_.prototype=b.constructor=k,k.constructor=_,k[u]=_.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[s]=function(){return this},l.AsyncIterator=C,l.async=function(t,e,n,r){var i=new C(w(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=x(t,e,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function E(){}function _(){}function k(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var s=x(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},function(t){return e("throw",t,o,a)})}a(s.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=x(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(t,e,n){"use strict";n(258)},function(t,e,n){"use strict";(function(t){var e=n(11);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)})},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function x(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:x).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function O(t,e,n){this.code=R+t,this.message=e||A[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new O(e.substring(R.length),t.message,t.serverResponse):null}S(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var I,R="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function j(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function F(t,e){throw new j("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}I=N("__EID__")?"__EID__":void 0,S(M,Error),M.prototype.name="CustomError",S(j,M),j.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new L(function(){return new W},function(t){t.reset()});function z(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function W(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},W.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},X=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=q(t,e)}function Y(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ft=u.navigator;if(ft){var ht=ft.userAgent;if(ht){tt=ht;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===kt&&e||"",this.b=_t}function xt(t){return t instanceof wt&&t.constructor===wt&&t.b===_t?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,_t={},kt={};function St(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function Ct(t,e){this.a=e===At?t:""}function Ot(t){return t instanceof Ct&&t.constructor===Ct?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=xt(t);if(!Rt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Ct(t=e?e.createScriptURL(t):t,At)}(t=n.replace(It,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?xt(t):encodeURIComponent(String(t))}))}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Rt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Pt(t,e){this.a=e===Bt?t:""}function Nt(t){return t instanceof Pt&&t.constructor===Pt?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t))t=new Pt(t,Bt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Dt.test(e[1])?new Pt(t,Bt):null}return t}function Lt(t){return t instanceof Pt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,Bt))}var Bt={},Vt=new Pt("about:invalid#zClosurez",Bt);function Ut(t,e,n){this.a=n===zt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function Wt(t,e,n,r){return t=t instanceof Pt?t:Lt(t),e=e||u,n=n instanceof wt?xt(n):n||"",e.open(Nt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var Kt,Xt=dt("Opera"),$t=dt("Trident")||dt("MSIE"),Yt=dt("Edge"),Qt=Yt||$t,Jt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Yt?/Edge\/([\d\.]+)/.exec(t):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Xt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),$t){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=et(String(Kt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}if(u.document&&$t){var se=te();ie=se||(parseInt(Kt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ua){}var ce=!$t||9<=Number(ue);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function fe(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var he,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):fe(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}H(a?Z(o):o,r)}}}(i,o,r),o}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout(function(){throw t},0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(xe)}}else de=function(){var t=xe;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(he||(he=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),he(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new V;function xe(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){me(e)}B(U,t)}be=!1}function Ee(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Me(n,ke,t)},function(t){if(!(t instanceof ze))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Me(n,Se,t)})}catch(r){Me(this,Se,r)}}var _e=0,ke=2,Se=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new L(function(){return new Ce},function(t){t.reset()});function Te(t,e,n){var r=Oe.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof Ee)return t;var e=new Ee(h);return Me(e,ke,t),e}function Re(t){return new Ee(function(e,n){n(t)})}function Ae(t,e,n){je(t,e,n,null)||ye(_(e,t))}function Pe(t){return new Ee(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function Ne(t,e){t.b||t.a!=ke&&t.a!=Se||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Te(null,null,null);return i.a=new Ee(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ze?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Ne(t,i),i.a}function Me(t,e,n){t.a==_e&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Se||n instanceof ze||function(t,e){t.g=!0,ye(function(){t.g&&Ue.call(null,e)})}(t,n)))}function je(t,e,n,r){if(t instanceof Ee)return Ne(t,Te(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,ye(t.gc,t))}function Le(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Be(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Ue.call(null,i)}B(Oe,e)}function Ve(t,e,n){e==ke?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return De(this,v(t)?t:null,v(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,Ne(this,t),this},n.o=function(t,e){return De(this,null,t,e)},n.cancel=function(t){if(this.a==_e){var e=new ze(t);ye(function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==_e&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Le(r),Be(r,o,Se,n)))}e.c=null}else Me(e,Se,n)}(this,e)},this)}},n.$c=function(t){this.a=_e,Me(this,ke,t)},n.ad=function(t){this.a=_e,Me(this,Se,t)},n.gc=function(){for(var t;t=Le(this);)Be(this,t,this.a,this.i);this.h=!1};var Ue=me;function ze(t){M.call(this,t)}function We(){0!=qe&&(He[m(this)]=this),this.xa=this.xa,this.pa=this.pa}S(ze,M),ze.prototype.name="cancel";var qe=0,He={};function Ge(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}We.prototype.xa=!1,We.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},Xe=!$t||9<=Number(ue),$e=$t&&!ae("9"),Ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Je,Qe);var Ze=Ke({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++en,this.va=this.Pa=!1}function rn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function on(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=sn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new nn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=xn(n),t&&t[tn]?_n(t,e,n,g(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(t);if(s||(t[un]=s=new on(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=Xe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=xn(n),t&&t[tn]?kn(t,e,n,g(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=xn(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=sn(o=t.a[e],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[tn])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=bn(e))?(an(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function vn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&pn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!Xe){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(t){return v(t)?t:(t[wn]||(t[wn]=function(e){return t.handleEvent(e)}),t[wn])}function En(){We.call(this),this.v=new on(this),this.ac=this,this.gb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function On(t){var e=null;return new Ee(function(n,r){-1==(e=Cn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw u.clearTimeout(e),t})}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Rn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Rn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(En,We),En.prototype[tn]=!0,En.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;yt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Sn(a,r,!0,t)&&i}if(i=Sn(a=t.b=n,r,!0,t)&&i,i=Sn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,rn(n[r]);delete e.a[t],e.b--}}this.gb=null},(n=Rn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return An(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},n.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Mn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Fn(this,nr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=zn(n[2]||""),this.a=zn(n[3]||"",!0),jn(this,n[4]),this.f=zn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=zn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Mn(t,e,n){t.c=n?zn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),er(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Wn(e,Xn)),t.b=new Yn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Bn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Un(t,e,n,r){var i=new Dn(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.f=r),i}function zn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Wn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Wn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Wn(n,$n)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Mn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,nr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,Xn=/[#\?@]/g,$n=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Rn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Jn(t){var e=In(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(t,e){Qn(t),e=rr(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function tr(t,e){return Qn(t),e=rr(t,e),Pn(t.a.b,e)}function er(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(rr(t,e),Z(n)),t.b+=n.length)}function nr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Rn(t.a),e.b=t.b),e}function rr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ir(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ur(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new or,t,e),e.join("")}function or(){}(n=Yn.prototype).add=function(t,e){Qn(this),this.c=null,t=rr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},n.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.W=function(t){Qn(this);var e=[];if("string"===typeof t)tr(this,t)&&(e=J(e,this.a.get(rr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return Qn(this),this.c=null,tr(this,t=rr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,function(t){var e=ar[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ar[t]=e),e}),'"')}function cr(){var t=Tr();return $t&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function lr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(t,e){e=e||u.window;var n="about:blank";t&&(n=Nt(Ft(t)||Vt)),e.location.href=n}function hr(t){return!!((t=(t||Tr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||u.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Sr(Tr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:Ft("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Lt(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Wt("",r,n,a),t=Nt(e),a&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=St())?r.createHTML(t):t,null,zt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Wt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new Ee(function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yr(t){return t=t||Tr(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function xr(){return e.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.default.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=xr();return"ReactNative"===t||"Node"===t}var _r="Firefox",kr="Chrome";function Sr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?_r:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":kr:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=xr())?r=Sr(i=Tr()):"Worker"===r&&(r=Sr(i=Tr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Tr(){return u.navigator&&u.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=Lr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!u.indexedDB}catch(n){return wr()&&!!u.indexedDB}return!1}function Ar(){return(Pr()||"chrome-extension:"===Nr()||yr())&&!Er()&&Rr()&&!wr()}function Pr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return u.location&&u.location.protocol||null}function Dr(t){return!hr(t=t||Tr())&&Sr(t)!=_r}function Mr(t){return"undefined"===typeof t?null:ir(t)}function jr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function Br(t){return"Safari"!=Sr(t=t||Tr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Tr(),e=xr(),this.b=hr(t)||"ReactNative"===e}function zr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Ir("fireauth.oauthhelper",u)&&!Ir("fireauth.iframe",u))}Ur.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Pr()&&"chrome-extension:"!==Nr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Gr={};function Kr(t){Gr[t]||(Gr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Xr.abcd}catch(ua){Hr=!1}function $r(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function Qr(t){var e={};return Yr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ri]),$r(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),$r(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[li],r=t[hi],i=t[di];if(t=ti(t[fi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[mi]=n||null,e[pi]=r):(e[vi]=r||null,e[mi]=r||null,e[pi]=n||null),e[gi]=t||null,$r(this,bi,i),$r(this,yi,Jr(e))}S(oi,Zr),oi.prototype.w=function(){var t=oi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",fi="mfaInfo",hi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",mi="previousEmail",yi="data",bi="operation";function wi(t){var e=Bn(t=Vn(t),xi)||null,n=Bn(t,Ei)||null,r=Bn(t,Si)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new O("argument-error",xi+", "+Ei+"and "+Si+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Bn(t,_i)||null,languageCode:Bn(t,ki)||null,tenantId:Bn(t,Ci)||null})}var xi="apiKey",Ei="oobCode",_i="continueUrl",ki="languageCode",Si="mode",Ci="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new wi(t)}catch(e){return null}}function Ii(t){var e=t[Di];if("undefined"===typeof e)throw new O("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new O("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[Fi];var r=n[Mi];if(n=n[ji],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new O("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new O("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new O("argument-error",Fi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new O("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new O("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"===typeof e){if("string"===typeof(e=e[Li])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new O("argument-error",Li+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new O("argument-error",Ni+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Pi])&&"boolean"!==typeof e)throw new O("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Ai])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new O("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Ai="dynamicLinkDomain",Pi="handleCodeInApp",Ni="iOS",Di="url",Mi="installApp",ji="minimumVersion",Fi="packageName",Li="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Ui(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}function zi(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Wi(t){try{return new zi(t)}catch(e){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Ui(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}zi.prototype.T=function(){return this.f},zi.prototype.l=function(){return this.c},zi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Xi(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function $i(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Zi(t);if("undefined"!==typeof t[Yi])return new Ji(t)}catch(r){}return null}var Yi="idToken",Qi="providerId";function Ji(t){var e=t[Qi];if(!e&&t[Yi]){var n=Wi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),$r(this,"profile",Jr((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Bn(e,"link"),r=Bn(Vn(n),"link");return e=Bn(e,"deep_link_id"),Bn(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:so}S(Zi,Ji),S(to,Zi),S(eo,Zi),S(no,Zi),S(ro,Zi);var ao="enroll",so="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ja]){var n=Wi(t[Ja]);if(!n||e!=n.i)throw new O("user-mismatch");return t}throw new O("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==R+"user-not-found"?new O("user-mismatch"):t})}function lo(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function fo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Xi(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function bo(t){mo.call(this,t,Gi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function xo(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function _o(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function ko(){bo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function Co(){mo.call(this,"twitter.com",Hi)}function Oo(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function Ro(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=Po(e)))throw new O("argument-error","Invalid email link!");return new To(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=Ti(t=io(t)))&&t.operation===ui?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new O("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new No(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function jo(t){try{this.a=t||e.default.auth()}catch(n){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new No({eb:t,cb:e})}function Lo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return xo(n);case"github.com":return _o(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new lo(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Bo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function zo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return ws(t,fo(this))},lo.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,xs(t,n)},lo.prototype.c=function(t,e){return co(Es(t,fo(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ws(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,xs(t,n)},po.prototype.c=function(t,e){return co(Es(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=gt(t),this},S(yo,mo),S(bo,mo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Qb=function(){return Z(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},S(wo,bo),$r(wo,"PROVIDER_ID","facebook.com"),$r(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(Eo,bo),$r(Eo,"PROVIDER_ID","github.com"),$r(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),S(ko,bo),$r(ko,"PROVIDER_ID","google.com"),$r(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Co,mo),$r(Co,"PROVIDER_ID","twitter.com"),$r(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ka=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Rs,{email:this.a,oobCode:this.f}):ru(t,Js,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(t,As,{idToken:e,email:this.a,oobCode:this.f}):ru(t,qs,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return co(this.ka(t),e)},To.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Ro,{PROVIDER_ID:"password"}),Yr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(Mo(this))},No.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,ru(t,tu,n)},No.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.fb=function(t,e){var n=this.a.a;return Ie(e.verify()).then(function(r){if("string"!==typeof r)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==ao?i.Ha().then(function(t){return ru(n,Gs,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==so?i.Ha().then(function(e){return function(t,e){return ru(t,Ks,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return ru(t,zs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(jo,{PROVIDER_ID:"phone"}),Yr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,qo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function Go(t,e,n){O.call(this,t,n),(t=e||{}).Jb&&$r(this,"email",t.Jb),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.Zb&&$r(this,"tenantId",t.Zb)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(R)&&(e=e.substring(R.length));var n={credential:Lo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Xo(){}function $o(t){return t.c||(t.c=t.b())}function Yo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ta(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ea(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Ho,O),S(Go,O),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,S(Yo,Xo),Yo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},Wo=new Yo,S(Jo,Xo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(n=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,ta(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null;function na(t){this.f=t,this.b=this.c=this.a=null}function ra(t,e){this.name=t,this.value=e}ea.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||k(),delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);na.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(F("Root logger has no level set."),null)}(this).value)for(v(e)&&(e=e()),t=new ea(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua,ca={},la=null;function fa(t){var e;if(la||(la=new na(""),ca[""]=la,la.c=aa),!(e=ca[t])){e=new na(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=fa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ca[t]=e}return e}function ha(t,e){t&&t.log(sa,e,void 0)}function da(t){this.f=t}function pa(t){En.call(this),this.u=t,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(da,Xo),da.prototype.a=function(){return new pa(this.f)},da.prototype.b=(ua={},function(){return ua}),S(pa,En);var va=0;function ga(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ba(t){En.call(this),this.headers=new Rn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=wa,this.u=this.S=!1}(n=pa.prototype).open=function(t,e){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=va},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ga(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ya(this),3==this.readyState&&ga(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},n.sc=function(t){this.a&&(this.response=t,ma(this))},n.Ua=function(t){var e=this.i;e&&e.log(oa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(ba,En);var wa="";ba.prototype.b=fa("goog.net.XhrIo");var xa=/^https?$/i,Ea=["POST","PUT"];function _a(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Wo.a(),t.C=t.D?$o(t.D):$o(Wo),t.a.onreadystatechange=E(t.Vb,t);try{ha(t.b,Pa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ha(t.b,Pa(t,"Error opening Xhr: "+a.message)),void Sa(t,a)}e=r||"";var o=new Rn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)H(t,e,void 0);else for(var n=In(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ka,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!$(Ea,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ia(t),0<t.g&&(t.u=function(t){return $t&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,Pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),ha(t.b,Pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ha(t.b,Pa(t,"Send error: "+a.message)),Sa(t,a)}}function ka(t){return"content-type"==t.toLowerCase()}function Sa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ca(t),Ta(t)}function Ca(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Oa(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Ra(t)&&2==Aa(t))ha(t.b,Pa(t,"Local request error detected and ignored"));else if(t.i&&4==Ra(t))Cn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ra(t)){ha(t.b,Pa(t,"Request complete")),t.c=!1;try{var e,n=Aa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!xa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ra(t)?t.a.statusText:""}catch(l){ha(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Aa(t)+"]",Ca(t)}}finally{Ta(t)}}}function Ta(t,e){if(t.a){Ia(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ia,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ia(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ra(t){return t.a?t.a.readyState:0}function Aa(t){try{return 2<Ra(t)?t.a.status:-1}catch(e){return-1}}function Pa(t,e){return e+" ["+t.R+" "+t.l+" "+Aa(t)+"]"}function Na(t){var e=qa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Da(t,e,n){t.a=!0,t.c=n,t.f=!e,La(t)}function Ma(t){if(t.a){if(!t.v)throw new Ba(t);t.v=!1}}function ja(t,e,n,r){t.g.push([e,n,r]),t.a&&La(t)}function Fa(t){return X(t.g,function(t){return v(t[1])})}function La(t){if(t.h&&t.a&&Fa(t)){var e=t.h,n=za[e];n&&(u.clearTimeout(n.a),delete za[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(D(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Fa(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Na?(ja(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Ua(e),za[e.a]=e,t.h=e.a)}function Ba(){M.call(this)}function Va(){M.call(this)}function Ua(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=ba.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ha(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ta(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ta(this,!0)),ba.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?Oa(this):this.Jc())},n.Jc=function(){Oa(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ha(this.b,"Can not get response: "+e.message),null}},Na.prototype.cancel=function(t){if(this.a)this.c instanceof Na&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Va(this),Ma(this),Da(this,!1,t))}},Na.prototype.m=function(t,e){this.i=!1,Da(this,t,e)},Na.prototype.then=function(t,e,n){var r,i,o=new Ee(function(t,e){r=t,i=e});return ja(this,r,function(t){t instanceof Va?o.cancel():i(t)}),o.then(t,e,n)},Na.prototype.$goog_Thenable=!0,S(Ba,M),Ba.prototype.message="Deferred has already fired",Ba.prototype.name="AlreadyCalledError",S(Va,M),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",Ua.prototype.c=function(){throw delete za[this.a],this.b};var za={};function Wa(t){var e={},n=e.document||document,r=Ot(t).toString(),i=ge(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Na(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){Ha(i,!0);var t=new Xa(Ka,"Timeout reached for loading script "+r);Ma(a),Da(a,!1,t)},c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,e.xd||!1,s),Ma(a),Da(a,!0,null))},i.onerror=function(){Ha(i,!0,s);var t=new Xa(Ga,"Error while loading script "+r);Ma(a),Da(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=f(e.document):(null===l&&(l=f(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function qa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ha(t,!0,this.Ma)}}function Ha(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ga=0,Ka=1;function Xa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function $a(t){this.f=t}function Ya(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=gt(t.secureTokenHeaders||ts),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||es,this.a=gt(t.firebaseHeaders||ns),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==xr(),!(r=u.XMLHttpRequest||r&&e.default.INTERNAL.node&&e.default.INTERNAL.node.XMLHttpRequest)&&!wr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new da(self):Er()?this.f=new $a(r):this.f=new Jo,this.b=null}S(Xa,M),S($a,Xo),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Qa,Ja="idToken",Za=new Ur(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},es=new Ur(3e4,6e4),ns={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function is(t,e){e&&(t.l=os("https://securetoken.googleapis.com/v1/token",e),t.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=os("https://identitytoolkit.googleapis.com/v2/",e))}function os(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Mn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function as(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ss(t,e,n,r,i,o,a){(function(){var t=Tr();return!((t=Sr(t)!=kr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!$t||!ue||9<ue)})()||wr()?t=E(t.u,t):(Qa||(Qa=new Ee(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[cs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Tt(us,{onload:cs});!function(t,e){ja(t,null,e,void 0)}(Wa(n),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=E(t.s,t)),t(e,n,r,i,o,a)}Ya.prototype.T=function(){return this.b},Ya.prototype.u=function(t,e,n,r,i,o){if(wr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ba(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}_n(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),kn(a,"ready",function(){s&&clearTimeout(s),Ge(this)}),kn(a,"timeout",function(){s&&clearTimeout(s),Ge(this),e&&e(null)}),_a(a,t,n,r,i)};var us=new wt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(t,e,n,r,i,o,a){var s=Vn(e+n);Ln(s,"key",t.c),a&&Ln(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new Ee(function(e,n){ss(t,s.toString(),function(t){t?t.error?n(ou(t,o||{})):e(t):n(new O("network-request-failed"))},r,u?void 0:ir(jr(i)),t.a,t.v.get())})}function fs(t){if("string"!==typeof(t=t.email)||!gr.test(t))throw new O("invalid-email")}function hs(t){"email"in t&&fs(t)}function ds(t){if(!t[Ja]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,gt(t));throw new O("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}Ya.prototype.s=function(t,e,n,r,i){var o=this;Qa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ya.prototype.zb=function(){return ru(this,Hs,{})},Ya.prototype.Bb=function(t,e){return ru(this,Ws,{idToken:t,email:e})},Ya.prototype.Cb=function(t,e){return ru(this,qs,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(tr(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Xs,e)}function xs(t,e){return e.returnIdpCredential=!0,ru(t,Ys,e)}function Es(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,$s,e)}function _s(t){if(!t.oobCode)throw new O("invalid-action-code")}(n=Ya.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(vs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ru(this,Ws,n)},n.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Ls,t)},n.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ms,t)},n.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,js,t)},n.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fs,t)},n.fb=function(t){return ru(this,Zs,t)},n.nb=function(t,e){return ru(this,Us,{oobCode:t,newPassword:e})},n.Ra=function(t){return ru(this,Ss,{oobCode:t})},n.jb=function(t){return ru(this,ks,{oobCode:t})};var ks={endpoint:"setAccountInfo",A:_s,Z:"email",B:!0},Ss={endpoint:"resetPassword",A:_s,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},B:!0},Cs={endpoint:"signupNewUser",A:function(t){if(fs(t),!t.password)throw new O("weak-password")},G:ds,V:!0,B:!0},Os={endpoint:"createAuthUri",B:!0},Ts={endpoint:"deleteAccount",N:["idToken"]},Is={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},Rs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:fs,G:ds,V:!0,B:!0},As={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:fs,G:ds,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Ns={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Ds={endpoint:"getAccountInfo"},Ms={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");fs(t)},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");fs(t)},Z:"email",B:!0},Bs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Vs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},Us={endpoint:"resetPassword",A:_s,Z:"email",B:!0},zs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ws={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},qs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(hs(t),!t.password)throw new O("weak-password")},G:ds,V:!0},Hs={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Ks={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Xs={endpoint:"verifyAssertion",A:ms,Ya:ys,G:bs,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:ms,Ya:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new O("internal-error")},Ya:ys,G:bs,V:!0},Qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new O("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(t){if(fs(t),!t.password)throw new O("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new O("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);ds(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ja]^!!t.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Re(new O("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ie(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ls(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new O("internal-error");return r[e.Z]})}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new O(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new O(r[i],e);return!e&&t&&(e=Mr(t)),new O("internal-error",e)}function au(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new Ee(function(t,e){function n(){Vr(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:uu.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Ie(Wa(r=Tt(su,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw lu=null,t}))).then(function(){return new Ee(function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},cu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var su=new wt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Ur(3e4,6e4),cu=new Ur(5e3,15e3),lu=null;function fu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return e.default.app(t).auth().Ga()}catch(n){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=lr();return function(t){return ru(t,Bs,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function gu(t){return t.m?t.m:(t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new fu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)})}(t)}),t.m)}function mu(t){return t.l||(t.C=t.c?Or(t.c,du(t.b)):null,t.l=new Ya(t.g,N(t.i),t.C),t.f&&is(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,l,f){return(t=new hu(t,e,n,r,i,f)).l=o,t.g=a,t.i=s,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||e.default.INTERNAL.reactNative&&e.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=E(this.c,this)}fu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.ob=r,Ln(t,"providerId",this.a.providerId),n=jr((r=this.a).Ib))n[i]=n[i].toString();i=r.Qc,n=gt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),vt(n)||Ln(t,"customParameters",Mr(n))}if("function"===typeof this.a.Qb&&((r=this.a.Qb()).length&&Ln(t,"scopes",r.join(","))),this.l?Ln(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Zn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Bn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Zn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Zn(t.b,"eid"),(s=du(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(n=pu.prototype).Ob=function(t,e,n){var r=new O("popup-closed-by-user"),i=new O("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then(function(){return function(t,e){return t.rb.then(function(){return new Ee(function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&dr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new Ee(function(e){return function n(){On(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return On(n).then(function(){e(r)})})},n.Xb=function(){var t=Tr();return!Dr(t)&&!Br(t)},n.Tb=function(){return!1},n.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Re(new O("popup-blocked"));if(a&&!Dr())return this.ma().o(function(e){dr(t),i(e)}),r(),Ie();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw dr(t),i(e),e});return r(),e}).then(function(){(Bo(n),a)||fr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},n.Nb=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then(function(){Bo(e),fr(yu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},n.ma=function(){var t=this;return gu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new O("network-request-failed")})},n.$b=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Sa=function(t){Q(this.h,function(e){return e==t})},(n=bu.prototype).get=function(t){return Ie(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},n.set=function(t,e){return Ie(this.a.setItem(t,Mr(e)))},n.U=function(t){return Ie(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var xu,Eu=[];function _u(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Cu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Re(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ou(t,c),e}).o(function(e){throw Ou(t,c),e})}function Ou(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(t.a,function(t){return t==e})}}function Tu(){if(!Pu())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(H(Eu,function(n){n.b==t&&(e=n)}),!e){var e=new wu(t);Eu.push(e)}return e}(),_u(this.v,"keyChanged",function(e,n){return Fu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),_u(this.v,"ping",function(){return Ie(["keyChanged"])})):function(){var t=u.navigator;return t&&t.serviceWorker?Ie().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ie(null)}().then(function(e){(t.h=e)&&(t.g=new Su(new ku(e)),Cu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Iu(t){return new Ee(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Iu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Ru(t){return t.i||(t.i=Iu(t)),t.i}function Au(t,e){var n=0;return new Ee(function r(i,o){Ru(t).then(e).then(i).o(function(e){if(!(3<++n))return Ru(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Pu(){try{return!!u.indexedDB}catch(ua){return!1}}function Nu(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mu(t){return new Ee(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ju(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Cu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ie()}function Fu(t){return Ru(t).then(function(t){var e=Nu(Du(t,!1));return e.getAll?Mu(e.getAll()):new Ee(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Bu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then(function(){if(Pu()){var t=Lr(),r="__sak"+t;return xu||(xu=new Tu),(n=xu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Vu(){this.a={},this.type="inMemory"}function Uu(){if(!function(){var t="Node"==xr();if(!(t=zu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==xr())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=zu()||e.default.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=u.localStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==xr();if(!(t=Hu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==xr())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Hu()||e.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=u.sessionStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){var t={};t.Browser=$u,t.Node=Yu,t.ReactNative=Qu,t.Worker=Ju,this.a=t[xr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ie().then(function(){return e(t.origin,t.data.data)}))}),Pe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(n=Tu.prototype).set=function(t,e){var n=this,r=!1;return Au(this,function(e){return Mu((e=Nu(Du(e,!0))).get(t))}).then(function(i){return Au(n,function(o){if(o=Nu(Du(o,!0)),i)return i.value=e,Mu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Mu(o.add(a))})}).then(function(){return n.c[t]=e,ju(n,t)}).oa(function(){r&&n.b--})},n.get=function(t){return Au(this,function(e){return Mu(Nu(Du(e,!1)).get(t))}).then(function(t){return t&&t.value})},n.U=function(t){var e=this,n=!1;return Au(this,function(r){return n=!0,e.b++,Mu(Nu(Du(r,!0)).delete(t))}).then(function(){return delete e.c[t],ju(e,t)}).oa(function(){n&&e.b--})},n.ca=function(t){0==this.a.length&&function(t){Lu(t),function e(){t.f=setTimeout(function(){t.l=Fu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},n.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Lu(this)},(n=Bu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},n.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},n.U=function(t){return this.b.then(function(e){return e.U(t)})},n.ca=function(t){this.a.push(t)},n.ia=function(t){Q(this.a,function(e){return e==t})},(n=Vu.prototype).get=function(t){return Ie(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ie()},n.U=function(t){return delete this.a[t],Ie()},n.ca=function(){},n.ia=function(){},(n=Uu.prototype).get=function(t){var e=this;return Ie().then(function(){return Fr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ie().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ie().then(function(){e.a.removeItem(t)})},n.ca=function(t){u.window&&ln(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=Wu.prototype).get=function(){return Ie(null)},n.set=function(){return Ie()},n.U=function(){return Ie()},n.ca=function(){},n.ia=function(){},(n=qu.prototype).get=function(t){var e=this;return Ie().then(function(){return Fr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ie().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ie().then(function(){e.a.removeItem(t)})},n.ca=function(){},n.ia=function(){};var Ku,Xu,$u={F:Uu,bb:qu},Yu={F:Uu,bb:qu},Qu={F:bu,bb:Wu},Ju={F:Uu,bb:Wu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Br(Tr())||!br()),e=Dr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},Ku||(Ku=new Gu),t=Ku;try{this.g=!cr()&&qr()||!u.indexedDB?new t.a.F:new Bu(wr()?new Vu:new t.a.F)}catch(r){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Vu}this.v=new Vu,this.f=E(this.Yb,this),this.b={}}function ec(){return Xu||(Xu=new tc),Xu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(n=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},n.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},n.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.h||(cr()||!qr())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval(function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},n.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},$t&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,E(this.mb,this))},n.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=fc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}S(lc,function(){this.b=-1});for(var fc=64,hc=fc-1,dc=[],pc=0;pc<hc;pc++)dc[pc]=0;var vc=J(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|sc[e])|0)+(0|n[e])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}S(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function xc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new O("invalid-cordova-configuration",t)}function _c(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function kc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then(function(){return new Ee(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Cc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Fr(Bn(o=Vn(i),"firebaseError")||null))?T(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}kc(t,i)})}var n=new Vo("unknown",null,null,null,new O("no-auth-event")),r=!1,i=On(500).then(function(){return Cc(t).then(function(){r||kc(t,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},qo||(qo=new zo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Ir("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)})})),t.f}function Cc(t){var e=null;return function(t){return t.b.get(uc,t.a).then(function(t){return Uo(t)})}(t.g).then(function(n){return e=n,ic((n=t.g).b,uc,n.a)}).then(function(){return e})}function Oc(t){this.a=t,this.b=ec()}(n=xc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then(function(){return new Ee(function(t,e){var n=u.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Re(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof Ir("universalLinks.subscribe",u))throw Ec("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ir("BuildInfo.packageName",u))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ir("cordova.plugins.browsertab.openUrl",u))throw Ec("cordova-plugin-browsertab is not installed");if("function"!==typeof Ir("cordova.InAppBrowser.open",u))throw Ec("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})},n.Ob=function(t,e){return e(new O("operation-not-supported-in-this-environment")),Ie()},n.Mb=function(){return Re(new O("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(t,e,n,r){if(this.c)return Re(new O("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ie().then(function(){return Bo(e),Sc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Vo(e,r,null,o,new O("no-auth-event"),null,i),s=Ir("BuildInfo.packageName",u);if("string"!==typeof s)throw new O("invalid-cordova-configuration");var c=Ir("BuildInfo.displayName",u),l={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Tr().toLowerCase().match(/android/))return Re(new O("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=_c(o),l.sessionId=o;var f=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(uc,a.w(),e)}).then(function(){var e=Ir("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new O("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!==typeof(n=Ir("cordova.plugins.browsertab.openUrl",u)))throw new O("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Ir("cordova.InAppBrowser.open",u)))throw new O("invalid-cordova-configuration");e=Tr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new Ee(function(t,e){s=function(){var e=Ir("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=On(2e3).then(function(){e(new O("redirect-cancelled-by-user"))}))},l=function(){zr()&&c()},o.addEventListener("resume",c,!1),Tr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Cc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null})},n.Ea=function(t){this.b.push(t),Sc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new O("no-auth-event")),t(e))})},n.Sa=function(t){Q(this.b,function(e){return e==t})};var Tc={name:"pendingRedirect",F:"session"};function Ic(t){return ic(t.b,Tc,t.a)}function Rc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Hc,this.C=new Yc,this.g=new Oc(Wc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ac(this.D,this.v,this.m,I,this.J)}function Ac(t,n,r,i,o){var a=e.default.SDK_VERSION||null;return yr()?new xc(t,n,r,a,i,o):new pu(t,n,r,a,i,o)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Nc(t){t.a.Xb()&&Pc(t).o(function(e){var n=new Vo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Bc(e)&&t.s(n)}),t.a.Tb()||Gc(t.b)}function Dc(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Tc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ic(t.g).then(function(){Pc(t).o(function(e){var n=new Vo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Bc(e)&&t.s(n)})}):Nc(t)}).o(function(){Nc(t)})}function Mc(t,e){Q(t.h,function(t){return t==e})}Rc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ac(this.D,this.v,this.m,null,this.J),this.i={}},Rc.prototype.s=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var jc=new Ur(2e3,1e4),Fc=new Ur(3e4,6e4);function Lc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Bc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vc(t,e,n,r,i){var o;return function(t){return t.b.set(Tc,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Bc(e))throw new O("operation-not-supported-in-this-environment");return o=e,Ic(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new Ee(function(){}):Ic(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Uc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},jc.get())}Rc.prototype.qa=function(){return this.b.qa()};var zc={};function Wc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=Wc(e,n,r);return zc[i]||(zc[i]=new Rc(t,e,n,r)),zc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function Kc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Xc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Re(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Xc(t,n):Xc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,$r(this,"verificationId",t)}function Zc(t,e,n,r){return new jo(t).fb(e,n).then(function(t){return new Jc(t,r)})}function tl(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;H(e[nl]||[],function(t){(t=ti(t))&&i.b.push(t)}),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),Ie()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){$c(t,s,e,null)}).o(function(e){$c(t,s,null,e)})}(this,t,e):Re(new O("invalid-auth-event")):($c(this,!1,null,null),Ie())}else Re(new O("invalid-auth-event"))},Hc.prototype.qa=function(){var t=this;return new Ee(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=On(Fc.get()).then(function(){t.b||(t.g=!0,$c(t,!0,null,e))})}(t))})},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Re(new O("invalid-auth-event"))}else Re(new O("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){O.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),$r(this,"resolver",this.b)}function ol(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function al(){}function sl(t){$r(this,"factorId",t.fa),this.a=t}function ul(t){if(sl.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),fl(this,n)}function fl(t,e){t.b=e,$r(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=Wi(e[Ja]||""),t.a=e.refreshToken,pl(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new Ee(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ss(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new O("internal-error")):r(new O("network-request-failed"))},"POST",Jn(e).toString(),t.g,t.m.get()):r(new O("internal-error"))})}(t.f,e).then(function(e){return t.b=Wi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function ml(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function yl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,n,r){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.default.SDK_VERSION?Or(e.default.SDK_VERSION):null;this.a=new Ya(this.l,N(I),i),t.emulatorConfig&&is(this.a,t.emulatorConfig),this.b=new dl(this.a),Ol(this,n[Ja]),vl(this.b,n),$r(this,"refreshToken",this.b.a),Rl(this,r||{}),En.call(this),this.R=!1,this.s&&Ar()&&(this.i=qc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){is(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){El(o,t.f)},this.ba=null,this.O=new ll(this,r),$r(this,"multiFactor",this.O)}function wl(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&ln(e,"languageCodeChanged",t.Oa)}function xl(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&ln(e,"emulatorConfigChanged",t.Aa)}function El(t,n){t.$=n,as(t.a,e.default.SDK_VERSION?Or(e.default.SDK_VERSION,t.$):null)}function _l(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&ln(e,"frameworkChanged",t.Ba)}function kl(t){try{return e.default.app(t.m).auth()}catch(n){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sl(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),ln(t,"tokenChanged",t.aa))}function Cl(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function Ol(t,e){t.za=e,$r(t,"_lat",e)}function Tl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Pe(e).then(function(){return t})}function Il(t){t.i&&!t.R&&(t.R=!0,Dc(t.i,t))}function Rl(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Al(){}function Pl(t){return Ie().then(function(){if(t.D)throw new O("app-deleted")})}function Nl(t){return K(t.providerData,function(t){return t.providerId})}function Dl(t,e){e&&(Ml(t,e.providerId),t.providerData.push(e))}function Ml(t,e){Q(t.providerData,function(t){return t.providerId==e})}function jl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Fl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):$r(t,"metadata",new ml),H(e.providerData,function(e){Dl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),$r(t,"refreshToken",t.b.a),fl(t.O,e.O.b))}function Ll(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ds,{idToken:e}).then(E(t.Kc,t))}(t,e).then(function(){return n||jl(t,"isAnonymous",!1),e})})}function Bl(t,e){e[Ja]&&t.za!=e[Ja]&&(vl(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Ol(t,e[Ja]),jl(t,"refreshToken",t.b.a))}function Vl(t,e){return Ll(t).then(function(){if($(Nl(t),e))return Tl(t).then(function(){throw new O("provider-already-linked")})})}function Ul(t,e,n){return Qr({user:t,credential:Lo(e),additionalUserInfo:e=$i(e),operationType:n})}function zl(t,e){return Bl(t,e),t.reload().then(function(){return t})}function Wl(t,n,r,i,o){if(!Ar())return Re(new O("operation-not-supported-in-this-environment"));if(t.h&&!o)return Re(t.h);var a=Xi(r.providerId),s=Lr(t.uid+":::"),u=null;(!Dr()||br())&&t.s&&r.isOAuthProvider&&(u=yu(t.s,t.l,t.m,n,r,null,s,e.default.SDK_VERSION||null,null,null,t.tenantId));var c=pr(u,a&&a.ua,a&&a.ta);return i=i().then(function(){if(Hl(t),!o)return t.I().then(function(){})}).then(function(){return Lc(t.i,c,n,r,s,!!u,t.tenantId)}).then(function(){return new Ee(function(e,r){t.na(n,null,new O("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=s,t.c=Uc(t.i,t,n,c,s)})}).then(function(t){return c&&dr(c),t?Qr(t):null}).o(function(t){throw c&&dr(c),t}),Gl(t,i,o)}function ql(t,e,n,r,i){if(!Ar())return Re(new O("operation-not-supported-in-this-environment"));if(t.h&&!i)return Re(t.h);var o=null,a=Lr(t.uid+":::");return r=r().then(function(){if(Hl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,Tl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set($l,t.w(),e.a)),e}).then(function(){return Vc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Yl(t.ha);throw o}).then(function(){if(o)throw o}),Gl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new O("internal-error");throw new O("auth-domain-config-required")}}function Gl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Re(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){Y(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),kl(t),E(t.jc,t))),n||e})}function Kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ja]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Dl(i,Qr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[nl],delete n[rl],yt(n,t),e.g(n)})},S(il,O),al.prototype.sb=function(t,e,n){return e.type==ao?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Mo(t.a)}),ru(e,Ps,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),ru(e,Ns,n)})}(this,t,e)},S(sl,al),S(ul,sl),S(cl,Qe),(n=ll.prototype).yc=function(t){fl(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},n.Rb=function(){return this.a.I().then(function(t){return new oo(t,null)})},n.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Bl(n.a,t),n.a.reload()})},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=G(e.b,function(t){return t.uid!=n});return fl(e,r),Bl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},hl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=u.document,e=null;return zr()||!t?Ie():new Ee(function(n){e=function(){zr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Re(new O("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(bl,En),bl.prototype.wa=function(t){this.ya=t,rs(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return Z(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(bl.prototype,"providerId","firebase"),(n=bl.prototype).reload=function(){var t=this;return Gl(this,Pl(this).then(function(){return Ll(t).then(function(){return Tl(t)}).then(Al)}))},n.oc=function(t){return this.I(t).then(function(t){return new tl(t)})},n.I=function(t){var e=this;return Gl(this,Pl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.za&&(Ol(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),jl(e,"refreshToken",t.refreshToken),t.accessToken}))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");Rl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Dl(this,e[n]);jl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},n.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},n.tb=function(t){var e=this,n=null;return Gl(this,t.c(this.a,this.uid).then(function(t){return Bl(e,t),n=Ul(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},n.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},n.qb=function(t){var e=this,n=null;return Gl(this,Vl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ul(e,t,"link"),zl(e,t)}).then(function(){return n}))},n.Dc=function(t,e){var n=this;return Gl(this,Vl(this,"phone").then(function(){return Zc(kl(n),t,e,E(n.qb,n))}))},n.Mc=function(t,e){var n=this;return Gl(this,Ie().then(function(){return Zc(kl(n),t,e,E(n.tb,n))}),!0)},n.Bb=function(t){var e=this;return Gl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Bl(e,t),e.reload()}))},n.ed=function(t){var e=this;return Gl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Bl(e,t),e.reload()}))},n.Cb=function(t){var e=this;return Gl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Bl(e,t),e.reload()}))},n.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Gl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Bl(e,t),jl(e,"displayName",t.displayName||null),jl(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))}),Tl(e)}).then(Al))},n.cd=function(t){var e=this;return Gl(this,Ll(this).then(function(n){return $(Nl(e),t)?function(t,e,n){return ru(t,Is,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Nl(e),function(t){n[t]||Ml(e,t)}),n[jo.PROVIDER_ID]||$r(e,"phoneNumber",null),Tl(e)}):Tl(e).then(function(){throw new O("no-such-provider")})}))},n.delete=function(){var t=this;return Gl(this,this.I().then(function(e){return ru(t.a,Ts,{idToken:e})}).then(function(){t.dispatchEvent(new cl("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wl(t,null),xl(t,null),_l(t,null),t.J=[],t.D=!0,Cl(t),$r(t,"refreshToken",null),t.i&&Mc(t.i,t)})},n.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):null},n.Ec=function(t){var e=this;return Wl(this,"linkViaPopup",t,function(){return Vl(e,t.providerId).then(function(){return Tl(e)})},!1)},n.Nc=function(t){return Wl(this,"reauthViaPopup",t,function(){return Ie()},!0)},n.Fc=function(t){var e=this;return ql(this,"linkViaRedirect",t,function(){return Vl(e,t.providerId)},!1)},n.Oc=function(t){return ql(this,"reauthViaRedirect",t,function(){return Ie()},!0)},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,this.I().then(function(n){return xs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ul(i,t,"link"),zl(i,t)}).then(function(){return o}))},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,Ie().then(function(){return co(Es(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ul(i,t,"reauthenticate"),Bl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},n.ub=function(t){var e=this,n=null;return Gl(this,this.I().then(function(e){return n=e,"undefined"===typeof t||vt(t)?{}:Bi(new Ii(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},n.Eb=function(t,e){var n=this,r=null;return Gl(this,this.I().then(function(t){return r=t,"undefined"===typeof e||vt(e)?{}:Bi(new Ii(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},n.jc=function(t){var e=null,n=this;return Gl(this,t=co(Ie(t),n.uid).then(function(t){return e=Ul(n,t,"reauthenticate"),Bl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.O.w()),t};var $l={name:"redirectUser",F:"session"};function Yl(t){return ic(t.b,$l,t.a)}function Ql(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=tf("local"),n=tf("session"),r=tf("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Fr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Zl,t.a).then(function(t){return t?tf(t):e})})})}).then(function(e){return t.c=e,Jl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(tf("local"),this.a,E(this.g,this))}function Jl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,tf(Zu[n]),t.a));return r.push(ic(t.b,Zl,t.a)),function(t){return new Ee(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],_(o,s),a);else e(i)})}(r)}Ql.prototype.g=function(){var t=this,e=tf("local");of(this,function(){return Ie().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Jl(t,"local").then(function(){t.c=e})})})};var Zl={name:"persistence",F:"session"};function tf(t){return{name:"authUser",F:t}}function ef(t,e){return of(t,function(){return t.b.set(t.c,e.w(),t.a)})}function nf(t){return of(t,function(){return ic(t.b,t.c,t.a)})}function rf(t,e,n){return of(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Kl(t||{})})})}function of(t,e){return t.f=t.f.then(e,e),t.f}function af(t){if(this.l=!1,$r(this,"settings",new Qc),$r(this,"app",t),!vf(this).options||!vf(this).options.apiKey)throw new O("invalid-api-key");t=e.default.SDK_VERSION?Or(e.default.SDK_VERSION):null,this.a=new Ya(vf(this).options&&vf(this).options.apiKey,N(I),t),this.R=[],this.s=[],this.O=[],this.hb=e.default.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=e.default.INTERNAL.createSubscribe(E(this.Ac,this)),df(this,null),this.i=new Ql(vf(this).options.apiKey+":"+vf(this).name),this.D=new Xl(vf(this).options.apiKey+":"+vf(this).name),this.$=bf(this,function(t){var e=vf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get($l,t.a).then(function(t){return t&&e&&(t.authDomain=e),Kl(t||{})})}(t.D,vf(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Yl(t.D)});return bf(t,e)}(t).then(function(){return rf(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return ef(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:nf(t.i)})):null}).then(function(e){df(t,e||null)});return bf(t,n)}(this)),this.h=bf(this,function(t){return t.$.then(function(){return ff(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(tf("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=vf(t).options.authDomain,n=vf(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=qc(e,n,vf(t).name,t.P),Dc(t.b,t),gf(t)&&Il(gf(t)),t.m){Il(t.m);var r=t.m;r.wa(t.la()),wl(r,t),El(r=t.m,t.J),_l(r,t),is((r=t.m).a,t.P),xl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function sf(t){Qe.call(this,"languageCodeChanged"),this.h=t}function uf(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function cf(t){Qe.call(this,"frameworkChanged"),this.f=t}function lf(t){return t.Oa||Re(new O("auth-domain-config-required"))}function ff(t){if(!Ar())return Re(new O("operation-not-supported-in-this-environment"));var e=lf(t).then(function(){return t.b.qa()}).then(function(t){return t?Qr(t):null});return bf(t,e)}function hf(t,e){var n={};return n.apiKey=vf(t).options.apiKey,n.authDomain=vf(t).options.authDomain,n.appName=vf(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new bl(t,e);return n&&(i.ha=n),r&&El(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return gf(t)&&e.uid==gf(t).uid?(Fl(gf(t),e),t.da(e)):(df(t,e),Il(e),t.da(e))}).then(function(){yf(t)})}function df(t,e){gf(t)&&(function(t,e){Q(t.S,function(t){return t==e})}(gf(t),t.Ba),dn(gf(t),"tokenChanged",t.ya),dn(gf(t),"userDeleted",t.za),dn(gf(t),"userInvalidated",t.Aa),Cl(gf(t))),e&&(e.S.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&Sl(e)),$r(t,"currentUser",e),e&&(e.wa(t.la()),wl(e,t),El(e,t.J),_l(e,t),is(e.a,t.P),xl(e,t))}function pf(t,e){var n=null,r=null;return bf(t,e.then(function(e){return n=Lo(e),r=$i(e),hf(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,E(t.kc,t))),n||e}).then(function(){return Qr({user:gf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function vf(t){return t.app}function gf(t){return t.currentUser}function mf(t){return gf(t)&&gf(t)._lat||null}function yf(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mf(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](mf(t))}}function bf(t,e){return t.R.push(e),e.oa(function(){Y(t.R,e)}),e}function wf(){}function xf(){this.a={},this.b=1e12}Ql.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(xr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),of(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Jl(n,t)}).then(function(){if(n.c=tf(t),e)return n.b.set(n.c,e,n.a)}):Ie()})},S(af,En),S(sf,Qe),S(uf,Qe),S(cf,Qe),(n=af.prototype).xb=function(t){return bf(this,t=this.i.xb(t))},n.wa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new sf(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&mr().then(function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,is(this.a,this.P),this.dispatchEvent(new uf(this.P))}},n.Gc=function(t){this.J.push(t),as(this.a,e.default.SDK_VERSION?Or(e.default.SDK_VERSION,this.J):null),this.dispatchEvent(new cf(this.J))},n.Ga=function(){return Z(this.J)},n.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:vf(this).options.apiKey,authDomain:vf(this).options.authDomain,appName:vf(this).name,currentUser:gf(this)&&gf(this).w()}},n.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return pf(i,ws(i.a,o))})},n.Xc=function(t){if(!Ar())return Re(new O("operation-not-supported-in-this-environment"));var n=this,r=Xi(t.providerId),i=Lr(),o=null;(!Dr()||br())&&vf(this).options.authDomain&&t.isOAuthProvider&&(o=yu(vf(this).options.authDomain,vf(this).options.apiKey,vf(this).name,"signInViaPopup",t,null,i,e.default.SDK_VERSION||null,null,null,this.T(),this.P));var a=pr(o,r&&r.ua,r&&r.ta);return bf(this,r=lf(this).then(function(e){return Lc(e,a,"signInViaPopup",t,i,!!o,n.T())}).then(function(){return new Ee(function(t,e){n.na("signInViaPopup",null,new O("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Uc(n.b,n,"signInViaPopup",a,i)})}).then(function(t){return a&&dr(a),t?Qr(t):null}).o(function(t){throw a&&dr(a),t}))},n.Yc=function(t){if(!Ar())return Re(new O("operation-not-supported-in-this-environment"));var e=this;return bf(this,lf(this).then(function(){return of(t=e.i,function(){return t.b.set(Zl,t.c.F,t.a)});var t}).then(function(){return Vc(e.b,"signInViaRedirect",t,void 0,e.T())}))},n.qa=function(){var t=this;return ff(this).then(function(e){return t.b&&Kc(t.b.b),e}).o(function(e){throw t.b&&Kc(t.b.b),e})},n.dd=function(t){if(!t)return Re(new O("null-user"));if(this.S!=t.tenantId)return Re(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=vf(this).options.apiKey,n.authDomain=vf(this).options.authDomain,n.appName=vf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&El(e,r),Fl(e,t),e}(t,n,e.D,e.Ga());return bf(this,this.h.then(function(){if(vf(e).options.apiKey!=t.l)return r.reload()}).then(function(){return gf(e)&&t.uid==gf(e).uid?(Fl(gf(e),t),e.da(t)):(df(e,r),Il(r),e.da(r))}).then(function(){yf(e)}))},n.Ab=function(){var t=this;return bf(this,this.h.then(function(){return t.b&&Kc(t.b.b),gf(t)?(df(t,null),nf(t.i).then(function(){yf(t)})):Ie()}))},n.Zc=function(){var t=this;return rf(this.i,vf(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=gf(t)&&e){n=gf(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fl(gf(t),e),gf(t).I();(gf(t)||e)&&(df(t,e),e&&(Il(e),e.ha=t.D),t.b&&Dc(t.b,t),yf(t))}})},n.da=function(t){return ef(this.i,t)},n.mc=function(){yf(this),this.da(gf(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(t){var e=this;return this.h.then(function(){return pf(e,Ie(t))})},n.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(gf(e))})},n.Ac=function(t){var e=this;!function(t,e){t.O.push(e),bf(t,t.h.then(function(){!t.l&&$(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mf(t)))}))}(this,function(){t.next(gf(e))})},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof t?t(gf(r)):"function"===typeof t.next&&t.next(gf(r))}),this.hb(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"===typeof t?t(gf(r)):"function"===typeof t.next&&t.next(gf(r))}),this.bc(t,e,n)},n.nc=function(t){var e=this;return bf(this,this.h.then(function(){return gf(e)?gf(e).I(t).then(function(t){return{accessToken:t}}):null}))},n.Tc=function(t){var e=this;return this.h.then(function(){return pf(e,ru(e.a,Qs,{token:t}))}).then(function(t){var n=t.user;return jl(n,"isAnonymous",!1),e.da(n),t})},n.Uc=function(t,e){var n=this;return this.h.then(function(){return pf(n,ru(n.a,Js,{email:t,password:e}))})},n.dc=function(t,e){var n=this;return this.h.then(function(){return pf(n,ru(n.a,Cs,{email:t,password:e}))})},n.$a=function(t){var e=this;return this.h.then(function(){return pf(e,t.ka(e.a))})},n.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},n.zb=function(){var t=this;return this.h.then(function(){var e=gf(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return pf(t,t.a.zb()).then(function(e){var n=e.user;return jl(n,"isAnonymous",!0),t.da(n),e})})},n.getUid=function(){return gf(this)&&gf(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&gf(this)&&Sl(gf(this))},n.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&gf(this)&&Cl(gf(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),bf(this,this.h.then(function(){e.l||$(e.s,t)&&t(mf(e))}))},n.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},n.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(tf("local"),t.a,this.ja),this.b&&(Mc(this.b,this),Kc(this.b.b)),Promise.resolve()},n.hc=function(t){return bf(this,function(t,e){return ru(t,Os,{identifier:e,continueUri:Pr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},n.Bc=function(t){return!!Po(t)},n.wb=function(t,e){var n=this;return bf(this,Ie().then(function(){var t=new Ii(e);if(!t.c)throw new O("argument-error",Pi+" must be true when sending sign in link to email");return Bi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},n.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},n.nb=function(t,e){return bf(this,this.a.nb(t,e).then(function(){}))},n.Ra=function(t){return bf(this,this.a.Ra(t).then(function(t){return new ai(t)}))},n.jb=function(t){return bf(this,this.a.jb(t).then(function(){}))},n.vb=function(t,e){var n=this;return bf(this,Ie().then(function(){return"undefined"===typeof e||vt(e)?{}:Bi(new Ii(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},n.Wc=function(t,e){return bf(this,Zc(this,t,e,E(this.$a,this)))},n.Vc=function(t,e){var n=this;return bf(this,Ie().then(function(){var r=e||lr(),i=Ao(t,r);if(!(r=Po(r)))throw new O("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new O("tenant-id-mismatch");return n.$a(i)}))},wf.prototype.render=function(){},wf.prototype.reset=function(){},wf.prototype.getResponse=function(){},wf.prototype.execute=function(){};var Ef=null;function _f(t,e){return(e=kf(e))&&t.a[e]||null}function kf(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Sf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Cf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Of(){}function Tf(){}xf.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sf(t,e),this.b++},xf.prototype.reset=function(t){var e=_f(this,t);t=kf(t),e&&t&&(e.delete(),delete this.a[t])},xf.prototype.getResponse=function(t){return(t=_f(this,t))?t.getResponse():null},xf.prototype.execute=function(t){(t=_f(this,t))&&t.execute()},Sf.prototype.getResponse=function(){return Cf(this),this.b},Sf.prototype.execute=function(){Cf(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Sf.prototype.delete=function(){Cf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},$r(Of,"FACTOR_ID","phone"),Tf.prototype.g=function(){return Ef||(Ef=new xf),Ie(Ef)},Tf.prototype.c=function(){};var If=null;function Rf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Af=new wt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Pf=new Ur(3e4,6e4);Rf.prototype.g=function(t){var e=this;return new Ee(function(n,r){var i=setTimeout(function(){r(new O("network-request-failed"))},Pf.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new O("internal-error"));delete u[e.a]},Ie(Wa(Tt(Af,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},Rf.prototype.c=function(){this.b--};var Nf=null;function Df(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(If||(If=new Tf),a=If):(Nf||(Nf=new Rf),a=Nf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ff])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lf],!u.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ya(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Mf];this.a[Mf]=function(t){if(Bf(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Ir(c,u);"function"===typeof e&&e(t)}};var l=this.a[jf];this.a[jf]=function(){if(Bf(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Ir(l,u);"function"===typeof t&&t()}}}var Mf="callback",jf="expired-callback",Ff="sitekey",Lf="size";function Bf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Vf(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function Uf(t){if(t.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function zf(t,n,r){var i=!1;try{this.b=r||e.default.app()}catch(s){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.default.SDK_VERSION?Or(e.default.SDK_VERSION,a):null,Df.call(this,r,t,n,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,N(I),i)}function Wf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=qf.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=qf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new O("argument-error",t+" failed: "+r)}(n=Df.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vf(this,Ie().then(function(){if(Pr()&&!wr())return mr();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,ru(t.s,Vs,{})}).then(function(e){t.a[Ff]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},n.render=function(){Uf(this);var t=this;return Vf(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=ve("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},n.verify=function(){Uf(this);var t=this;return Vf(this,this.render().then(function(e){return new Ee(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){Q(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},n.reset=function(){Uf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Uf(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(zf,Df);var qf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Gf(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Kf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Xf(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function $f(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Qf(t,e){return g(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Jf(t){return g(t)&&"string"===typeof t.uid}function Zf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function th(t,e){for(var n in e){var r=e[n].name;t[r]=rh(r,t[n],e[n].j)}}function eh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){Wf(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function nh(t,e,n,r){t[e]=rh(e,n,r)}function rh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}th(af.prototype,{jb:{name:"applyActionCode",j:[Hf("code")]},Ra:{name:"checkActionCode",j:[Hf("code")]},nb:{name:"confirmPasswordReset",j:[Hf("code"),Hf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hf("email"),Hf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hf("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zf(Kf(),Xf(),"nextOrObserver"),Xf("opt_error",!0),Xf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zf(Kf(),Xf(),"nextOrObserver"),Xf("opt_error",!0),Xf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Hf("email"),Zf(Kf("opt_actionCodeSettings",!0),$f(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Hf("email"),Kf("actionCodeSettings")]},xb:{name:"setPersistence",j:[Hf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yf()]},Tc:{name:"signInWithCustomToken",j:[Hf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hf("email"),Hf("password")]},Vc:{name:"signInWithEmailLink",j:[Hf("email"),Hf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},$f(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hf("url"),Kf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hf("code")]}}),eh(af.prototype,{lc:{name:"languageCode",kb:Zf(Hf(),$f(),"languageCode")},ti:{name:"tenantId",kb:Zf(Hf(),$f(),"tenantId")}}),af.Persistence=Zu,af.Persistence.LOCAL="local",af.Persistence.SESSION="session",af.Persistence.NONE="none",th(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yf()]},qb:{name:"linkWithCredential",j:[Yf()]},Dc:{name:"linkWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yf()]},tb:{name:"reauthenticateWithCredential",j:[Yf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zf(Kf("opt_actionCodeSettings",!0),$f(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},cd:{name:"unlink",j:[Hf("provider")]},Bb:{name:"updateEmail",j:[Hf("email")]},Cb:{name:"updatePassword",j:[Hf("password")]},ed:{name:"updatePhoneNumber",j:[Yf("phone")]},Db:{name:"updateProfile",j:[Kf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Hf("email"),Zf(Kf("opt_actionCodeSettings",!0),$f(null,!0),"opt_actionCodeSettings",!0)]}}),th(xf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(wf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),eh(Qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gf("appVerificationDisabledForTesting")}}),th(Jc.prototype,{confirm:{name:"confirm",j:[Hf("verificationCode")]}}),nh(uo,"fromJSON",function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[go,Io,Do,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Zf(Hf(),Kf(),"json")]),nh(Ro,"credential",function(t,e){return new To(t,e)},[Hf("email"),Hf("password")]),th(To.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(wo.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Kf("customOAuthParameters")]}}),nh(wo,"credential",xo,[Zf(Hf(),Kf(),"token")]),nh(Ro,"credentialWithLink",Ao,[Hf("email"),Hf("emailLink")]),th(Eo.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Kf("customOAuthParameters")]}}),nh(Eo,"credential",_o,[Zf(Hf(),Kf(),"token")]),th(ko.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Kf("customOAuthParameters")]}}),nh(ko,"credential",So,[Zf(Hf(),Zf(Kf(),$f()),"idToken"),Zf(Hf(),$f(),"accessToken",!0)]),th(Co.prototype,{Ka:{name:"setCustomParameters",j:[Kf("customOAuthParameters")]}}),nh(Co,"credential",Oo,[Zf(Hf(),Kf(),"token"),Hf("secret",!0)]),th(bo.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},credential:{name:"credential",j:[Zf(Hf(),Zf(Kf(),$f()),"optionsOrIdToken"),Zf(Hf(),$f(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kf("customOAuthParameters")]}}),th(po.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(lo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),nh(jo,"credential",Fo,[Hf("verificationId"),Hf("verificationCode")]),th(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zf(Hf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Qf(t.session,ao)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Qf(t.session,so)&&Jf(t.multiFactorHint):t.session&&t.multiFactorUid?Qf(t.session,so)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),th(No.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(O.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(Go.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(Ho.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(il.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),th(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Hf("displayName",!0)]},bd:{name:"unenroll",j:[Zf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jf},Hf(),"multiFactorInfoIdentifier")]}}),th(zf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nh(wi,"parseLink",Ti,[Hf("link")]),nh(Of,"assertion",function(t){return new ul(t)},[Yf("phone")]),function(){if("undefined"===typeof e.default||!e.default.INTERNAL||!e.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:af,AuthCredential:uo,Error:O};nh(t,"EmailAuthProvider",Ro,[]),nh(t,"FacebookAuthProvider",wo,[]),nh(t,"GithubAuthProvider",Eo,[]),nh(t,"GoogleAuthProvider",ko,[]),nh(t,"TwitterAuthProvider",Co,[]),nh(t,"OAuthProvider",bo,[Hf("providerId")]),nh(t,"SAMLAuthProvider",yo,[Hf("providerId")]),nh(t,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof af)}}]),nh(t,"RecaptchaVerifier",zf,[Zf(Hf(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.default.app.App)}}]),nh(t,"ActionCodeURL",wi,[]),nh(t,"PhoneMultiFactorGenerator",Of,[]),e.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new af(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.default.registerVersion("@firebase/auth","0.16.6"),e.default.INTERNAL.extendNamespace({User:bl})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(33))},function(t,e,n){(function(t,e){!function(n){"use strict";try{(function(){var r=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(n),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n=n||Promise)(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function c(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var h,d="FirebaseError",p=(o(v,h=Error),v);function v(t,e,n){return(e=h.call(this,e)||this).code=t,e.customData=n,e.name=d,Object.setPrototypeOf(e,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,g.prototype.create),e}var g=(m.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t,t=this.errors[t],t=t?(r=i,t.replace(b,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new p(o,t,i)},m);function m(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var y,b=/\{\$([^}]+)}/g;function w(t){return t&&t._delegate?t._delegate:t}function x(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=k[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,c(["["+i+"]  "+t.name+":"],n))}}(Ce=y=y||{})[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT";var E={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},_=y.INFO,k=((Oe={})[y.DEBUG]="log",Oe[y.VERBOSE]="log",Oe[y.INFO]="info",Oe[y.WARN]="warn",Oe[y.ERROR]="error",Oe),S=(Object.defineProperty(C.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in y))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),C.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?E[t]:t},Object.defineProperty(C.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),C.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,c([this,y.DEBUG],t)),this._logHandler.apply(this,c([this,y.DEBUG],t))},C.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,c([this,y.VERBOSE],t)),this._logHandler.apply(this,c([this,y.VERBOSE],t))},C.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,c([this,y.INFO],t)),this._logHandler.apply(this,c([this,y.INFO],t))},C.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,c([this,y.WARN],t)),this._logHandler.apply(this,c([this,y.WARN],t))},C.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,c([this,y.ERROR],t)),this._logHandler.apply(this,c([this,y.ERROR],t))},C);function C(t){this.name=t,this._logLevel=_,this._logHandler=x,this._userLogHandler=null}var O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function T(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var I,R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},A={},P=R||self;function N(){}function D(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function M(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var j="closure_uid_"+(1e9*Math.random()>>>0),F=0;function L(t,e,n){return t.call.apply(t.bind,arguments)}function B(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function V(t,e,n){return(V=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:B).apply(null,arguments)}function U(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function z(){return Date.now()}function W(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,(t.prototype.constructor=t).Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,j)&&t[j]||(t[j]=++F))},q.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $(t){return/^[\s\xa0]*$/.test(t)}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function J(t,e){return-1!=t.indexOf(e)}function Z(t,e){return t<e?-1:e<t?1:0}var tt=P.navigator;function et(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function nt(t){var e,n={};for(e in t)n[e]=t[e];return n}Y=tt&&(tt=tt.userAgent)?tt:"";var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<rt.length;i++)e=rt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function ot(t){return ot[" "](t),t}ot[" "]=N;var at,st=J(Y,"Opera"),ut=J(Y,"Trident")||J(Y,"MSIE"),ct=J(Y,"Edge"),lt=ct||ut,ft=J(Y,"Gecko")&&!(J(Y.toLowerCase(),"webkit")&&!J(Y,"Edge"))&&!(J(Y,"Trident")||J(Y,"MSIE"))&&!J(Y,"Edge"),ht=J(Y.toLowerCase(),"webkit")&&!J(Y,"Edge");function dt(){var t=P.document;return t?t.documentMode:void 0}var pt="",vt=(vt=Y,ft?/rv:([^\);]+)(\)|;)/.exec(vt):ct?/Edge\/([\d\.]+)/.exec(vt):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vt):ht?/WebKit\/(\S+)/.exec(vt):st?/(?:Version)[ \/]?(\S+)/.exec(vt):void 0);vt&&(pt=vt?vt[1]:""),at=ut&&null!=(vt=dt())&&vt>parseFloat(pt)?String(vt):pt;var gt={};function mt(t){return e=t,n=function(){for(var e=0,n=Q(String(at)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(e=Z(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Z(0==a[2].length,0==s[2].length)||Z(a[2],s[2]),a=a[3],s=s[3],0==e););return 0<=e},r=gt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var yt=P.document&&ut&&(dt()||parseInt(at,10))||void 0,bt=!ut||9<=Number(yt),wt=ut&&!mt("9"),xt=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{P.addEventListener("test",N,e),P.removeEventListener("test",N,e)}catch(t){}return t}();function Et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function _t(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ft){t:{try{ot(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:kt[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Et.prototype.b=function(){this.defaultPrevented=!0},W(_t,Et);var kt={2:"touch",3:"pen",4:"mouse"};_t.prototype.b=function(){_t.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var St="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function Ot(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ct,this.Y=this.Z=!1}function Tt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function It(t){this.src=t,this.a={},this.b=0}function Rt(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=H(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Tt(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function At(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}It.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=At(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Ot(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Pt="closure_lm_"+(1e6*Math.random()|0),Nt={};function Dt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=zt(r),e&&e[St]?e.wa(n,r,M(i)?!!i.capture:!!i,o):Mt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Dt(t,e[o],n,r,i);return null}return n=zt(n),t&&t[St]?t.va(e,n,M(r)?!!r.capture:!!r,i):Mt(t,e,n,!1,r,i)}function Mt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=M(i)?!!i.capture:!!i;if(a&&!bt)return null;var s,u,c=Vt(t);if(c||(t[Pt]=c=new It(t)),(n=c.add(e,n,r,a,o)).proxy)return n;if(s=Bt,r=u=bt?function(t){return s.call(u.src,u.listener,t)}:function(t){if(!(t=s.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(i=xt?i:a)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ft(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jt(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[St]?Rt(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ft(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vt(e))?(Rt(n,t),0==n.b&&(n.src=null,e[Pt]=null)):Tt(t)))}function Ft(t){return t in Nt?Nt[t]:Nt[t]="on"+t}function Lt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&jt(t),n.call(r,e)}function Bt(t,e){if(t.Y)return!0;if(bt)return Lt(t,new _t(e,this));if(!e)t:{e=["window","event"];for(var n=P,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Lt(t,e=new _t(e,this))}function Vt(t){return(t=t[Pt])instanceof It?t:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(t){return"function"==typeof t?t:(t[Ut]||(t[Ut]=function(e){return t.handleEvent(e)}),t[Ut])}function Wt(){q.call(this),this.c=new It(this),(this.J=this).C=null}function qt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new Et(e,t):e instanceof Et?e.target=e.target||t:(a=e,it(e=new Et(r,t),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],a=Ht(o,r,!0,e)&&a;if(a=Ht(o=e.a=t,r,!0,e)&&a,a=Ht(o,r,!1,e)&&a,n)for(i=0;i<n.length;i++)a=Ht(o=e.a=n[i],r,!1,e)&&a}function Ht(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&Rt(t.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}W(Wt,q),Wt.prototype[St]=!0,(I=Wt.prototype).addEventListener=function(t,e,n,r){Dt(this,t,e,n,r)},I.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=M(i)?!!i.capture:!!i,r=zt(r),e&&e[St]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=At(a=e.a[n],r,i,o))&&(Tt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&Vt(e))&&(n=e.a[n.toString()],(r=(e=-1)<(e=n?At(n,r,i,o):e)?n[e]:null)&&jt(r))}(this,t,e,n,r)},I.G=function(){if(Wt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Tt(n[r]);delete e.a[t],e.b--}}this.C=null},I.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},I.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gt=P.JSON.stringify;function Kt(){this.b=this.a=null}var Xt,$t=(Yt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Yt(function(){return new Qt},function(t){t.reset()}));function Yt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Qt(){this.next=this.b=this.a=null}function Jt(t,e){var n;Xt||(n=P.Promise.resolve(void 0),Xt=function(){n.then(ee)}),Zt||(Xt(),Zt=!0),te.add(t,e)}Kt.prototype.add=function(t,e){var n=$t.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Zt=!(Qt.prototype.reset=function(){this.next=this.b=this.a=null}),te=new Kt;function ee(){for(var t,e;n=e=void 0,n=null,(e=te).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){P.setTimeout(function(){throw t},0)}(t)}var n=$t;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}Zt=!1}function ne(t,e){Wt.call(this),this.b=t||1,this.a=e||P,this.f=V(this.Za,this),this.g=z()}function re(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ie(t,e,n){if("function"==typeof t)n&&(t=V(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=V(t.handleEvent,t)}return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}W(ne,Wt),(I=ne.prototype).aa=!1,I.M=null,I.Za=function(){var t;this.aa&&(0<(t=z()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qt(this,"tick"),this.aa&&(re(this),this.start())))},I.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=z())},I.G=function(){ne.X.G.call(this),re(this),delete this.a};var oe,ae,se,ue=(O(ae=le,se=oe=q),ae.prototype=null===se?Object.create(se):(ce.prototype=se.prototype,new ce),le.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=ie(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},le.prototype.G=function(){oe.prototype.G.call(this),this.a&&(P.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},le);function ce(){this.constructor=ae}function le(t,e){var n=oe.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function fe(t){q.call(this),this.b=t,this.a={}}W(fe,q);var he=[];function de(t,e,n,r){Array.isArray(n)||(n&&(he[0]=n.toString()),n=he);for(var i=0;i<n.length;i++){var o=Dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function pe(t){et(t.a,function(t,e){this.a.hasOwnProperty(e)&&jt(t)},t),t.a={}}function ve(){this.a=!0}function ge(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return Gt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}fe.prototype.G=function(){fe.X.G.call(this),pe(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ve.prototype.info=function(){};var me={},ye=null;function be(){return ye=ye||new Wt}function we(t){Et.call(this,me.Fa,t)}function xe(t){var e=be();qt(e,new we(e))}function Ee(t,e){Et.call(this,me.STAT_EVENT,t),this.stat=e}function _e(t){var e=be();qt(e,new Ee(e,t))}function ke(t){Et.call(this,me.Ga,t)}function Se(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){t()},e)}me.Fa="serverreachability",W(we,Et),me.STAT_EVENT="statevent",W(Ee,Et),me.Ga="timingevent",W(ke,Et);var Ce={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Oe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Te(){}function Ie(t){var e;return e=(e=t.a)?e:t.a={}}function Re(){}function Ae(){Et.call(this,"d")}function Pe(){Et.call(this,"c")}function Ne(){}function De(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new fe(this),this.P=je,t=lt?125:void 0,this.R=new ne(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Te.prototype.a=null,R={OPEN:"a",eb:"b",Ea:"c",qb:"d"},W(Ae,Et),W(Pe,Et),W(Ne,Te);var Me=new Ne,je=45e3,Fe={},Le={};function Be(t,e,n){t.H=1,t.i=sn(tn(e)),t.j=n,t.I=!0,Ve(t,null)}function Ve(t,e){t.u=z(),ze(t),t.l=tn(t.i);var n,r,i,o,a,s,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),wn(u.b,"t",c),t.D=0,t.a=dr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ue(V(t.Ca,t,t.a),t.O)),de(t.J,t.a,"readystatechange",t.Xa),e=t.B?nt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),xe(),n=t.c,r=t.m,i=t.l,o=t.f,a=t.S,s=t.j,n.info(function(){if(n.a)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,f=e[u].split("=");1<f.length&&(c=f[0],f=f[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+f+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t})}function Ue(t,e,n){for(var r,i,o,a=!0;!t.A&&t.D<n.length;){var s=(s=n,o=i=void 0,i=(r=t).D,-1==(o=s.indexOf("\n",i))?Le:(i=Number(s.substring(i,o)),isNaN(i)?Fe:(o+=1)+i>s.length?Le:(s=s.substr(o,i),r.D=o+i,s)));if(s==Le){4==e&&(t.h=4,_e(14),a=!1),ge(t.c,t.f,null,"[Incomplete Response]");break}if(s==Fe){t.h=4,_e(15),ge(t.c,t.f,n,"[Invalid Chunk]"),a=!1;break}ge(t.c,t.f,s,null),Ke(t,s)}4==e&&0==n.length&&(t.h=1,_e(16),a=!1),t.b=t.b&&a,a?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),or(e),e.F=!0,_e(11))):(ge(t.c,t.f,n,"[Invalid Chunked Response]"),Ge(t),He(t))}function ze(t){t.T=z()+t.P,We(t,t.P)}function We(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Se(V(t.Va,t),e)}function qe(t){t.o&&(P.clearTimeout(t.o),t.o=null)}function He(t){0==t.g.v||t.A||ur(t.g,t)}function Ge(t){qe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,re(t.R),pe(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ke(t,e){try{var n,r,i,o,a,s=t.g;if(0!=s.v&&(s.a==t||On(s.b,t)))if(s.I=t.N,!t.C&&On(s.b,t)&&3==s.v){try{var u=s.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!s.j){if(s.a){if(!(s.a.u+3e3<t.u))break t;sr(s),Yn(s)}ir(s),_e(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=Se(V(s.Sa,s),6e3));if(Cn(s.b)<=1&&s.ea){try{s.ea()}catch(t){}s.ea=void 0}}else lr(s,11)}else if(!t.C&&s.a!=t||sr(s),!$(e))for(e=u=s.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(J(r,"spdy")||J(r,"quic")||J(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(Tn(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,an(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.U&&(s.N=z()-t.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=t,(n=s).la=hr(n,n.C?n.ga:null,n.fa),i.C?(In(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(qe(o),ze(o)),n.a=i):rr(n),0<s.g.length&&Zn(s)):"stop"!=c[0]&&"close"!=c[0]||lr(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lr(s,7):$n(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);xe()}catch(t){}}function Xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(D(t)||"string"==typeof t)G(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(D(t)||"string"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(D(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $e(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $e)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ye(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)Qe(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(I=De.prototype).setTimeout=function(t){this.P=t},I.Xa=function(t){t=t.target;var e=this.F;e&&3==Hn(t)?e.f():this.Ca(t)},I.Ca=function(t){try{if(t==this.a)t:{var e=Hn(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!lt&&!this.a.$())){this.A||4!=e||7==n||xe(),qe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,l=this.f,f=this.S,h=e,d=i,r.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+u+"\n"+c+"\n"+h+" "+d}),this.b){if(this.U&&!this.C){e:{if(this.a){var a=this.a;if((a=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.h=3,_e(12),Ge(this),He(this);break t}ge(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ke(this,s)}this.I?(Ue(this,e,o),lt&&this.b&&3==e&&(de(this.J,this.R,"tick",this.Wa),this.R.start())):(ge(this.c,this.f,o,null),Ke(this,o)),4==e&&Ge(this),this.b&&!this.A&&(4==e?ur(this.g,this):(this.b=!1,ze(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_e(12)):(this.h=0,_e(13)),Ge(this),He(this)}}}catch(t){}var u,c,l,f,h,d},I.Wa=function(){var t,e;this.a&&(t=Hn(this.a),e=this.a.$(),this.D<e.length&&(qe(this),Ue(this,t,e),this.b&&4!=t&&ze(this)))},I.cancel=function(){this.A=!0,Ge(this)},I.Va=function(){this.o=null;var t,e,n=z();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(xe(),_e(17)),Ge(this),this.h=2,He(this)):We(this,this.T-n)},(I=$e.prototype).K=function(){Ye(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},I.L=function(){return Ye(this),this.a.concat()},I.get=function(t,e){return Qe(this.b,t)?this.b[t]:e},I.set=function(t,e){Qe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},I.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ze?(this.a=void 0!==e?e:t.a,en(this,t.f),this.j=t.j,nn(this,t.c),rn(this,t.h),this.g=t.g,e=t.b,(n=new gn).c=e.c,e.a&&(n.a=new $e(e.a),n.b=e.b),on(this,n),this.i=t.i):t&&(n=String(t).match(Je))?(this.a=!!e,en(this,n[1]||"",!0),this.j=un(n[2]||""),nn(this,n[3]||"",!0),rn(this,n[4]),this.g=un(n[5]||"",!0),on(this,n[6]||"",!0),this.i=un(n[7]||"")):(this.a=!!e,this.b=new gn(null,this.a))}function tn(t){return new Ze(t)}function en(t,e,n){t.f=n?un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function nn(t,e,n){t.c=n?un(e,!0):e}function rn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function on(t,e,n){var r,i;e instanceof gn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(mn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(yn(this,e),wn(this,n,t))},r)),r.f=i):(n||(e=cn(e,pn)),t.b=new gn(e,t.a))}function an(t,e,n){t.b.set(e,n)}function sn(t){return an(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^z()).toString(36)),t}function un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ln),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function ln(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ze.prototype.toString=function(){var t=[],e=this.f;e&&t.push(cn(e,fn,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(cn(e,fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(cn(n,"/"==n.charAt(0)?dn:hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",cn(n,vn)),t.join("")};var fn=/[#\/\?@]/g,hn=/[#\?:]/g,dn=/[#\?]/g,pn=/[#\?@]/g,vn=/#/g;function gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function mn(t){t.a||(t.a=new $e,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yn(t,e){mn(t),e=xn(t,e),Qe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ye(t)))}function bn(t,e){return mn(t),e=xn(t,e),Qe(t.a.b,e)}function wn(t,e,n){yn(t,e),0<n.length&&(t.c=null,t.a.set(xn(t,e),X(n)),t.b+=n.length)}function xn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}(I=gn.prototype).add=function(t,e){mn(this),this.c=null,t=xn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},I.forEach=function(t,e){mn(this),this.a.forEach(function(n,r){G(n,function(n){t.call(e,n,r,this)},this)},this)},I.L=function(){mn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},I.K=function(t){mn(this);var e=[];if("string"==typeof t)bn(this,t)&&(e=K(e,this.a.get(xn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},I.set=function(t,e){return mn(this),this.c=null,bn(this,t=xn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},I.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},I.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.K(r),o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var En=function(t,e){this.b=t,this.a=e};function _n(t){this.g=t||kn,t=P.PerformanceNavigationTiming?0<(t=P.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(P.ia&&P.ia.ya&&P.ia.ya()&&P.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var kn=10;function Sn(t){return t.b||t.a&&t.a.size>=t.f}function Cn(t){return t.b?1:t.a?t.a.size:0}function On(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Tn(t,e){t.a?t.a.add(e):t.b=e}function In(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return X(t.c);var r=t.c;try{for(var i=T(t.a.values()),o=i.next();!o.done;o=i.next())var a=o.value,r=r.concat(a.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function An(){}function Pn(){this.a=new An}function Nn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}_n.prototype.cancel=function(){var t,e;if(this.c=Rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=T(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},An.prototype.stringify=function(t){return P.JSON.stringify(t,void 0)},An.prototype.parse=function(t){return P.JSON.parse(t,void 0)};var Dn=P.JSON.parse;function Mn(t){Wt.call(this),this.headers=new $e,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=jn,this.D=this.F=!1}W(Mn,Wt);var jn="",Fn=/^https?$/i,Ln=["POST","PUT"];function Bn(t){return"content-type"==t.toLowerCase()}function Vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Un(t),Wn(t)}function Un(t){t.u||(t.u=!0,qt(t,"complete"),qt(t,"error"))}function zn(t){if(t.b&&void 0!==A&&(!t.s[1]||4!=Hn(t)||2!=t.W()))if(t.l&&4==Hn(t))ie(t.za,0,t);else if(qt(t,"readystatechange"),4==Hn(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.B).match(Je)[1]||null)&&P.self&&P.self.location&&(i=(r=P.self.location.protocol).substr(0,r.length-1)),n=!Fn.test(i?i.toLowerCase():"")),e=n),e)qt(t,"complete"),qt(t,"success");else{t.h=6;try{var s=2<Hn(t)?t.a.statusText:""}catch(o){s=""}t.f=s+" ["+t.W()+"]",Un(t)}}finally{Wn(t)}}}function Wn(t,e){if(t.a){qn(t);var n=t.a,r=t.s[0]?N:null;t.a=null,t.s=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function qn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(P.clearTimeout(t.m),t.m=null)}function Hn(t){return t.a?t.a.readyState:0}function Gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",et(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):an(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xn(t){this.pa=0,this.g=[],this.c=new ve,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Kn("baseRetryDelayMs",5e3,t),this.Ra=Kn("retryDelaySeedMs",1e4,t),this.Ma=Kn("forwardChannelMaxRetries",2,t),this.ma=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new _n(t&&t.concurrentRequestLimit),this.ka=new Pn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $n(t){var e,n;Qn(t),3==t.v&&(e=t.R++,an(n=tn(t.B),"SID",t.J),an(n,"RID",e),an(n,"TYPE","terminate"),er(t,n),(e=new De(t,t.c,e,void 0)).H=2,e.i=sn(tn(n)),n=!1,!(n=P.navigator&&P.navigator.sendBeacon?P.navigator.sendBeacon(e.i.toString(),""):n)&&P.Image&&((new Image).src=e.i,n=!0),n||(e.a=dr(e.g,null),e.a.ba(e.i)),e.u=z(),ze(e)),fr(t)}function Yn(t){t.a&&(or(t),t.a.cancel(),t.a=null)}function Qn(t){Yn(t),t.j&&(P.clearTimeout(t.j),t.j=null),sr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&P.clearTimeout(t.h),t.h=null)}function Jn(t,e){t.g.push(new En(t.Oa++,e)),3==t.v&&Zn(t)}function Zn(t){Sn(t.b)||t.h||(t.h=!0,Jt(t.Ba,t),t.u=0)}function tr(t,e){var n=e?e.f:t.R++,r=tn(t.B);an(r,"SID",t.J),an(r,"RID",n),an(r,"AID",t.P),er(t,r),t.i&&t.l&&Gn(r,t.i,t.l),n=new De(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=nr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Tn(t.b,n),Be(n,r,e)}function er(t,e){t.f&&Xe({},function(t,n){an(e,n,t)})}function nr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?V(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(t,e,n){var r="";try{Xe(t,function(t,n){var i=t;M(t)&&(i=Gt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a)}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function rr(t){t.a||t.j||(t.T=1,Jt(t.Aa,t),t.o=0)}function ir(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Se(V(t.Aa,t),cr(t,t.o)),t.o++,1)}function or(t){null!=t.s&&(P.clearTimeout(t.s),t.s=null)}function ar(t){t.a=new De(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=tn(t.la);an(e,"RID","rpc"),an(e,"SID",t.J),an(e,"CI",t.H?"0":"1"),an(e,"AID",t.P),er(t,e),an(e,"TYPE","xmlhttp"),t.i&&t.l&&Gn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=sn(tn(e)),n.j=null,n.I=!0,Ve(n,t)}function sr(t){null!=t.m&&(P.clearTimeout(t.m),t.m=null)}function ur(t,e){var n,r,i,o=null;if(t.a==e){sr(t),or(t),t.a=null;var a=2}else{if(!On(t.b,e))return;o=e.s,In(t.b,e),a=1}if(t.I=e.N,0!=t.v)if(e.b)1==a?(o=e.j?e.j.length:0,e=z()-e.u,n=t.u,qt(a=be(),new ke(a)),Zn(t)):rr(t);else if(3==(n=e.h)||0==n&&0<t.I||(1!=a||(i=e,Cn((r=t).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=Se(V(r.Ba,r,i),cr(r,r.u)),r.u++,0))))&&(2!=a||!ir(t)))switch(o&&0<o.length&&(e=t.b,e.c=e.c.concat(o)),n){case 1:lr(t,5);break;case 4:lr(t,10);break;case 3:lr(t,6);break;default:lr(t,2)}}function cr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function lr(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=V(t.Ya,t),r||(r=new Ze("//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||en(r,"https"),sn(r)),n=r.toString(),r=o,o=new ve,P.Image?((i=new Image).onload=U(Nn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=U(Nn,o,i,"TestLoadImage: error",!1,r),i.onabort=U(Nn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=U(Nn,o,i,"TestLoadImage: timeout",!1,r),P.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):_e(2),t.v=0,t.f&&t.f.ra(e),fr(t),Qn(t)}function fr(t){t.v=0,t.I=-1,t.f&&(0==Rn(t.b).length&&0==t.g.length||(t.b.c.length=0,X(t.g),t.g.length=0),t.f.qa())}function hr(t,e,n){var r,i,o,a,s,u=(a=n)instanceof Ze?tn(a):new Ze(a,void 0);return""!=u.c?(e&&nn(u,e+"."+u.c),rn(u,u.h)):(s=P.location,r=s.protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Ze(null,void 0),r&&en(s,r),i&&nn(s,i),o&&rn(s,o),a&&(s.g=a),u=s),t.V&&et(t.V,function(t,e){an(u,e,t)}),e=t.A,n=t.na,e&&n&&an(u,e,n),an(u,"VER",t.ha),er(t,u),u}function dr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mn(t.Na)).F=t.C,e}function pr(){}function vr(){if(ut&&!(10<=Number(yt)))throw Error("Environmental error: no available transport.")}function gr(t,e){Wt.call(this),this.a=new Xn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!$(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new br(this)}function mr(t){Ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function yr(){Pe.call(this),this.status=1}function br(t){this.a=t}(I=Mn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ie(this.H):Ie(Me),this.a.onreadystatechange=V(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Vn(this,t)}t=n||"";var i,o=new $e(this.headers);r&&Xe(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Bn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=P.FormData&&t instanceof P.FormData,0<=H(Ln,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qn(this),0<this.o&&((this.D=(i=this.a,ut&&mt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=V(this.xa,this)):this.m=ie(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Vn(this,t)}},I.xa=function(){void 0!==A&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qt(this,"timeout"),this.abort(8))},I.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qt(this,"complete"),qt(this,"abort"),Wn(this))},I.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Wn(this,!0)),Mn.X.G.call(this)},I.za=function(){this.j||(this.A||this.l||this.g?zn(this):this.Ua())},I.Ua=function(){zn(this)},I.W=function(){try{return 2<Hn(this)?this.a.status:-1}catch(t){return-1}},I.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},I.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Dn(e)}},I.ua=function(){return this.h},I.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(I=Xn.prototype).ha=8,I.v=1,I.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new De(this,this.c,t,void 0),r=this.l;if(this.O&&(r?it(r=nt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=nr(this,n,e),an(i=tn(this.B),"RID",t),an(i,"CVER",22),this.A&&an(i,"X-HTTP-Session-Id",this.A),er(this,i),this.i&&r&&Gn(i,this.i,r),Tn(this.b,n),this.Ia&&an(i,"TYPE","init"),this.da?(an(i,"$req",e),an(i,"SID","null"),n.U=!0,Be(n,i,null)):Be(n,i,e),this.v=2}}else 3==this.v&&(t?tr(this,t):0==this.g.length||Sn(this.b)||tr(this))},I.Aa=function(){var t;this.j=null,ar(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Se(V(this.Ta,this),t))},I.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_e(10),Yn(this),ar(this))},I.Sa=function(){null!=this.m&&(this.m=null,Yn(this),ir(this),_e(19))},I.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),_e(2)):(this.c.info("Failed to ping google.com"),_e(1))},(I=pr.prototype).ta=function(){},I.sa=function(){},I.ra=function(){},I.qa=function(){},I.Ja=function(){},vr.prototype.a=function(t,e){return new gr(t,e)},W(gr,Wt),gr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;_e(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=hr(t,null,t.fa),Zn(t)},gr.prototype.close=function(){$n(this.a)},gr.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,Jn(this.a,e)):this.l?((e={}).__data__=Gt(t),Jn(this.a,e)):Jn(this.a,t)},gr.prototype.G=function(){this.a.f=null,delete this.f,$n(this.a),delete this.a,gr.X.G.call(this)},W(mr,Ae),W(yr,Pe),W(br,pr),br.prototype.ta=function(){qt(this.a,"a")},br.prototype.sa=function(t){qt(this.a,new mr(t))},br.prototype.ra=function(t){qt(this.a,new yr)},br.prototype.qa=function(){qt(this.a,"b")},vr.prototype.createWebChannel=vr.prototype.a,gr.prototype.send=gr.prototype.h,gr.prototype.open=gr.prototype.g,Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Oe.COMPLETE="complete",(Re.EventType=R).OPEN="a",R.CLOSE="b",R.ERROR="c",R.MESSAGE="d",Wt.prototype.listen=Wt.prototype.va,Mn.prototype.listenOnce=Mn.prototype.wa,Mn.prototype.getLastError=Mn.prototype.Qa,Mn.prototype.getLastErrorCode=Mn.prototype.ua,Mn.prototype.getStatus=Mn.prototype.W,Mn.prototype.getResponseJson=Mn.prototype.Pa,Mn.prototype.getResponseText=Mn.prototype.$,Mn.prototype.send=Mn.prototype.ba;var wr=be,xr=Ce,Er=Oe,_r=me,kr=Re,Sr=Mn,Cr=(Or.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Or.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},Or);function Or(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}Cr.o=-1;var Tr,Ir={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rr=(o(Pr,Tr=Error),Pr),Ar=new S("@firebase/firestore");function Pr(t,e){var n=this;return(n=Tr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Nr(){return Ar.logLevel}function Dr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Ar.logLevel<=y.DEBUG&&(e=n.map(Fr),Ar.debug.apply(Ar,c(["Firestore (8.6.2): "+t],e)))}function Mr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Ar.logLevel<=y.ERROR&&(e=n.map(Fr),Ar.error.apply(Ar,c(["Firestore (8.6.2): "+t],e)))}function jr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Ar.logLevel<=y.WARN&&(e=n.map(Fr),Ar.warn.apply(Ar,c(["Firestore (8.6.2): "+t],e)))}function Fr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Lr(t){throw Mr(t="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t)),new Error(t)}function Br(t){t||Lr()}var Vr=(Ur.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Ur);function Ur(){}function zr(t,e){return t<e?-1:e<t?1:0}function Wr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function qr(t){return t+"\0"}var Hr=(Xr.now=function(){return Xr.fromMillis(Date.now())},Xr.fromDate=function(t){return Xr.fromMillis(t.getTime())},Xr.fromMillis=function(t){var e=Math.floor(t/1e3);return new Xr(e,Math.floor(1e6*(t-1e3*e)))},Xr.prototype.toDate=function(){return new Date(this.toMillis())},Xr.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Xr.prototype._compareTo=function(t){return this.seconds===t.seconds?zr(this.nanoseconds,t.nanoseconds):zr(this.seconds,t.seconds)},Xr.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Xr.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Xr.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Xr.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Xr),Gr=(Kr.fromTimestamp=function(t){return new Kr(t)},Kr.min=function(){return new Kr(new Hr(0,0))},Kr.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},Kr.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Kr.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Kr.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Kr.prototype.toTimestamp=function(){return this.timestamp},Kr);function Kr(t){this.timestamp=t}function Xr(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Rr(Ir.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Rr(Ir.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Rr(Ir.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Rr(Ir.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function $r(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Yr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Jr,Zr,Oe=(Object.defineProperty(ci.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),ci.prototype.isEqual=function(t){return 0===ci.comparator(this,t)},ci.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ci?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},ci.prototype.limit=function(){return this.offset+this.length},ci.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},ci.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},ci.prototype.firstSegment=function(){return this.segments[this.offset]},ci.prototype.lastSegment=function(){return this.get(this.length-1)},ci.prototype.get=function(t){return this.segments[this.offset+t]},ci.prototype.isEmpty=function(){return 0===this.length},ci.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ci.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ci.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ci.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},ci.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},ci),ti=(o(ui,Zr=Oe),ui.prototype.construct=function(t,e,n){return new ui(t,e,n)},ui.prototype.canonicalString=function(){return this.toArray().join("/")},ui.prototype.toString=function(){return this.canonicalString()},ui.fromString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new ui(n)},ui.emptyPath=function(){return new ui([])},ui),ei=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ni=(o(si,Jr=Oe),si.prototype.construct=function(t,e,n){return new si(t,e,n)},si.isValidIdentifier=function(t){return ei.test(t)},si.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t=si.isValidIdentifier(t)?t:"`"+t+"`"}).join(".")},si.prototype.toString=function(){return this.canonicalString()},si.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},si.keyField=function(){return new si(["__name__"])},si.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Rr(Ir.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Rr(Ir.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Rr(Ir.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new si(e)},si.emptyPath=function(){return new si([])},si),ri=(ai.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},ai.prototype.isEqual=function(t){return Wr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},ai),ii=(oi.fromBase64String=function(t){return new oi(atob(t))},oi.fromUint8Array=function(t){return new oi(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},oi.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},oi.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},oi.prototype.approximateByteSize=function(){return 2*this.binaryString.length},oi.prototype.compareTo=function(t){return zr(this.binaryString,t.binaryString)},oi.prototype.isEqual=function(t){return this.binaryString===t.binaryString},oi);function oi(t){this.binaryString=t}function ai(t){(this.fields=t).sort(ni.comparator)}function si(){return null!==Jr&&Jr.apply(this,arguments)||this}function ui(){return null!==Zr&&Zr.apply(this,arguments)||this}function ci(t,e,n){void 0===e?e=0:e>t.length&&Lr(),void 0===n?n=t.length-e:n>t.length-e&&Lr(),this.segments=t,this.offset=e,this.len=n}ii.EMPTY_BYTE_STRING=new ii("");var li=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(Br(!!t),"string"!=typeof t)return{seconds:hi(t.seconds),nanos:hi(t.nanos)};var e=0,n=li.exec(t);return Br(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function hi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function di(t){return"string"==typeof t?ii.fromBase64String(t):ii.fromUint8Array(t)}function pi(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vi(t){return t=fi(t.mapValue.fields.__local_write_time__.timestampValue),new Hr(t.seconds,t.nanos)}function gi(t){return null==t}function mi(t){return 0===t&&1/t==-1/0}function yi(t){return"number"==typeof t&&Number.isInteger(t)&&!mi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bi=(wi.fromPath=function(t){return new wi(ti.fromString(t))},wi.fromName=function(t){return new wi(ti.fromString(t).popFirst(5))},wi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},wi.prototype.isEqual=function(t){return null!==t&&0===ti.comparator(this.path,t.path)},wi.prototype.toString=function(){return this.path.toString()},wi.comparator=function(t,e){return ti.comparator(t.path,e.path)},wi.isDocumentKey=function(t){return t.length%2==0},wi.fromSegments=function(t){return new wi(new ti(t.slice()))},wi);function wi(t){this.path=t}function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pi(t)?4:10:Lr()}function Ei(t,e){var n,r,i=xi(t);if(i!==xi(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vi(t).isEqual(vi(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=fi(t.timestampValue),e=fi(e.timestampValue);return n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,di(t.bytesValue).isEqual(di(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return n=e,hi((r=t).geoPointValue.latitude)===hi(n.geoPointValue.latitude)&&hi(r.geoPointValue.longitude)===hi(n.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?hi(t.integerValue)===hi(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&(t=hi(t.doubleValue),e=hi(e.doubleValue),t===e?mi(t)===mi(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return Wr(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if($r(r)!==$r(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Ei(r[n],i[n])))return!1;return!0}();default:return Lr()}}function _i(t,e){return void 0!==(t.values||[]).find(function(t){return Ei(t,e)})}function ki(t,e){var n,r,i,o=xi(t),a=xi(e);if(o!==a)return zr(o,a);switch(o){case 0:return 0;case 1:return zr(t.booleanValue,e.booleanValue);case 2:return r=e,i=hi(t.integerValue||t.doubleValue),r=hi(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Si(t.timestampValue,e.timestampValue);case 4:return Si(vi(t),vi(e));case 5:return zr(t.stringValue,e.stringValue);case 6:return function(t,e){return t=di(t),e=di(e),t.compareTo(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zr(n[i],r[i]);if(0!==o)return o}return zr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=zr(hi(n.latitude),hi(i.latitude)))?r:zr(hi(n.longitude),hi(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ki(n[i],r[i]);if(o)return o}return zr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=zr(r[a],o[a]);if(0!==s)return s;if(0!==(s=ki(n[r[a]],i[o[a]])))return s}return zr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Lr()}}function Si(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zr(t,e);var n=fi(t),t=fi(e),e=zr(n.seconds,t.seconds);return 0!==e?e:zr(n.nanos,t.nanos)}function Ci(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var t=fi(t);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?di(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bi.fromName(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Lr();var n}(t)}function Oi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ti(t){return t&&"integerValue"in t}function Ii(t){return!!t&&"arrayValue"in t}function Ri(t){return t&&"nullValue"in t}function Ai(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pi(t){return t&&"mapValue"in t}var Ni=(Di.empty=function(){return new Di({mapValue:{}})},Di.prototype.field=function(t){return Di.extractNestedValue(this.buildProto(),t)},Di.prototype.toProto=function(){return this.field(ni.emptyPath())},Di.prototype.set=function(t,e){this.setOverlay(t,e)},Di.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},Di.prototype.delete=function(t){this.setOverlay(t,null)},Di.prototype.isEqual=function(t){return Ei(this.buildProto(),t.buildProto())},Di.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===xi(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t.lastSegment(),e)},Di.prototype.applyOverlay=function(t,e){var n=this,r=!1,i=Di.extractNestedValue(this.partialValue,t),o=Pi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){var a;e instanceof Map?null!=(a=n.applyOverlay(t.child(i),e))&&(o[i]=a,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},Di.prototype.buildProto=function(){var t=this.applyOverlay(ni.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},Di.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Pi(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},Di.prototype.clone=function(){return new Di(this.buildProto())},Di);function Di(t){this.overlayMap=new Map,this.partialValue=t}var Mi=(Fi.newInvalidDocument=function(t){return new Fi(t,0,Gr.min(),Ni.empty(),0)},Fi.newFoundDocument=function(t,e,n){return new Fi(t,1,e,n,0)},Fi.newNoDocument=function(t,e){return new Fi(t,2,e,Ni.empty(),0)},Fi.newUnknownDocument=function(t,e){return new Fi(t,3,e,Ni.empty(),2)},Fi.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},Fi.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this},Fi.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this},Fi.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Fi.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Fi.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Fi.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Fi.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Fi.prototype.isValidDocument=function(){return 0!==this.documentType},Fi.prototype.isFoundDocument=function(){return 1===this.documentType},Fi.prototype.isNoDocument=function(){return 2===this.documentType},Fi.prototype.isUnknownDocument=function(){return 3===this.documentType},Fi.prototype.isEqual=function(t){return t instanceof Fi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},Fi.prototype.clone=function(){return new Fi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Fi.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Fi),ji=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Fi(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}function Li(t,e,n,r,i,o,a){return new ji(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function Bi(t){var e=t;return null===e.h&&(t=e.path.canonicalString(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(t){return(t=t).field.canonicalString()+t.op.toString()+Ci(t.value)}).join(","),t+="|ob:",t+=e.orderBy.map(function(t){return(t=t).field.canonicalString()+t.dir}).join(","),gi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=vo(e.startAt)),e.endAt&&(t+="|ub:",t+=vo(e.endAt)),e.h=t),e.h}function Vi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Ei(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yo(t.startAt,e.startAt)&&yo(t.endAt,e.endAt)}function Ui(t){return bi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var zi,Wi=(o(qi,zi=function(){}),qi.create=function(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.l(t,e,n):new Xi(t,e,n):"array-contains"===e?new oo(t,n):"in"===e?new ao(t,n):"not-in"===e?new so(t,n):"array-contains-any"===e?new uo(t,n):new qi(t,e,n)},qi.l=function(t,e,n){return new("in"===e?$i:Yi)(t,n)},qi.prototype.matches=function(t){return t=t.data.field(this.field),"!="===this.op?null!==t&&this.m(ki(t,this.value)):null!==t&&xi(this.value)===xi(t)&&this.m(ki(t,this.value))},qi.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Lr()}},qi.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},qi);function qi(t,e,n){var r=this;return(r=zi.call(this)||this).field=t,r.op=e,r.value=n,r}var Hi,Gi,Ki,Xi=(o(Zi,Ki=Wi),Zi.prototype.matches=function(t){return t=bi.comparator(t.key,this.key),this.m(t)},Zi),$i=(o(Ji,Gi=Wi),Ji.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},Ji),Yi=(o(Qi,Hi=Wi),Qi.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},Qi);function Qi(t,e){var n=this;return(n=Hi.call(this,t,"not-in",e)||this).keys=to(0,e),n}function Ji(t,e){var n=this;return(n=Gi.call(this,t,"in",e)||this).keys=to(0,e),n}function Zi(t,e,n){var r=this;return(r=Ki.call(this,t,e,n)||this).key=bi.fromName(n.referenceValue),r}function to(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return bi.fromName(t.referenceValue)})}var eo,no,ro,io,oo=(o(po,io=Wi),po.prototype.matches=function(t){return Ii(t=t.data.field(this.field))&&_i(t.arrayValue,this.value)},po),ao=(o(ho,ro=Wi),ho.prototype.matches=function(t){return null!==(t=t.data.field(this.field))&&_i(this.value.arrayValue,t)},ho),so=(o(fo,no=Wi),fo.prototype.matches=function(t){return!_i(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.data.field(this.field))&&!_i(this.value.arrayValue,t)},fo),uo=(o(lo,eo=Wi),lo.prototype.matches=function(t){var e=this,t=t.data.field(this.field);return!(!Ii(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return _i(e.value.arrayValue,t)})},lo),co=function(t,e){this.position=t,this.before=e};function lo(t,e){return eo.call(this,t,"array-contains-any",e)||this}function fo(t,e){return no.call(this,t,"not-in",e)||this}function ho(t,e){return ro.call(this,t,"in",e)||this}function po(t,e){return io.call(this,t,"array-contains",e)||this}function vo(t){return(t.before?"b":"a")+":"+t.position.map(Ci).join(",")}var go=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function mo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i],r=o.field.isKeyField()?bi.comparator(bi.fromName(a.referenceValue),n.key):ki(a,n.data.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function yo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}var bo=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function wo(t,e,n,r,i,o,a,s){return new bo(t,e,n,r,i,o,a,s)}function xo(t){return new bo(t)}function Eo(t){return!gi(t.limit)&&"F"===t.limitType}function _o(t){return!gi(t.limit)&&"L"===t.limitType}function ko(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function So(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Co(t){return null!==t.collectionGroup}function Oo(t){var e=t;if(null===e.p){e.p=[];var n=So(e),t=ko(e);if(null!==n&&null===t)n.isKeyField()||e.p.push(new go(n)),e.p.push(new go(ni.keyField(),"asc"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var a=o[i];e.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<e.explicitOrderBy.length?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",e.p.push(new go(ni.keyField(),n)))}}return e.p}function To(t){var e=t;if(!e.T)if("F"===e.limitType)e.T=Li(e.path,e.collectionGroup,Oo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Oo(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new go(o.field,a))}var s=e.endAt?new co(e.endAt.position,!e.endAt.before):null,t=e.startAt?new co(e.startAt.position,!e.startAt.before):null;e.T=Li(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.T}function Io(t,e,n){return new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ro(t,e){return Vi(To(t),To(e))&&t.limitType===e.limitType}function Ao(t){return Bi(To(t))+"|lt:"+t.limitType}function Po(t){return"Query(target="+(e=To(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.canonicalString()+" "+t.op+" "+Ci(t.value)}).join(", ")+"]"),gi(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+vo(e.startAt)),e.endAt&&(n+=", endAt: "+vo(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")";var e,n}function No(t,e){return e.isFoundDocument()&&(n=t,r=e.key.path,null!==n.collectionGroup?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):bi.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||mo(e.startAt,Oo(e),r))&&(!e.endAt||!mo(e.endAt,Oo(e),r)));var n,r}function Do(t){return function(e,n){for(var r=!1,i=0,o=Oo(t);i<o.length;i++){var a=o[i],s=function(t,e,n){var r=t.field.isKeyField()?bi.comparator(e.key,n.key):function(t,n){var r=e.data.field(t),t=n.data.field(t);return null!==r&&null!==t?ki(r,t):Lr()}(t.field,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Lr()}}(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Mo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mi(e)?"-0":e}}function jo(t){return{integerValue:""+t}}function Fo(t,e){return yi(e)?jo(e):Mo(t,e)}function Lo(t,e){return t instanceof Qo?Ti(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Bo,Vo,Uo=(o(qo,Vo=S=function(){this._=void 0}),qo),zo=(o(Wo,Bo=S),Wo);function Wo(t){var e=this;return(e=Bo.call(this)||this).elements=t,e}function qo(){return null!==Vo&&Vo.apply(this,arguments)||this}function Ho(t,e){for(var n=ta(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some(function(e){return Ei(e,t)})||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Go,Ko=(o(Xo,Go=S),Xo);function Xo(t){var e=this;return(e=Go.call(this)||this).elements=t,e}function $o(t,e){for(var n=ta(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter(function(e){return!Ei(e,t)})}(i[r]);return{arrayValue:{values:n}}}var Yo,Qo=(o(Jo,Yo=S),Jo);function Jo(t,e){var n=this;return(n=Yo.call(this)||this).R=t,n.A=e,n}function Zo(t){return hi(t.integerValue||t.doubleValue)}function ta(t){return Ii(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ea(t,e){this.version=t,this.transformResults=e}var na=function(t,e){this.field=t,this.transform=e},ra=(ia.none=function(){return new ia},ia.exists=function(t){return new ia(void 0,t)},ia.updateTime=function(t){return new ia(t)},Object.defineProperty(ia.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),ia.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},ia);function ia(t,e){this.updateTime=t,this.exists=e}function oa(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}function aa(t,e,n){var r,i,o,a;t instanceof fa?(i=e,o=n,oa((r=t).precondition,i)&&(a=r.value.clone(),o=ma(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(ua(i),a).setHasLocalMutations())):t instanceof ha?(o=e,i=n,oa((a=t).precondition,o)&&(n=ma(a.fieldTransforms,i,o),(i=o.data).setAll(va(a)),i.setAll(n),o.convertToFoundDocument(ua(o),i).setHasLocalMutations())):(e=e,oa(t.precondition,e)&&e.convertToNoDocument(Gr.min()))}function sa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Wr(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof zo&&e instanceof zo||t instanceof Ko&&e instanceof Ko?Wr(t.elements,e.elements,Ei):t instanceof Qo&&e instanceof Qo?Ei(t.A,e.A):t instanceof Uo&&e instanceof Uo)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ua(t){return t.isFoundDocument()?t.version:Gr.min()}var ca,la,fa=(o(pa,la=Oe=function(){}),pa),ha=(o(da,ca=Oe),da);function da(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=ca.call(this)||this).key=t,o.data=e,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function pa(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=la.call(this)||this).key=t,i.value=e,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function va(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){var r;n.isEmpty()||(r=t.data.field(n),e.set(n,r))}),e}function ga(t,e,n){var r=new Map;Br(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof zo?Ho(o,a):o instanceof Ko?$o(o,a):s))}return r}function ma(t,e,n){for(var r,i=new Map,o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=e,c=void 0,(u=u)instanceof Uo?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof zo?Ho(u,r):u instanceof Ko?$o(u,r):(u=Lo(c=u,r),r=Zo(u)+Zo(c.A),Ti(u)&&Ti(c.A)?jo(r):Mo(c.R,r))))}return i}function ya(t){this.count=t}var ba,wa,xa,Ea=(o(Sa,xa=Oe),Sa),_a=(o(ka,wa=Oe),ka);function ka(t,e){var n=this;return(n=wa.call(this)||this).key=t,n.precondition=e,n.type=3,n.fieldTransforms=[],n}function Sa(t,e){var n=this;return(n=xa.call(this)||this).key=t,n.precondition=e,n.type=2,n.fieldTransforms=[],n}function Ca(t){switch(t){case Ir.OK:return Lr(),0;case Ir.CANCELLED:case Ir.UNKNOWN:case Ir.DEADLINE_EXCEEDED:case Ir.RESOURCE_EXHAUSTED:case Ir.INTERNAL:case Ir.UNAVAILABLE:case Ir.UNAUTHENTICATED:return;case Ir.INVALID_ARGUMENT:case Ir.NOT_FOUND:case Ir.ALREADY_EXISTS:case Ir.PERMISSION_DENIED:case Ir.FAILED_PRECONDITION:case Ir.ABORTED:case Ir.OUT_OF_RANGE:case Ir.UNIMPLEMENTED:case Ir.DATA_LOSS:return 1;default:return Lr(),0}}function Oa(t){if(void 0===t)return Mr("GRPC error has no .code"),Ir.UNKNOWN;switch(t){case ba.OK:return Ir.OK;case ba.CANCELLED:return Ir.CANCELLED;case ba.UNKNOWN:return Ir.UNKNOWN;case ba.DEADLINE_EXCEEDED:return Ir.DEADLINE_EXCEEDED;case ba.RESOURCE_EXHAUSTED:return Ir.RESOURCE_EXHAUSTED;case ba.INTERNAL:return Ir.INTERNAL;case ba.UNAVAILABLE:return Ir.UNAVAILABLE;case ba.UNAUTHENTICATED:return Ir.UNAUTHENTICATED;case ba.INVALID_ARGUMENT:return Ir.INVALID_ARGUMENT;case ba.NOT_FOUND:return Ir.NOT_FOUND;case ba.ALREADY_EXISTS:return Ir.ALREADY_EXISTS;case ba.PERMISSION_DENIED:return Ir.PERMISSION_DENIED;case ba.FAILED_PRECONDITION:return Ir.FAILED_PRECONDITION;case ba.ABORTED:return Ir.ABORTED;case ba.OUT_OF_RANGE:return Ir.OUT_OF_RANGE;case ba.UNIMPLEMENTED:return Ir.UNIMPLEMENTED;case ba.DATA_LOSS:return Ir.DATA_LOSS;default:return Lr()}}(S=ba=ba||{})[S.OK=0]="OK",S[S.CANCELLED=1]="CANCELLED",S[S.UNKNOWN=2]="UNKNOWN",S[S.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",S[S.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",S[S.NOT_FOUND=5]="NOT_FOUND",S[S.ALREADY_EXISTS=6]="ALREADY_EXISTS",S[S.PERMISSION_DENIED=7]="PERMISSION_DENIED",S[S.UNAUTHENTICATED=16]="UNAUTHENTICATED",S[S.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",S[S.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",S[S.ABORTED=10]="ABORTED",S[S.OUT_OF_RANGE=11]="OUT_OF_RANGE",S[S.UNIMPLEMENTED=12]="UNIMPLEMENTED",S[S.INTERNAL=13]="INTERNAL",S[S.UNAVAILABLE=14]="UNAVAILABLE",S[S.DATA_LOSS=15]="DATA_LOSS";var Ta=(Na.prototype.insert=function(t,e){return new Na(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ra.BLACK,null,null))},Na.prototype.remove=function(t){return new Na(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ra.BLACK,null,null))},Na.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Na.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Na.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(Na.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Na.prototype.minKey=function(){return this.root.minKey()},Na.prototype.maxKey=function(){return this.root.maxKey()},Na.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},Na.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},Na.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},Na.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},Na.prototype.getIterator=function(){return new Ia(this.root,null,this.comparator,!1)},Na.prototype.getIteratorFrom=function(t){return new Ia(this.root,t,this.comparator,!1)},Na.prototype.getReverseIterator=function(){return new Ia(this.root,null,this.comparator,!0)},Na.prototype.getReverseIteratorFrom=function(t){return new Ia(this.root,t,this.comparator,!0)},Na),Ia=(Pa.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},Pa.prototype.hasNext=function(){return 0<this.nodeStack.length},Pa.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},Pa),Ra=(Aa.prototype.copy=function(t,e,n,r,i){return new Aa(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Aa.prototype.isEmpty=function(){return!1},Aa.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},Aa.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Aa.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},Aa.prototype.minKey=function(){return this.min().key},Aa.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Aa.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},Aa.prototype.removeMin=function(){if(this.left.isEmpty())return Aa.EMPTY;var t=this;return(t=(t=t.left.isRed()||t.left.left.isRed()?t:t.moveRedLeft()).copy(null,null,null,t.left.removeMin(),null)).fixUp()},Aa.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return Aa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},Aa.prototype.isRed=function(){return this.color},Aa.prototype.fixUp=function(){var t=this;return t=(t=(t=t.right.isRed()&&!t.left.isRed()?t.rotateLeft():t).left.isRed()&&t.left.left.isRed()?t.rotateRight():t).left.isRed()&&t.right.isRed()?t.colorFlip():t},Aa.prototype.moveRedLeft=function(){var t=this.colorFlip();return t=t.right.left.isRed()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip():t},Aa.prototype.moveRedRight=function(){var t=this.colorFlip();return t=t.left.left.isRed()?(t=t.rotateRight()).colorFlip():t},Aa.prototype.rotateLeft=function(){var t=this.copy(null,null,Aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Aa.prototype.rotateRight=function(){var t=this.copy(null,null,Aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Aa.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Aa.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},Aa.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Lr();if(this.right.isRed())throw Lr();var t=this.left.check();if(t!==this.right.check())throw Lr();return t+(this.isRed()?0:1)},Aa);function Aa(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Aa.RED,this.left=null!=r?r:Aa.EMPTY,this.right=null!=i?i:Aa.EMPTY,this.size=this.left.size+1+this.right.size}function Pa(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}function Na(t,e){this.comparator=t,this.root=e||Ra.EMPTY}function Da(){this.size=0}Ra.EMPTY=null,Ra.RED=!0,Ra.BLACK=!1,Ra.EMPTY=(Object.defineProperty(Da.prototype,"key",{get:function(){throw Lr()},enumerable:!1,configurable:!0}),Object.defineProperty(Da.prototype,"value",{get:function(){throw Lr()},enumerable:!1,configurable:!0}),Object.defineProperty(Da.prototype,"color",{get:function(){throw Lr()},enumerable:!1,configurable:!0}),Object.defineProperty(Da.prototype,"left",{get:function(){throw Lr()},enumerable:!1,configurable:!0}),Object.defineProperty(Da.prototype,"right",{get:function(){throw Lr()},enumerable:!1,configurable:!0}),Da.prototype.copy=function(t,e,n,r,i){return this},Da.prototype.insert=function(t,e,n){return new Ra(t,e)},Da.prototype.remove=function(t,e){return this},Da.prototype.isEmpty=function(){return!0},Da.prototype.inorderTraversal=function(t){return!1},Da.prototype.reverseTraversal=function(t){return!1},Da.prototype.minKey=function(){return null},Da.prototype.maxKey=function(){return null},Da.prototype.isRed=function(){return!1},Da.prototype.checkMaxDepth=function(){return!0},Da.prototype.check=function(){return 0},new Da);var Ma=(Ba.prototype.has=function(t){return null!==this.data.get(t)},Ba.prototype.first=function(){return this.data.minKey()},Ba.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Ba.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Ba.prototype.indexOf=function(t){return this.data.indexOf(t)},Ba.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},Ba.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},Ba.prototype.forEachWhile=function(t,e){for(var n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},Ba.prototype.firstAfterOrEqual=function(t){return(t=this.data.getIteratorFrom(t)).hasNext()?t.getNext().key:null},Ba.prototype.getIterator=function(){return new ja(this.data.getIterator())},Ba.prototype.getIteratorFrom=function(t){return new ja(this.data.getIteratorFrom(t))},Ba.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},Ba.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Ba.prototype.isEmpty=function(){return this.data.isEmpty()},Ba.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Ba.prototype.isEqual=function(t){if(!(t instanceof Ba))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Ba.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},Ba.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},Ba.prototype.copy=function(t){var e=new Ba(this.comparator);return e.data=t,e},Ba),ja=(La.prototype.getNext=function(){return this.iter.getNext().key},La.prototype.hasNext=function(){return this.iter.hasNext()},La),Fa=new Ta(bi.comparator);function La(t){this.iter=t}function Ba(t){this.comparator=t,this.data=new Ta(this.comparator)}var Va=new Ta(bi.comparator),Ua=new Ta(bi.comparator),za=new Ma(bi.comparator);function Wa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=za,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var qa=new Ma(zr),Ha=(es.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n=new Map;return n.set(t,Ga.createSynthesizedTargetChangeForCurrentChange(t,e)),new es(Gr.min(),n,qa,Fa,Wa())},es),Ga=(ts.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new ts(ii.EMPTY_BYTE_STRING,e,Wa(),Wa(),Wa())},ts),Ka=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Xa=function(t,e){this.targetId=t,this.V=e},$a=function(t,e,n,r){void 0===n&&(n=ii.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ya=(Object.defineProperty(Za.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(Za.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(Za.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(Za.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),Za.prototype.$=function(t){0<t.approximateByteSize()&&(this.F=!0,this.C=t)},Za.prototype.M=function(){var t=Wa(),e=Wa(),n=Wa();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Lr()}}),new Ga(this.C,this.N,t,e,n)},Za.prototype.L=function(){this.F=!1,this.D=rs()},Za.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},Za.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},Za.prototype.U=function(){this.S+=1},Za.prototype.K=function(){--this.S},Za.prototype.j=function(){this.F=!0,this.N=!0},Za),Qa=(Ja.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},Ja.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Lr()}})},Ja.prototype.forEachTarget=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},Ja.prototype.rt=function(t){var e=t.targetId,n=t.V.count,t=this.ot(e);t&&(Ui(t=t.target)?0===n?(t=new bi(t.path),this.tt(e,t,Mi.newNoDocument(t,Gr.min()))):Br(1===n):this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e)))},Ja.prototype.at=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);o&&(r.current&&Ui(o.target)&&(o=new bi(o.target.path),null!==e.H.get(o)||e.ut(i,o)||e.tt(i,o,Mi.newNoDocument(o,t))),r.O&&(n.set(i,r.M()),r.L()))});var r=Wa();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){return!(t=e.ot(t))||2===t.purpose||(i=!1)}),i&&(r=r.add(t))});var i=new Ha(t,n,this.Y,this.H,r);return this.H=Fa,this.J=ns(),this.Y=new Ma(zr),i},Ja.prototype.Z=function(t,e){var n;this.st(t)&&(n=this.ut(t,e.key)?2:0,this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t)))},Ja.prototype.tt=function(t,e,n){var r;this.st(t)&&(r=this.nt(t),this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n)))},Ja.prototype.removeTarget=function(t){this.G.delete(t)},Ja.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},Ja.prototype.U=function(t){this.nt(t).U()},Ja.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ya,this.G.set(t,e)),e},Ja.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ma(zr),this.J=this.J.insert(t,e)),e},Ja.prototype.st=function(t){var e=null!==this.ot(t);return e||Dr("WatchChangeAggregator","Detected inactive target",t),e},Ja.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},Ja.prototype.it=function(t){var e=this;this.G.set(t,new Ya),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},Ja.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},Ja);function Ja(t){this.W=t,this.G=new Map,this.H=Fa,this.J=ns(),this.Y=new Ma(zr)}function Za(){this.S=0,this.D=rs(),this.C=ii.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function ts(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function es(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function ns(){return new Ta(bi.comparator)}function rs(){return new Ta(bi.comparator)}var is={asc:"ASCENDING",desc:"DESCENDING"},os={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},as=function(t,e){this.databaseId=t,this.I=e};function ss(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function us(t,e){return t.I?e.toBase64():e.toUint8Array()}function cs(t){return Br(!!t),Gr.fromTimestamp((t=fi(t),new Hr(t.seconds,t.nanos)))}function ls(t,e){return new ti(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function fs(t){return Br(As(t=ti.fromString(t))),t}function hs(t,e){return ls(t.databaseId,e.path)}function ds(t,e){if((e=fs(e)).get(1)!==t.databaseId.projectId)throw new Rr(Ir.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new Rr(Ir.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new bi(ms(e))}function ps(t,e){return ls(t.databaseId,e)}function vs(t){return 4===(t=fs(t)).length?ti.emptyPath():ms(t)}function gs(t){return new ti(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ms(t){return Br(4<t.length&&"documents"===t.get(4)),t.popFirst(5)}function ys(t,e,n){return{name:hs(t,e),fields:n.toProto().mapValue.fields}}function bs(t,e,n){var r=ds(t,e.name),t=cs(e.updateTime),e=new Ni({mapValue:{fields:e.fields}}),e=Mi.newFoundDocument(r,t,e);return n&&e.setHasCommittedMutations(),n?e.setHasCommittedMutations():e}function ws(t,e){var n,r,i;if(e instanceof fa)n={update:ys(t,e.key,e.value)};else if(e instanceof Ea)n={delete:hs(t,e.key)};else if(e instanceof ha)n={update:ys(t,e.key,e.data),updateMask:(i=e.fieldMask,r=[],i.fields.forEach(function(t){return r.push(t.canonicalString())}),{fieldPaths:r})};else{if(!(e instanceof _a))return Lr();n={verify:hs(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Uo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof zo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof Ko)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof Qo)return{fieldPath:t.field.canonicalString(),increment:e.A};throw Lr()})),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:(e=t,t=i.updateTime,ss(e,t.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:Lr()),n}function xs(t,e){var n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ra.updateTime(cs(a.updateTime)):void 0!==a.exists?ra.exists(a.exists):ra.none():ra.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?(Br("REQUEST_TIME"===e.setToServerValue),r=new Uo):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new zo(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Ko(n)):"increment"in e?r=new Qo(t,e.increment):Lr(),e=ni.fromServerFormat(e.fieldPath),new na(e,r)}(t,e)}):[];if(e.update){e.update.name;var i=ds(t,e.update.name),o=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=(a=e.updateMask.fieldPaths||[],new ri(a.map(function(t){return ni.fromServerFormat(t)})));return new ha(i,o,a,n,r)}return new fa(i,o,n,r)}return e.delete?(r=ds(t,e.delete),new Ea(r,n)):e.verify?(e=ds(t,e.verify),new _a(e,n)):Lr()}function Es(t,e){return{documents:[ps(t,e.path)]}}function _s(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=ps(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ps(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map(function(t){if("=="===t.op){if(Ai(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NAN"}};if(Ri(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ai(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NOT_NAN"}};if(Ri(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(t.field),op:(e=t.op,os[e]),value:t.value}};var e})).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map(function(t){return{field:Os((t=t).field),direction:(t=t.dir,is[t])}})}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.I||gi(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Ss(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ss(e.endAt)),n}function ks(t){var e=vs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Br(1===r),(s=n.from[0]).allDescendants?i=s.collectionId:e=e.child(s.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Rs(e)]:void 0!==e.fieldFilter?[Is(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):Lr():[]}(n.where));var a=[],t=null,r=null,s=null;return wo(e,i,a=n.orderBy?n.orderBy.map(function(t){return new go(Ts((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):a,o,t=n.limit?gi(o="object"==typeof(o=n.limit)?o.value:o)?null:o:t,"F",r=n.startAt?Cs(n.startAt):r,s=n.endAt?Cs(n.endAt):s)}function Ss(t){return{before:t.before,values:t.position}}function Cs(t){var e=!!t.before,t=t.values||[];return new co(t,e)}function Os(t){return{fieldPath:t.canonicalString()}}function Ts(t){return ni.fromServerFormat(t.fieldPath)}function Is(t){return Wi.create(Ts(t.fieldFilter.field),function(){switch(t.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Lr()}}(),t.fieldFilter.value)}function Rs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ts(t.unaryFilter.field);return Wi.create(e,"==",{doubleValue:NaN});case"IS_NULL":return e=Ts(t.unaryFilter.field),Wi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Ts(t.unaryFilter.field);return Wi.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=Ts(t.unaryFilter.field),Wi.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Lr()}}function As(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ps(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Ns(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return Ns(e)}function Ns(t){return t+"\x01\x01"}function Ds(t){var e=t.length;if(Br(2<=e),2===e)return Br("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ti.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&Lr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Lr()}o=a+2}return new ti(r)}function Ms(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var js=function(t,e){this.seconds=t,this.nanoseconds=e};function Fs(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}function Ls(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Ms.store="owner",Ms.key="owner",Fs.store="mutationQueues",Fs.keyPath="userId",Ls.store="mutations",Ls.keyPath="batchId",Ls.userMutationsIndex="userMutationsIndex",Ls.userMutationsKeyPath=["userId","batchId"];var Bs=(Vs.prefixForUser=function(t){return[t]},Vs.prefixForPath=function(t,e){return[t,Ps(e)]},Vs.key=function(t,e,n){return[t,Ps(e),n]},Vs);function Vs(){}function Us(t,e){this.path=t,this.readTime=e}function zs(t,e){this.path=t,this.version=e}Bs.store="documentMutations",Bs.PLACEHOLDER=new Bs;var Ws=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function qs(t){this.byteSize=t}function Hs(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}Ws.store="remoteDocuments",Ws.readTimeIndex="readTimeIndex",Ws.readTimeIndexPath="readTime",Ws.collectionReadTimeIndex="collectionReadTimeIndex",Ws.collectionReadTimeIndexPath=["parentPath","readTime"],qs.store="remoteDocumentGlobal",qs.key="remoteDocumentGlobalKey",Hs.store="targets",Hs.keyPath="targetId",Hs.queryTargetsIndexName="queryTargetsIndex",Hs.queryTargetsKeyPath=["canonicalId","targetId"];var Gs=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};function Ks(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function Xs(t,e){this.collectionId=t,this.parent=e}function $s(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}function Ys(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}function Qs(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}Gs.store="targetDocuments",Gs.keyPath=["targetId","path"],Gs.documentTargetsIndex="documentTargetsIndex",Gs.documentTargetsKeyPath=["path","targetId"],Ks.key="targetGlobalKey",Ks.store="targetGlobal",Xs.store="collectionParents",Xs.keyPath=["collectionId","parent"],$s.store="clientMetadata",$s.keyPath="clientId",Ys.store="bundles",Ys.keyPath="bundleId",Qs.store="namedQueries",Qs.keyPath="name";var Js,Zs=c(c([],c(c([],c(c([],c(c([],[Fs.store,Ls.store,Bs.store,Ws.store,Hs.store,Ms.store,Ks.store,Gs.store]),[$s.store])),[qs.store])),[Xs.store])),[Ys.store,Qs.store]),tu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oe=(hu.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},hu.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},hu),eu=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},nu=(fu.prototype.catch=function(t){return this.next(void 0,t)},fu.prototype.next=function(t,e){var n=this;return this.callbackAttached&&Lr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fu(function(r,i){n.nextCallback=function(e){n.wrapSuccess(t,e).next(r,i)},n.catchCallback=function(t){n.wrapFailure(e,t).next(r,i)}})},fu.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},fu.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof fu?e:fu.resolve(e)}catch(t){return fu.reject(t)}},fu.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):fu.resolve(e)},fu.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):fu.reject(e)},fu.resolve=function(t){return new fu(function(e,n){e(t)})},fu.reject=function(t){return new fu(function(e,n){n(t)})},fu.waitFor=function(t){return new fu(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},fu.or=function(t){for(var e=fu.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next(function(e){return e?fu.resolve(e):t()})}(r[n]);return e},fu.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},fu),ru=(lu.open=function(t,e,n,r){try{return new lu(e,t.transaction(r,n))}catch(t){throw new au(e,t)}},Object.defineProperty(lu.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),lu.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Dr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},lu.prototype.store=function(t){return t=this.transaction.objectStore(t),new pu(t)},lu),iu=(cu.delete=function(t){return Dr("SimpleDb","Removing database:",t),gu(window.indexedDB.deleteDatabase(t)).toPromise()},cu.yt=function(){if("undefined"==typeof indexedDB)return!1;if(cu.gt())return!0;var t=f(),e=cu._t(t),n=0<e&&e<10,e=cu.Et(t),e=0<e&&e<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||e)},cu.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.Tt)},cu.It=function(t,e){return t.store(e)},cu._t=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},cu.Et=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},cu.prototype.At=function(t){return s(this,void 0,void 0,function(){var e,n=this;return u(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Dr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new au(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new Rr(Ir.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new au(t,e))},i.onupgradeneeded=function(t){Dr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){Dr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},cu.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},cu.prototype.runTransaction=function(t,e,n,r){return s(this,void 0,void 0,function(){var i,o,a,s;return u(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c;return u(this,function(u){switch(u.label){case 0:++o,u.label=1;case 1:return u.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=u.sent(),e=ru.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),nu.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(u.sent(),s),c)];case 4:return s=u.sent(),c="FirebaseError"!==s.name&&o<3,Dr("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),a.close(),c?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},cu.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},cu),ou=(Object.defineProperty(uu.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),uu.prototype.done=function(){this.Vt=!0},uu.prototype.Ct=function(t){this.St=t},uu.prototype.delete=function(){return gu(this.Pt.delete())},uu),au=(o(su,Js=Rr),su);function su(t,e){var n=this;return(n=Js.call(this,Ir.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function uu(t){this.Pt=t,this.Vt=!1,this.St=null}function cu(t,e,n){this.name=t,this.version=e,this.wt=n,12.2===cu._t(f())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function lu(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new eu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new au(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){e=yu(e.target.error),n.ft.reject(new au(t,e))}}function fu(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}function hu(){this.onCommittedListeners=[]}function du(t){return"IndexedDbTransactionError"===t.name}var pu=(vu.prototype.put=function(t,e){return gu(t=void 0!==e?(Dr("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Dr("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},vu.prototype.add=function(t){return Dr("SimpleDb","ADD",this.store.name,t,t),gu(this.store.add(t))},vu.prototype.get=function(t){var e=this;return gu(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Dr("SimpleDb","GET",e.store.name,t,n),n})},vu.prototype.delete=function(t){return Dr("SimpleDb","DELETE",this.store.name,t),gu(this.store.delete(t))},vu.prototype.count=function(){return Dr("SimpleDb","COUNT",this.store.name),gu(this.store.count())},vu.prototype.Nt=function(t,e){var e=this.cursor(this.options(t,e)),n=[];return this.xt(e,function(t,e){n.push(e)}).next(function(){return n})},vu.prototype.Ft=function(t,e){return Dr("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).kt=!1,e=this.cursor(e),this.xt(e,function(t,e,n){return n.delete()})},vu.prototype.Ot=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.xt(n,e)},vu.prototype.$t=function(t){var e=this.cursor({});return new nu(function(n,r){e.onerror=function(t){t=yu(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},vu.prototype.xt=function(t,e){var n=[];return new nu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new ou(o),(t=e(o.primaryKey,o.value,i))instanceof nu&&(t=t.catch(function(t){return i.done(),nu.reject(t)}),n.push(t)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}}).next(function(){return nu.waitFor(n)})},vu.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},vu.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},vu);function vu(t){this.store=t}function gu(t){return new nu(function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=yu(t.target.error),n(t)}})}var mu=!1;function yu(t){var e=iu._t(f());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new Rr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mu||(mu=!0,setTimeout(function(){throw n},0)),n}return t}var bu,wu=(o(xu,bu=Oe),xu);function xu(t,e){var n=this;return(n=bu.call(this)||this).Mt=t,n.currentSequenceNumber=e,n}function Eu(t,e){return iu.It(t.Mt,e)}var _u=(Iu.prototype.applyToRemoteDocument=function(t,e){for(var n,r,i,o,a,s,u=e.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(t.key)&&(n=l,r=t,i=u[c],l=s=a=o=void 0,n instanceof fa?(a=r,s=i,l=(o=n).value.clone(),o=ga(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof ha?(o=r,a=i,oa((s=n).precondition,o)?(l=ga(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(va(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},Iu.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(r=n[e]).key.isEqual(t.key)&&aa(r,t,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(t.key)&&aa(r,t,this.localWriteTime)},Iu.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),n=r;e.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Gr.min())})},Iu.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Wa())},Iu.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wr(this.mutations,t.mutations,sa)&&Wr(this.baseMutations,t.baseMutations,sa)},Iu),ku=(Tu.from=function(t,e,n){Br(t.mutations.length===n.length);for(var r=Ua,i=t.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Tu(t,e,n,r)},Tu),Su=(Ou.prototype.withSequenceNumber=function(t){return new Ou(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Ou.prototype.withResumeToken=function(t,e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Ou.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Ou),Cu=function(t){this.Lt=t};function Ou(t,e,n,r,i,o,a){void 0===i&&(i=Gr.min()),void 0===o&&(o=Gr.min()),void 0===a&&(a=ii.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function Tu(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}function Iu(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}function Ru(t,e){if(e.document)return bs(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bi.fromSegments(e.noDocument.path),r=Mu(e.noDocument.readTime),n=Mi.newNoDocument(n,r);return e.hasCommittedMutations?n.setHasCommittedMutations():n}return e.unknownDocument?(n=bi.fromSegments(e.unknownDocument.path),r=Mu(e.unknownDocument.version),Mi.newUnknownDocument(n,r)):Lr()}function Au(t,e,n){var r=Pu(n),n=e.key.path.popLast().toArray();if(e.isFoundDocument()){var i={name:hs(o=t.Lt,(a=e).key),fields:a.data.toProto().mapValue.fields,updateTime:ss(o,a.version.toTimestamp())},o=e.hasCommittedMutations;return new Ws(null,null,i,o,r,n)}if(e.isNoDocument()){var a=e.key.path.toArray(),i=Du(e.version),o=e.hasCommittedMutations;return new Ws(null,new Us(a,i),null,o,r,n)}return e.isUnknownDocument()?(o=e.key.path.toArray(),e=Du(e.version),new Ws(new zs(o,e),null,null,!0,r,n)):Lr()}function Pu(t){return[(t=t.toTimestamp()).seconds,t.nanoseconds]}function Nu(t){return t=new Hr(t[0],t[1]),Gr.fromTimestamp(t)}function Du(t){return t=t.toTimestamp(),new js(t.seconds,t.nanoseconds)}function Mu(t){return t=new Hr(t.seconds,t.nanoseconds),Gr.fromTimestamp(t)}function ju(t,e){for(var n=(e.baseMutations||[]).map(function(e){return xs(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i,o=e.mutations[r];r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(i=e.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r+1,1),++r)}var a=e.mutations.map(function(e){return xs(t.Lt,e)}),s=Hr.fromMillis(e.localWriteTimeMs);return new _u(e.batchId,s,n,a)}function Fu(t){var e=Mu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Mu(t.lastLimboFreeSnapshotVersion):Gr.min(),r=void 0!==t.query.documents?(Br(1===(r=t.query).documents.length),To(xo(vs(r.documents[0])))):To(ks(t.query));return new Su(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ii.fromBase64String(t.resumeToken))}function Lu(t,e){var n=Du(e.snapshotVersion),r=Du(e.lastLimboFreeSnapshotVersion),i=(Ui(e.target)?Es:_s)(t.Lt,e.target),t=e.resumeToken.toBase64();return new Hs(e.targetId,Bi(e.target),n,t,e.sequenceNumber,r,i)}function Bu(t){var e=ks({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Io(e,e.limit,"L"):e}var Vu=(Uu.prototype.getBundleMetadata=function(t,e){return zu(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:Mu(t.createTime),version:t.version}})},Uu.prototype.saveBundleMetadata=function(t,e){return zu(t).put({bundleId:(e=e).id,createTime:Du(cs(e.createTime)),version:e.version})},Uu.prototype.getNamedQuery=function(t,e){return Wu(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:Bu(t.bundledQuery),readTime:Mu(t.readTime)}})},Uu.prototype.saveNamedQuery=function(t,e){return Wu(t).put({name:(e=e).name,readTime:Du(cs(e.readTime)),bundledQuery:e.bundledQuery})},Uu);function Uu(){}function zu(t){return Eu(t,Ys.store)}function Wu(t){return Eu(t,Qs.store)}var qu=($u.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),nu.resolve()},$u.prototype.getCollectionParents=function(t,e){return nu.resolve(this.Bt.getEntries(e))},$u),Hu=(Xu.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ma(ti.comparator),t=!r.has(n);return this.index[e]=r.add(n),t},Xu.prototype.has=function(t){var e=t.lastSegment(),t=t.popLast(),e=this.index[e];return e&&e.has(t)},Xu.prototype.getEntries=function(t){return(this.index[t]||new Ma(ti.comparator)).toArray()},Xu),Gu=(Ku.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(this.qt.has(e))return nu.resolve();var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener(function(){n.qt.add(e)}),i={collectionId:r,parent:Ps(i)},Yu(t).put(i)},Ku.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qr(e),""],!1,!0);return Yu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ds(o.parent))}return n})},Ku);function Ku(){this.qt=new Hu}function Xu(){this.index={}}function $u(){this.Bt=new Hu}function Yu(t){return Eu(t,Xs.store)}var Qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ju=(Zu.withCacheSize=function(t){return new Zu(t,Zu.DEFAULT_COLLECTION_PERCENTILE,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Zu);function Zu(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}function tc(t,e,n){var r=t.store(Ls.store),i=t.store(Bs.store),o=[],t=IDBKeyRange.only(n.batchId),a=0,t=r.Ot({range:t},function(t,e,n){return a++,n.delete()});o.push(t.next(function(){Br(1===a)}));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],f=Bs.key(e,l.key.path,n.batchId);o.push(i.delete(f)),s.push(l.key)}return nu.waitFor(o).next(function(){return s})}function ec(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Lr();e=t.noDocument}return JSON.stringify(e).length}Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ju.DEFAULT=new Ju(41943040,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ju.DISABLED=new Ju(-1,0,0);var nc=(rc.Kt=function(t,e,n,r){return Br(""!==t.uid),new rc(t.isAuthenticated()?t.uid:"",e,n,r)},rc.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oc(t).Ot({index:Ls.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},rc.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ac(t),a=oc(t);return a.add({}).next(function(s){Br("number"==typeof s);for(var u,c,l,f,h,d=new _u(s,e,n,r),p=(u=i.R,c=i.userId,f=(l=d).baseMutations.map(function(t){return ws(u.Lt,t)}),h=l.mutations.map(function(t){return ws(u.Lt,t)}),new Ls(c,l.batchId,l.localWriteTime.toMillis(),f,h)),v=[],g=new Ma(function(t,e){return zr(t.canonicalString(),e.canonicalString())}),m=0,y=r;m<y.length;m++){var b=y[m],w=Bs.key(i.userId,b.key.path,s),g=g.add(b.key.path.popLast());v.push(a.put(p)),v.push(o.put(w,Bs.PLACEHOLDER))}return g.forEach(function(e){v.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[s]=d.keys()}),nu.waitFor(v).next(function(){return d})})},rc.prototype.lookupMutationBatch=function(t,e){var n=this;return oc(t).get(e).next(function(t){return t?(Br(t.userId===n.userId),ju(n.R,t)):null})},rc.prototype.jt=function(t,e){var n=this;return this.Qt[e]?nu.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){return t?(t=t.keys(),n.Qt[e]=t):null})},rc.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,e=IDBKeyRange.lowerBound([this.userId,r]),i=null;return oc(t).Ot({index:Ls.userMutationsIndex,range:e},function(t,e,o){e.userId===n.userId&&(Br(e.batchId>=r),i=ju(n.R,e)),o.done()}).next(function(){return i})},rc.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oc(t).Ot({index:Ls.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},rc.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oc(t).Nt(Ls.userMutationsIndex,n).next(function(t){return t.map(function(t){return ju(e.R,t)})})},rc.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Bs.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(r),i=[];return ac(t).Ot({range:r},function(r,o,a){var s=r[0],u=r[1],r=r[2],u=Ds(u);if(s===n.userId&&e.path.isEqual(u))return oc(t).get(r).next(function(t){if(!t)throw Lr();Br(t.userId===n.userId),i.push(ju(n.R,t))});a.done()}).next(function(){return i})},rc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ma(zr),i=[];return e.forEach(function(e){var o=Bs.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(o),o=ac(t).Ot({range:o},function(t,i,o){var a=t[0],s=t[1],t=t[2],s=Ds(s);a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()});i.push(o)}),nu.waitFor(i).next(function(){return n.Wt(t,r)})},rc.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,e=Bs.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),o=new Ma(zr);return ac(t).Ot({range:e},function(t,e,a){var s=t[0],u=t[1],t=t[2],u=Ds(u);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(t)):a.done()}).next(function(){return n.Wt(t,o)})},rc.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(oc(t).get(e).next(function(t){if(null===t)throw Lr();Br(t.userId===n.userId),r.push(ju(n.R,t))}))}),nu.waitFor(i).next(function(){return r})},rc.prototype.removeMutationBatch=function(t,e){var n=this;return tc(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),nu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},rc.prototype.Gt=function(t){delete this.Qt[t]},rc.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return nu.resolve();var n=IDBKeyRange.lowerBound(Bs.prefixForUser(e.userId)),r=[];return ac(t).Ot({range:n},function(t,n,i){t[0]===e.userId?(t=Ds(t[1]),r.push(t)):i.done()}).next(function(){Br(0===r.length)})})},rc.prototype.containsKey=function(t,e){return ic(t,this.userId,e)},rc.prototype.zt=function(t){var e=this;return sc(t).get(this.userId).next(function(t){return t||new Fs(e.userId,-1,"")})},rc);function rc(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}function ic(t,e,n){var n=Bs.prefixForPath(e,n.path),r=n[1],n=IDBKeyRange.lowerBound(n),i=!1;return ac(t).Ot({range:n,kt:!0},function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()}).next(function(){return i})}function oc(t){return Eu(t,Ls.store)}function ac(t){return Eu(t,Bs.store)}function sc(t){return Eu(t,Fs.store)}var uc=(fc.prototype.next=function(){return this.Ht+=2,this.Ht},fc.Jt=function(){return new fc(0)},fc.Yt=function(){return new fc(-1)},fc),cc=(lc.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new uc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},lc.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Gr.fromTimestamp(new Hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},lc.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},lc.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},lc.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},lc.prototype.updateTargetData=function(t,e){return this.te(t,e)},lc.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return hc(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Br(0<e.targetCount),--e.targetCount,n.Zt(t,e)})},lc.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return hc(t).Ot(function(a,s){(s=Fu(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(t,s)))}).next(function(){return nu.waitFor(o)}).next(function(){return i})},lc.prototype.forEachTarget=function(t,e){return hc(t).Ot(function(t,n){n=Fu(n),e(n)})},lc.prototype.Xt=function(t){return dc(t).get(Ks.key).next(function(t){return Br(null!==t),t})},lc.prototype.Zt=function(t,e){return dc(t).put(Ks.key,e)},lc.prototype.te=function(t,e){return hc(t).put(Lu(this.R,e))},lc.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},lc.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},lc.prototype.getTargetData=function(t,e){var n=Bi(e),n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return hc(t).Ot({range:n,index:Hs.queryTargetsIndexName},function(t,n,i){n=Fu(n),Vi(e,n.target)&&(r=n,i.done())}).next(function(){return r})},lc.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=pc(t);return e.forEach(function(e){var a=Ps(e.path);i.push(o.put(new Gs(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),nu.waitFor(i)},lc.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=pc(t);return nu.forEach(e,function(e){var o=Ps(e.path);return nu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},lc.prototype.removeMatchingKeysForTargetId=function(t,e){return t=pc(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},lc.prototype.getMatchingKeysForTargetId=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=pc(t),n=Wa();return t.Ot({range:e,kt:!0},function(t,e,r){t=Ds(t[1]),t=new bi(t),n=n.add(t)}).next(function(){return n})},lc.prototype.containsKey=function(t,e){var e=Ps(e.path),e=IDBKeyRange.bound([e],[qr(e)],!1,!0),n=0;return pc(t).Ot({index:Gs.documentTargetsIndex,kt:!0,range:e},function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())}).next(function(){return 0<n})},lc.prototype.lt=function(t,e){return hc(t).get(e).next(function(t){return t?Fu(t):null})},lc);function lc(t,e){this.referenceDelegate=t,this.R=e}function fc(t){this.Ht=t}function hc(t){return Eu(t,Hs.store)}function dc(t){return Eu(t,Ks.store)}function pc(t){return Eu(t,Gs.store)}function vc(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(t.code!==Ir.FAILED_PRECONDITION||t.message!==tu)throw t;return Dr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function gc(t,e){var n=t[0],r=t[1],t=e[0],e=e[1],t=zr(n,t);return 0===t?zr(r,e):t}var mc=(kc.prototype.ie=function(){return++this.se},kc.prototype.re=function(t){var e=[t,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(e):gc(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(kc.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),kc),yc=(_c.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},_c.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(_c.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),_c.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;Dr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return s(e,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return du(e=n.sent())?(Dr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}})})})},_c),bc=(Ec.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next(function(t){return Math.floor(e/100*t)})},Ec.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return nu.resolve(Cr.o);var r=new mc(e);return this.ue.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ue.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},Ec.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},Ec.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},Ec.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Dr("LruGarbageCollector","Garbage collection skipped; disabled"),nu.resolve(Qu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Dr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qu):n.fe(t,e)})},Ec.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},Ec.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return r=e>c.params.maximumSequenceNumbersToCollect?(Dr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),c.params.maximumSequenceNumbersToCollect):e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Nr()<=y.DEBUG&&Dr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),nu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},Ec),wc=(xc.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},xc.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},xc.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},xc.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},xc.prototype.addReference=function(t,e,n){return Sc(t,n)},xc.prototype.removeReference=function(t,e,n){return Sc(t,n)},xc.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},xc.prototype.markPotentiallyOrphaned=Sc,xc.prototype._e=function(t,e){return r=e,i=!1,sc(n=t).$t(function(t){return ic(n,t,r).next(function(t){return t&&(i=!0),nu.resolve(!t)})}).next(function(){return i});var n,r,i},xc.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){s<=e&&(s=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),pc(t).delete([0,Ps(a.path)])})}),i.push(s))}).next(function(){return nu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},xc.prototype.removeTarget=function(t,e){return e=e.withSequenceNumber(t.currentSequenceNumber),this.db.getTargetCache().updateTargetData(t,e)},xc.prototype.updateLimboDocument=Sc,xc.prototype.we=function(t,e){var n,t=pc(t),r=Cr.o;return t.Ot({index:Gs.documentTargetsIndex},function(t,i){var o=t[0],t=(t[1],i.path),i=i.sequenceNumber;0===o?(r!==Cr.o&&e(new bi(Ds(n)),r),r=i,n=t):r=Cr.o}).next(function(){r!==Cr.o&&e(new bi(Ds(n)),r)})},xc.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},xc);function xc(t,e){this.db=t,this.garbageCollector=new bc(this,e)}function Ec(t,e){this.ue=t,this.params=e}function _c(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}function kc(t){this.ne=t,this.buffer=new Ma(gc),this.se=0}function Sc(t,e){return pc(t).put((t=t.currentSequenceNumber,new Gs(0,Ps(e.path),t)))}var Cc,Oc=(Nc.prototype.get=function(t){var e=this.mapKeyFn(t),e=this.inner[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.equalsFn(o,t))return i}},Nc.prototype.has=function(t){return void 0!==this.get(t)},Nc.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Nc.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Nc.prototype.forEach=function(t){Yr(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],o=o[1];t(a,o)}})},Nc.prototype.isEmpty=function(){return Qr(this.inner)},Nc),S=(Pc.prototype.getReadTime=function(t){return(t=this.changes.get(t))?t.readTime:Gr.min()},Pc.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},Pc.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Mi.newInvalidDocument(t),readTime:e})},Pc.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?nu.resolve(n.document):this.getFromCache(t,e)},Pc.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},Pc.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},Pc.prototype.assertNotApplied=function(){},Pc),Tc=(Ac.prototype.addEntry=function(t,e,n){return Mc(t).put(jc(e),n)},Ac.prototype.removeEntry=function(t,e){return t=Mc(t),e=jc(e),t.delete(e)},Ac.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},Ac.prototype.getEntry=function(t,e){var n=this;return Mc(t).get(jc(e)).next(function(t){return n.ye(e,t)})},Ac.prototype.ge=function(t,e){var n=this;return Mc(t).get(jc(e)).next(function(t){return{document:n.ye(e,t),size:ec(t)}})},Ac.prototype.getEntries=function(t,e){var n=this,r=Fa;return this.pe(t,e,function(t,e){e=n.ye(t,e),r=r.insert(t,e)}).next(function(){return r})},Ac.prototype.Ee=function(t,e){var n=this,r=Fa,i=new Ta(bi.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ec(e))}).next(function(){return{documents:r,Te:i}})},Ac.prototype.pe=function(t,e,n){if(e.isEmpty())return nu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Mc(t).Ot({range:r},function(t,e,r){for(var a=bi.fromSegments(t);o&&bi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},Ac.prototype.getDocumentsMatchingQuery=function(t,e,n){var r,i=this,o=Fa,a=e.path.length+1,s={};return n.isEqual(Gr.min())?(r=e.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.toArray(),n=Pu(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=Ws.collectionReadTimeIndex),Mc(t).Ot(s,function(t,n,r){t.length===a&&(n=Ru(i.R,n),e.path.isPrefixOf(n.key.path)?No(e,n)&&(o=o.insert(n.key,n)):r.done())}).next(function(){return o})},Ac.prototype.newChangeBuffer=function(t){return new Ic(this,!!t&&t.trackRemovals)},Ac.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},Ac.prototype.getMetadata=function(t){return Dc(t).get(qs.key).next(function(t){return Br(!!t),t})},Ac.prototype.me=function(t,e){return Dc(t).put(qs.key,e)},Ac.prototype.ye=function(t,e){return!e||(e=Ru(this.R,e)).isNoDocument()&&e.version.isEqual(Gr.min())?Mi.newInvalidDocument(t):e},Ac),Ic=(o(Rc,Cc=S),Rc.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ma(function(t,e){return zr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s,u=e.Ae.get(o);a.document.isValidDocument()?(s=Au(e.Ie.R,a.document,e.getReadTime(o)),i=i.add(o.path.popLast()),a=ec(s),r+=a-u,n.push(e.Ie.addEntry(t,o,s))):(r-=u,e.trackRemovals?(u=Au(e.Ie.R,Mi.newNoDocument(o,Gr.min()),e.getReadTime(o)),n.push(e.Ie.addEntry(t,o,u))):n.push(e.Ie.removeEntry(t,o)))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),nu.waitFor(n)},Rc.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},Rc.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},Rc);function Rc(t,e){var n=this;return(n=Cc.call(this)||this).Ie=t,n.trackRemovals=e,n.Ae=new Oc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function Ac(t,e){this.R=t,this.Ut=e}function Pc(){this.changes=new Oc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}function Nc(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}function Dc(t){return Eu(t,qs.store)}function Mc(t){return Eu(t,Ws.store)}function jc(t){return t.path.toArray()}var Fc=(Lc.prototype.Rt=function(t,e,n,r){var i=this;Br(n<r&&0<=n&&r<=11);var o=new ru("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(Ms.store),(a=t).createObjectStore(Fs.store,{keyPath:Fs.keyPath}),a.createObjectStore(Ls.store,{keyPath:Ls.keyPath,autoIncrement:!0}).createIndex(Ls.userMutationsIndex,Ls.userMutationsKeyPath,{unique:!0}),a.createObjectStore(Bs.store),Bc(t),t.createObjectStore(Ws.store));var a,s=nu.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(Gs.store),a.deleteObjectStore(Hs.store),a.deleteObjectStore(Ks.store),Bc(t)),s=s.next(function(){return t=o.store(Ks.store),e=new Ks(0,0,Gr.min().toTimestamp(),0),t.put(Ks.key,e);var t,e})),n<4&&4<=r&&(s=(s=0!==n?s.next(function(){return e=t,(n=o).store(Ls.store).Nt().next(function(t){e.deleteObjectStore(Ls.store),e.createObjectStore(Ls.store,{keyPath:Ls.keyPath,autoIncrement:!0}).createIndex(Ls.userMutationsIndex,Ls.userMutationsKeyPath,{unique:!0});var r=n.store(Ls.store),t=t.map(function(t){return r.put(t)});return nu.waitFor(t)});var e,n}):s).next(function(){t.createObjectStore($s.store,{keyPath:$s.keyPath})})),n<5&&5<=r&&(s=s.next(function(){return i.Re(o)})),n<6&&6<=r&&(s=s.next(function(){return t.createObjectStore(qs.store),i.be(o)})),n<7&&7<=r&&(s=s.next(function(){return i.ve(o)})),n<8&&8<=r&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&9<=r&&(s=s.next(function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(Ws.store)).createIndex(Ws.readTimeIndex,Ws.readTimeIndexPath,{unique:!1}),n.createIndex(Ws.collectionReadTimeIndex,Ws.collectionReadTimeIndexPath,{unique:!1})})),n<10&&10<=r&&(s=s.next(function(){return i.Ve(o)})),s=n<11&&11<=r?s.next(function(){t.createObjectStore(Ys.store,{keyPath:Ys.keyPath}),t.createObjectStore(Qs.store,{keyPath:Qs.keyPath})}):s},Lc.prototype.be=function(t){var e=0;return t.store(Ws.store).Ot(function(t,n){e+=ec(n)}).next(function(){var n=new qs(e);return t.store(qs.store).put(qs.key,n)})},Lc.prototype.Re=function(t){var e=this,n=t.store(Fs.store),r=t.store(Ls.store);return n.Nt().next(function(n){return nu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ls.userMutationsIndex,i).next(function(r){return nu.forEach(r,function(r){return Br(r.userId===n.userId),r=ju(e.R,r),tc(t,n.userId,r).next(function(){})})})})})},Lc.prototype.ve=function(t){var e=t.store(Gs.store),n=t.store(Ws.store);return t.store(Ks.store).get(Ks.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new ti(n),n=[0,Ps(o)];r.push(e.get(n).next(function(n){return n?nu.resolve():e.put(new Gs(0,Ps(o),t.highestListenSequenceNumber))}))}).next(function(){return nu.waitFor(r)})})},Lc.prototype.Pe=function(t,e){function n(t){if(i.add(t)){var e=t.lastSegment(),t=t.popLast();return r.put({collectionId:e,parent:Ps(t)})}}t.createObjectStore(Xs.store,{keyPath:Xs.keyPath});var r=e.store(Xs.store),i=new Hu;return e.store(Ws.store).Ot({kt:!0},function(t,e){return n((t=new ti(t)).popLast())}).next(function(){return e.store(Bs.store).Ot({kt:!0},function(t,e){t[0];var r=t[1],r=(t[2],Ds(r));return n(r.popLast())})})},Lc.prototype.Ve=function(t){var e=this,n=t.store(Hs.store);return n.Ot(function(t,r){return r=Fu(r),r=Lu(e.R,r),n.put(r)})},Lc);function Lc(t){this.R=t}function Bc(t){t.createObjectStore(Gs.store,{keyPath:Gs.keyPath}).createIndex(Gs.documentTargetsIndex,Gs.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hs.store,{keyPath:Hs.keyPath}).createIndex(Hs.queryTargetsIndexName,Hs.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ks.store)}var Vc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uc=(zc.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Rr(Ir.FAILED_PRECONDITION,Vc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Cr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},zc.prototype.He=function(t){var e=this;return this.Me=function(n){return s(e,void 0,void 0,function(){return u(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},zc.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return s(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},zc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return s(e,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},zc.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return qc(e).put(new $s(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(du(e))return Dr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Dr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},zc.prototype.Je=function(t){var e=this;return Wc(t).get(Ms.key).next(function(t){return nu.resolve(e.tn(t))})},zc.prototype.en=function(t){return qc(t).delete(this.clientId)},zc.prototype.nn=function(){return s(this,void 0,void 0,function(){var t,e,n,r,i=this;return u(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Eu(t,$s.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return nu.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},zc.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},zc.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},zc.prototype.Ye=function(t){var e=this;return this.Ce?nu.resolve(!0):Wc(t).get(Ms.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Rr(Ir.FAILED_PRECONDITION,Vc);return!1}}return!(!e.networkEnabled||!e.inForeground)||qc(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,t=e.networkEnabled===t.networkEnabled;if(n||r&&t)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&Dr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},zc.prototype.shutdown=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ms.store,$s.store],function(e){var n=new wu(e,Cr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},zc.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},zc.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return qc(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(zc.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),zc.prototype.getMutationQueue=function(t){return nc.Kt(t,this.R,this.Ut,this.referenceDelegate)},zc.prototype.getTargetCache=function(){return this.qe},zc.prototype.getRemoteDocumentCache=function(){return this.Ue},zc.prototype.getIndexManager=function(){return this.Ut},zc.prototype.getBundleCache=function(){return this.Qe},zc.prototype.runTransaction=function(t,e,n){var r=this;Dr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Zs,function(o){return i=new wu(o,r.Ne?r.Ne.next():Cr.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw Mr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new Rr(Ir.FAILED_PRECONDITION,tu);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},zc.prototype.dn=function(t){var e=this;return Wc(t).get(Ms.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Rr(Ir.FAILED_PRECONDITION,Vc)})},zc.prototype.Ze=function(t){var e=new Ms(this.clientId,this.allowTabSynchronization,Date.now());return Wc(t).put(Ms.key,e)},zc.yt=function(){return iu.yt()},zc.prototype.Xe=function(t){var e=this,n=Wc(t);return n.get(Ms.key).next(function(t){return e.tn(t)?(Dr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ms.key)):nu.resolve()})},zc.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Mr("Detected an update time that is in the future: "+t+" > "+n),1))},zc.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},zc.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},zc.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},zc.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},zc.prototype.cn=function(t){try{var e=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Dr("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Mr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},zc.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Mr("Failed to set zombie client id.",t)}},zc.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},zc.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},zc);function zc(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!zc.yt())throw new Rr(Ir.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wc(this,r),this.Le=e+"main",this.R=new Cu(s),this.Be=new iu(this.Le,11,new Fc(this.R)),this.qe=new cc(this.referenceDelegate,this.R),this.Ut=new Gu,this.Ue=(e=this.R,s=this.Ut,new Tc(e,s)),this.Qe=new Vu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Wc(t){return Eu(t,Ms.store)}function qc(t){return Eu(t,$s.store)}function Hc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function Gc(t,e){this.progress=t,this.wn=e}var Kc=(tl.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},tl.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},tl.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},tl.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},tl.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},tl.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,bi.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):Co(e)?this.In(t,e,n):this.An(t,e,n);var r},tl.prototype.Tn=function(t,e){return this.mn(t,new bi(e)).next(function(t){var e=Va;return e=t.isFoundDocument()?e.insert(t.key,t):e})},tl.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Va;return this.Ut.getCollectionParents(t,i).next(function(a){return nu.forEach(a,function(a){var s=(s=e,a=a.child(i),new bo(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},tl.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Mi.newInvalidDocument(c),r=r.insert(c,l)),aa(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){No(e,n)||(r=r.remove(t))}),r})},tl.prototype.Rn=function(t,e,n){for(var r=Wa(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ha&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},tl),Xc=(Zc.Pn=function(t,e){for(var n=Wa(),r=Wa(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new Zc(t,e.fromCache,n,r)},Zc),$c=(Jc.prototype.Vn=function(t){this.Sn=t},Jc.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||n.isEqual(Gr.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Eo(e)||_o(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Nr()<=y.DEBUG&&Dr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Po(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},Jc.prototype.Cn=function(t,e){var n=new Ma(Do(t));return e.forEach(function(e,r){No(t,r)&&(n=n.add(r))}),n},Jc.prototype.Nn=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.compareTo(r))},Jc.prototype.Dn=function(t,e){return Nr()<=y.DEBUG&&Dr("QueryEngine","Using full collection scan to execute query:",Po(e)),this.Sn.getDocumentsMatchingQuery(t,e,Gr.min())},Jc),Yc=(Qc.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},Qc);function Qc(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ta(zr),this.kn=new Oc(Bi,Vi),this.On=Gr.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Kc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}function Jc(){}function Zc(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}function tl(t,e,n){this.Ue=t,this._n=e,this.Ut=n}function el(t,e,n,r){return new Yc(t,e,n,r)}function nl(t,e){return s(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(a){switch(a.label){case 0:return r=(n=t)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Kc(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Wa(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)var h=f[l],a=a.add(h.key)}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function rl(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),f=n.$n.newChangeBuffer({trackRemovals:!0});return r=n,i=t,a=f,s=(o=e).batch,u=s.keys(),c=nu.resolve(),u.forEach(function(t){c=c.next(function(){return a.getEntry(i,t)}).next(function(e){var n=o.docVersions.get(t);Br(null!==n),e.version.compareTo(n)<0&&(s.applyToRemoteDocument(e,o),e.isValidDocument()&&a.addEntry(e,o.commitVersion))})}),c.next(function(){return r._n.removeMutationBatch(i,s)}).next(function(){return f.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,l)})})}function il(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function ol(t,e){var n=t,r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})),0<(c=e.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber),i=i.insert(o,s),u=l,c=e,Br(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(t,s))))});var s,u=Fa;return e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(al(t,o,e.documentUpdates,r,void 0).next(function(t){u=t})),r.isEqual(Gr.min())||(s=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}),a.push(s)),nu.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,u)}).next(function(){return u})}).then(function(t){return n.Fn=i,t})}function al(t,e,n,r,i){var o=Wa();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Fa;return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Gr.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Dr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function sl(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?(r=i,nu.resolve(r)):n.qe.allocateTargetId(t).next(function(i){return r=new Su(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||0<t.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function ul(t,e,n){return s(this,void 0,void 0,function(){var r,i,o;return u(this,function(a){switch(a.label){case 0:i=(r=t).Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!du(o=a.sent()))throw o;return Dr("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function cl(t,e,n){var r=t,i=Gr.min(),o=Wa();return r.persistence.runTransaction("Execute query","readonly",function(t){return a=r,s=t,u=To(e),(void 0!==(a=(c=a).kn.get(u))?nu.resolve(c.Fn.get(a)):c.qe.getTargetData(s,u)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Gr.min(),n?o:Wa())}).next(function(t){return{documents:t,Bn:o}});var a,s,u,c})}function ll(t,e){var n=t,r=n.qe,t=n.Fn.get(e);return t?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function fl(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",function(t){return n=e.$n,r=t,t=e.On,i=n,o=Fa,a=Pu(t),t=Mc(r),r=IDBKeyRange.lowerBound(a,!0),t.Ot({index:Ws.readTimeIndex,range:r},function(t,e){var n=Ru(i.R,e);o=o.insert(n.key,n),a=e.readTime}).next(function(){return{wn:o,readTime:Nu(a)}});var n,r,i,o,a}).then(function(t){var n=t.wn,t=t.readTime;return e.On=t,n})}function hl(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return t=Mc(t),e=Gr.min(),t.Ot({index:Ws.readTimeIndex,reverse:!0},function(t,n,r){n.readTime&&(e=Nu(n.readTime)),r.done()}).next(function(){return e});var e}).then(function(t){e.On=t})]})})}var dl,pl,vl=(jl.prototype.getBundleMetadata=function(t,e){return nu.resolve(this.Kn.get(e))},jl.prototype.saveBundleMetadata=function(t,e){return this.Kn.set(e.id,{id:e.id,version:e.version,createTime:cs(e.createTime)}),nu.resolve()},jl.prototype.getNamedQuery=function(t,e){return nu.resolve(this.jn.get(e))},jl.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(e=e).name,query:Bu(e.bundledQuery),readTime:cs(e.readTime)}),nu.resolve()},jl),gl=(Ml.prototype.isEmpty=function(){return this.Wn.isEmpty()},Ml.prototype.addReference=function(t,e){e=new ml(t,e),this.Wn=this.Wn.add(e),this.zn=this.zn.add(e)},Ml.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},Ml.prototype.removeReference=function(t,e){this.Yn(new ml(t,e))},Ml.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},Ml.prototype.Zn=function(t){var e=this,n=new bi(new ti([])),r=new ml(n,t),t=new ml(n,t+1),i=[];return this.zn.forEachInRange([r,t],function(t){e.Yn(t),i.push(t.key)}),i},Ml.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},Ml.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},Ml.prototype.es=function(t){var e=new bi(new ti([])),n=new ml(e,t),t=new ml(e,t+1),r=Wa();return this.zn.forEachInRange([n,t],function(t){r=r.add(t.key)}),r},Ml.prototype.containsKey=function(t){var e=new ml(t,0),e=this.Wn.firstAfterOrEqual(e);return null!==e&&t.isEqual(e.key)},Ml),ml=(Dl.Gn=function(t,e){return bi.comparator(t.key,e.key)||zr(t.ns,e.ns)},Dl.Hn=function(t,e){return zr(t.ns,e.ns)||bi.comparator(t.key,e.key)},Dl),yl=(Nl.prototype.checkEmpty=function(t){return nu.resolve(0===this._n.length)},Nl.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new _u(i,e,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new ml(s.key,i)),this.Ut.addToCollectionParentIndex(t,s.key.path.popLast())}return nu.resolve(n)},Nl.prototype.lookupMutationBatch=function(t,e){return nu.resolve(this.os(e))},Nl.prototype.getNextMutationBatchAfterBatchId=function(t,e){return e+=1,e=(e=this.cs(e))<0?0:e,nu.resolve(this._n.length>e?this._n[e]:null)},Nl.prototype.getHighestUnacknowledgedBatchId=function(){return nu.resolve(0===this._n.length?-1:this.ss-1)},Nl.prototype.getAllMutationBatches=function(t){return nu.resolve(this._n.slice())},Nl.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ml(e,0),e=new ml(e,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,e],function(t){t=n.os(t.ns),i.push(t)}),nu.resolve(i)},Nl.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ma(zr);return e.forEach(function(t){var e=new ml(t,0),t=new ml(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,t],function(t){r=r.add(t.ns)})}),nu.resolve(this.us(r))},Nl.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,e=n;bi.isDocumentKey(e)||(e=e.child(""));var e=new ml(new bi(e),0),i=new Ma(zr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ns)),!0)},e),nu.resolve(this.us(i))},Nl.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){null!==(t=e.os(t))&&n.push(t)}),n},Nl.prototype.removeMutationBatch=function(t,e){var n=this;Br(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return nu.forEach(e.mutations,function(i){var o=new ml(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},Nl.prototype.Gt=function(t){},Nl.prototype.containsKey=function(t,e){var n=new ml(e,0),n=this.rs.firstAfterOrEqual(n);return nu.resolve(e.isEqual(n&&n.key))},Nl.prototype.performConsistencyCheck=function(t){return this._n.length,nu.resolve()},Nl.prototype.hs=function(t,e){return this.cs(t)},Nl.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},Nl.prototype.os=function(t){return(t=this.cs(t))<0||t>=this._n.length?null:this._n[t]},Nl),bl=(Pl.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,i=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:i,readTime:n}),this.size+=i-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},Pl.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Pl.prototype.getEntry=function(t,e){var n=this.docs.get(e);return nu.resolve(n?n.document.clone():Mi.newInvalidDocument(e))},Pl.prototype.getEntries=function(t,e){var n=this,r=Fa;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Mi.newInvalidDocument(t))}),nu.resolve(r)},Pl.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Fa,i=new bi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,a=u.document,u=u.readTime;if(!e.path.isPrefixOf(s.path))break;u.compareTo(n)<=0||No(e,a)&&(r=r.insert(a.key,a.clone()))}return nu.resolve(r)},Pl.prototype.fs=function(t,e){return nu.forEach(this.docs,function(t){return e(t)})},Pl.prototype.newChangeBuffer=function(t){return new wl(this)},Pl.prototype.getSize=function(t){return nu.resolve(this.size)},Pl),wl=(o(Al,pl=S),Al.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),nu.waitFor(n)},Al.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},Al.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},Al),xl=(Rl.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),nu.resolve()},Rl.prototype.getLastRemoteSnapshotVersion=function(t){return nu.resolve(this.lastRemoteSnapshotVersion)},Rl.prototype.getHighestSequenceNumber=function(t){return nu.resolve(this.ws)},Rl.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),nu.resolve(this.highestTargetId)},Rl.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),nu.resolve()},Rl.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new uc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},Rl.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,nu.resolve()},Rl.prototype.updateTargetData=function(t,e){return this.te(e),nu.resolve()},Rl.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),--this.targetCount,nu.resolve()},Rl.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),nu.waitFor(o).next(function(){return i})},Rl.prototype.getTargetCount=function(t){return nu.resolve(this.targetCount)},Rl.prototype.getTargetData=function(t,e){return e=this.ds.get(e)||null,nu.resolve(e)},Rl.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),nu.resolve()},Rl.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),nu.waitFor(i)},Rl.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),nu.resolve()},Rl.prototype.getMatchingKeysForTargetId=function(t,e){return e=this._s.es(e),nu.resolve(e)},Rl.prototype.containsKey=function(t,e){return nu.resolve(this._s.containsKey(e))},Rl),El=(Il.prototype.start=function(){return Promise.resolve()},Il.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(Il.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Il.prototype.setDatabaseDeletedListener=function(){},Il.prototype.setNetworkEnabled=function(){},Il.prototype.getIndexManager=function(){return this.Ut},Il.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new yl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},Il.prototype.getTargetCache=function(){return this.qe},Il.prototype.getRemoteDocumentCache=function(){return this.Ue},Il.prototype.getBundleCache=function(){return this.Qe},Il.prototype.runTransaction=function(t,e,n){var r=this;Dr("MemoryPersistence","Starting transaction:",t);var i=new _l(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},Il.prototype.Is=function(t,e){return nu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},Il),_l=(o(Tl,dl=Oe),Tl),kl=(Ol.bs=function(t){return new Ol(t)},Object.defineProperty(Ol.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Lr()},enumerable:!1,configurable:!0}),Ol.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),nu.resolve()},Ol.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),nu.resolve()},Ol.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),nu.resolve()},Ol.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},Ol.prototype.Es=function(){this.Rs=new Set},Ol.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nu.forEach(this.vs,function(r){var i=bi.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},Ol.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},Ol.prototype.ps=function(t){return 0},Ol.prototype.Ps=function(t,e){var n=this;return nu.or([function(){return nu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},Ol),Sl=(Cl.prototype.isAuthenticated=function(){return null!=this.uid},Cl.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},Cl.prototype.isEqual=function(t){return t.uid===this.uid},Cl);function Cl(t){this.uid=t}function Ol(t){this.persistence=t,this.As=new gl,this.Rs=null}function Tl(t){var e=this;return(e=dl.call(this)||this).currentSequenceNumber=t,e}function Il(t,e){var n=this;this.gs={},this.Ne=new Cr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new xl(this),this.Ut=new qu,this.Ue=(t=this.Ut,new bl(t,function(t){return n.referenceDelegate.ps(t)})),this.R=new Cu(e),this.Qe=new vl(this.R)}function Rl(t){this.persistence=t,this.ds=new Oc(Bi,Vi),this.lastRemoteSnapshotVersion=Gr.min(),this.highestTargetId=0,this.ws=0,this._s=new gl,this.targetCount=0,this.ys=uc.Jt()}function Al(t){var e=this;return(e=pl.call(this)||this).Ie=t,e}function Pl(t,e){this.Ut=t,this.ls=e,this.docs=new Ta(bi.comparator),this.size=0}function Nl(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ma(ml.Gn)}function Dl(t,e){this.key=t,this.ns=e}function Ml(){this.Wn=new Ma(ml.Gn),this.zn=new Ma(ml.Hn)}function jl(t){this.R=t,this.Kn=new Map,this.jn=new Map}function Fl(t,e){return"firestore_clients_"+t+"_"+e}function Ll(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.isAuthenticated()&&(n+="_"+e.uid),n}function Bl(t,e){return"firestore_targets_"+t+"_"+e}Sl.UNAUTHENTICATED=new Sl(null),Sl.GOOGLE_CREDENTIALS=new Sl("google-credentials-uid"),Sl.FIRST_PARTY=new Sl("first-party-uid");var Vl,Ul=(ff.Vs=function(t,e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Rr(i.error.code,i.error.message)),o?new ff(t,e,i.state,r):(Mr("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},ff.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},ff),zl=(lf.Vs=function(t,e){var n,r=JSON.parse(e),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new Rr(r.error.code,r.error.message)),i?new lf(t,r.state,n):(Mr("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},lf.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},lf),Wl=(cf.Vs=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=qa,o=0;r&&o<n.activeTargetIds.length;++o)r=yi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new cf(t,i):(Mr("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},cf),ql=(uf.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new uf(e.clientId,e.onlineState):(Mr("SharedClientState","Failed to parse online state: "+t),null)},uf),Hl=(sf.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},sf.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},sf.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},sf),Gl=(af.yt=function(t){return!(!t||!t.localStorage)},af.prototype.start=function(){return s(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,c,l,f=this;return u(this,function(u){switch(u.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=u.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this.Ns&&(r=this.getItem(Fl(this.persistenceKey,n)))&&(i=Wl.Vs(n,r))&&(this.ks=this.ks.insert(i.clientId,i));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,c=this.Os;s<c.length;s++)l=c[s],this.Fs(l);return this.Os=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},af.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},af.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},af.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},af.prototype.addPendingMutation=function(t){this.zs(t,"pending")},af.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},af.prototype.addLocalQueryTarget=function(t){var e,n="not-current";return this.isActiveQueryTarget(t)&&(!(e=this.storage.getItem(Bl(this.persistenceKey,t)))||(e=zl.Vs(t,e))&&(n=e.state)),this.Js.Ds(t),this.Ks(),n},af.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},af.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},af.prototype.clearQueryState=function(t){this.removeItem(Bl(this.persistenceKey,t))},af.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},af.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},af.prototype.setOnlineState=function(t){this.Xs(t)},af.prototype.notifyBundleLoaded=function(){this.Zs()},af.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},af.prototype.getItem=function(t){var e=this.storage.getItem(t);return Dr("SharedClientState","READ",t,e),e},af.prototype.setItem=function(t,e){Dr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},af.prototype.removeItem=function(t){Dr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},af.prototype.Fs=function(t){var e=this,n=t;n.storageArea===this.storage&&(Dr("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.$s?this.Se.enqueueRetryable(function(){return s(e,void 0,void 0,function(){var t,e,r,i;return u(this,function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(e=this.si(n.key,n.newValue)))return[2,this.ii(e)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(t){var e=Cr.o;if(null!=t)try{var n=JSON.parse(t);Br("number"==typeof n),e=n}catch(t){Mr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Cr.o&&this.sequenceNumberHandler(i);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})}):Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(af.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),af.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},af.prototype.zs=function(t,e,n){n=new Ul(this.currentUser,t,e,n),t=Ll(this.persistenceKey,this.currentUser,t),this.setItem(t,n.Ss())},af.prototype.Hs=function(t){t=Ll(this.persistenceKey,this.currentUser,t),this.removeItem(t)},af.prototype.Xs=function(t){t={clientId:this.Ns,onlineState:t},this.storage.setItem(this.Us,JSON.stringify(t))},af.prototype.Ys=function(t,e,n){var r=Bl(this.persistenceKey,t),n=new zl(t,e,n);this.setItem(r,n.Ss())},af.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},af.prototype.ti=function(t){return(t=this.Ls.exec(t))?t[1]:null},af.prototype.ni=function(t,e){return t=this.ti(t),Wl.Vs(t,e)},af.prototype.si=function(t,e){var n=this.Bs.exec(t),t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return Ul.Vs(new Sl(n),t,e)},af.prototype.ri=function(t,e){return t=this.qs.exec(t),t=Number(t[1]),zl.Vs(t,e)},af.prototype.js=function(t){return ql.Vs(t)},af.prototype.ii=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(Dr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},af.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},af.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},af.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},af.prototype.Gs=function(t){var e=qa;return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},af),Kl=(of.prototype.addPendingMutation=function(t){},of.prototype.updateMutationState=function(t,e,n){},of.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},of.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},of.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},of.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},of.prototype.clearQueryState=function(t){delete this.fi[t]},of.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},of.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},of.prototype.start=function(){return this.li=new Hl,Promise.resolve()},of.prototype.handleUserChange=function(t,e,n){},of.prototype.setOnlineState=function(t){},of.prototype.shutdown=function(){},of.prototype.writeSequenceNumber=function(t){},of.prototype.notifyBundleLoaded=function(){},of),Xl=(rf.prototype.di=function(t){},rf.prototype.shutdown=function(){},rf),$l=(nf.prototype.di=function(t){this.gi.push(t)},nf.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},nf.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},nf.prototype._i=function(){Dr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},nf.prototype.yi=function(){Dr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},nf.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},nf),Yl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ql=(ef.prototype.Ii=function(t){this.Ai=t},ef.prototype.Ri=function(t){this.bi=t},ef.prototype.onMessage=function(t){this.vi=t},ef.prototype.close=function(){this.Ti()},ef.prototype.send=function(t){this.Ei(t)},ef.prototype.Pi=function(){this.Ai()},ef.prototype.Vi=function(t){this.bi(t)},ef.prototype.Si=function(t){this.vi(t)},ef),Jl=(tf.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);return Dr("RestConnection","Sending: ",i,n),e={},this.Fi(e,r),this.ki(t,i,e,n).then(function(t){return Dr("RestConnection","Received: ",t),t},function(e){throw jr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},tf.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},tf.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},tf.prototype.xi=function(t,e){return t=Yl[t],this.Di+"/v1/"+e+":"+t},o(Zl,Vl=tf),Zl.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new Sr;a.listenOnce(Er.COMPLETE,function(){try{switch(a.getLastErrorCode()){case xr.NO_ERROR:var e=a.getResponseJson();Dr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xr.TIMEOUT:Dr("Connection",'RPC "'+t+'" timed out'),o(new Rr(Ir.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:var n=a.getStatus();Dr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(e=a.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(Ir).indexOf(n)?n:Ir.UNKNOWN,o(new Rr(n,e.message))):o(new Rr(Ir.UNKNOWN,"Server responded with status "+a.getStatus())):o(new Rr(Ir.UNAVAILABLE,"Connection failed."));break;default:Lr()}}finally{Dr("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},Zl.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new vr,o=wr(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(t.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=f().indexOf("Electron/")||0<=(n=f()).indexOf("MSIE ")||0<=n.indexOf("Trident/")||0<=f().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(t.httpHeadersOverwriteParam="$httpHeaders"),Dr("Connection","Creating WebChannel: "+(r=r.join("")),t);var a=i.createWebChannel(r,t),s=!1,u=!1,c=new Ql({Ei:function(t){u?Dr("Connection","Not sending because WebChannel is closed:",t):(s||(Dr("Connection","Opening WebChannel transport."),a.open(),s=!0),Dr("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return t(a,kr.EventType.OPEN,function(){u||Dr("Connection","WebChannel transport opened.")}),t(a,kr.EventType.CLOSE,function(){u||(u=!0,Dr("Connection","WebChannel transport closed"),c.Vi())}),t(a,kr.EventType.ERROR,function(t){u||(u=!0,jr("Connection","WebChannel transport errored:",t),c.Vi(new Rr(Ir.UNAVAILABLE,"The operation could not be completed")))}),t(a,kr.EventType.MESSAGE,function(t){var e,n,r,i;u||(Br(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(Dr("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=ba[r];if(void 0!==t)return Oa(t)}(),i=n.message,void 0===t&&(t=Ir.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.Vi(new Rr(t,i)),a.close()):(Dr("Connection","WebChannel received:",e),c.Si(e)))}),t(o,_r.STAT_EVENT,function(t){10===t.stat?Dr("Connection","Detected buffering proxy"):11===t.stat&&Dr("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Pi()},0),c},Zl);function Zl(t){var e=this;return(e=Vl.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.autoDetectLongPolling=t.autoDetectLongPolling,e}function tf(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function ef(t){this.Ei=t.Ei,this.Ti=t.Ti}function nf(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}function rf(){}function of(){this.li=new Hl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function af(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ta(zr),this.started=!1,this.Os=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.$s=Fl(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Hl),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function sf(){this.activeTargetIds=qa}function uf(t,e){this.clientId=t,this.onlineState=e}function cf(t,e){this.clientId=t,this.activeTargetIds=e}function lf(t,e,n){this.targetId=t,this.state=e,this.error=n}function ff(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function hf(){return"undefined"!=typeof window?window:null}function df(){return"undefined"!=typeof document?document:null}function pf(t){return new as(t,!0)}function vf(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return s(o,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return Lf(this)?(Dr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return(e=t).$r.add(4),[4,Af(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Rf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new _f(n,r)}var gf,mf,yf,bf=(If.prototype.reset=function(){this.qi=0},If.prototype.Ki=function(){this.qi=this.Bi},If.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);0<i&&Dr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},If.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},If.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},If.prototype.Wi=function(){return(Math.random()-.5)*this.qi},If),S=(Tf.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},Tf.prototype.er=function(){return 2===this.state},Tf.prototype.start=function(){3!==this.state?this.auth():this.nr()},Tf.prototype.stop=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Tf.prototype.sr=function(){this.state=0,this.Zi.reset()},Tf.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},Tf.prototype.cr=function(t){this.ar(),this.stream.send(t)},Tf.prototype.rr=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},Tf.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Tf.prototype.close=function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ir.RESOURCE_EXHAUSTED?(Mr(e.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ir.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},Tf.prototype.ur=function(){},Tf.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Rr(Ir.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},Tf.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Tf.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return s(t,void 0,void 0,function(){return u(this,function(t){return this.state=0,this.start(),[2]})})})},Tf.prototype.dr=function(t){return Dr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Tf.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Dr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Tf),wf=(o(Of,yf=S),Of.prototype.wr=function(t){return this.Hi.$i("Listen",t)},Of.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Lr(),r=e.targetChange.targetIds||[],i=(a=e.targetChange.resumeToken,t.I?(Br(void 0===a||"string"==typeof a),ii.fromBase64String(a||"")):(Br(void 0===a||a instanceof Uint8Array),ii.fromUint8Array(a||new Uint8Array))),o=(s=e.targetChange.cause)&&(u=void 0===(c=s).code?Ir.UNKNOWN:Oa(c.code),new Rr(u,c.message||"")),a=new $a(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;var r=ds(t,n.document.name),i=cs(n.document.updateTime),s=new Ni({mapValue:{fields:n.document.fields}}),u=(o=Mi.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new Ka(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=ds(t,n.document),i=n.readTime?cs(n.readTime):Gr.min(),s=Mi.newNoDocument(r,i),o=n.removedTargetIds||[],a=new Ka([],o,s.key,s);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=ds(t,n.document),i=n.removedTargetIds||[],a=new Ka([],i,r,null);else{if(!("filter"in e))return Lr();e.filter,(e=e.filter).targetId,n=e.count||0,r=new ya(n),i=e.targetId,a=new Xa(i,r)}return a}(this.R,t),t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?Gr.min():cs(t.readTime):Gr.min()}(t);return this.listener._r(e,t)},Of.prototype.mr=function(t){var e,n,r,i={};i.database=gs(this.R),i.addTarget=(e=this.R,(r=Ui(r=(n=t).target)?{documents:Es(e,r)}:{query:_s(e,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=us(e,n.resumeToken):0<n.snapshotVersion.compareTo(Gr.min())&&(r.readTime=ss(e,n.snapshotVersion.toTimestamp())),r);var o,t=(this.R,o=t,null==(t=function(){switch(o.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lr()}}())?null:{"goog-listen-tags":t});t&&(i.labels=t),this.cr(i)},Of.prototype.yr=function(t){var e={};e.database=gs(this.R),e.removeTarget=t,this.cr(e)},Of),xf=(o(Cf,mf=S),Object.defineProperty(Cf.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),Cf.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,mf.prototype.start.call(this)},Cf.prototype.ur=function(){this.gr&&this.Er([])},Cf.prototype.wr=function(t){return this.Hi.$i("Write",t)},Cf.prototype.onMessage=function(t){if(Br(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Br(void 0!==r),n.map(function(t){return n=r,(t=(e=t).updateTime?cs(e.updateTime):cs(n)).isEqual(Gr.min())&&(t=cs(n)),new ea(t,e.transformResults||[]);var e,n})):[]),n=cs(t.commitTime);return this.listener.Tr(n,e)}var r;return Br(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},Cf.prototype.Ar=function(){var t={};t.database=gs(this.R),this.cr(t)},Cf.prototype.Er=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return ws(e.R,t)})};this.cr(t)},Cf),Ef=(o(Sf,gf=function(){}),Sf.prototype.br=function(){if(this.Rr)throw new Rr(Ir.FAILED_PRECONDITION,"The client has already been terminated.")},Sf.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ir.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Rr(Ir.UNKNOWN,t.toString())})},Sf.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ir.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Rr(Ir.UNKNOWN,t.toString())})},Sf.prototype.terminate=function(){this.Rr=!0},Sf),_f=(kf.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},kf.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},kf.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},kf.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},kf.prototype.Cr=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(Mr(t),this.Vr=!1):Dr("OnlineStateTracker",t)},kf.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},kf);function kf(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function Sf(t,e,n){var r=this;return(r=gf.call(this)||this).credentials=t,r.Hi=e,r.R=n,r.Rr=!1,r}function Cf(t,e,n,r,i){var o=this;return(o=mf.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).R=r,o.gr=!1,o}function Of(t,e,n,r,i){var o=this;return(o=yf.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).R=r,o}function Tf(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new bf(t,e)}function If(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}function Rf(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:if(!Lf(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Af(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pf(t,e){t.Or.has(e.targetId)||(t.Or.set(e.targetId,e),Ff(t)?jf(t):Kf(t).er()&&Df(t,e))}function Nf(t,e){var n=t,t=Kf(n);n.Or.delete(e),t.er()&&Mf(n,e),0===n.Or.size&&(t.er()?t.ir():Lf(n)&&n.Br.set("Unknown"))}function Df(t,e){t.qr.U(e.targetId),Kf(t).mr(e)}function Mf(t,e){t.qr.U(e),Kf(t).yr(e)}function jf(t){t.qr=new Qa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Kf(t).start(),t.Br.Sr()}function Ff(t){return Lf(t)&&!Kf(t).tr()&&0<t.Or.size}function Lf(t){return 0===t.$r.size}function Bf(t){t.qr=void 0}function Vf(t,e,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof $a&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return s(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Dr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Uf(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ka?t.qr.X(e):e instanceof Xa?t.qr.rt(e):t.qr.et(e),n.isEqual(Gr.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,il(t.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(c=n,(l=(a=t).qr.at(c)).targetChanges.forEach(function(t,e){var n;0<t.resumeToken.approximateByteSize()&&(n=a.Or.get(e))&&a.Or.set(e,n.withResumeToken(t.resumeToken,c))}),l.targetMismatches.forEach(function(t){var e=a.Or.get(t);e&&(a.Or.set(t,e.withResumeToken(ii.EMPTY_BYTE_STRING,e.snapshotVersion)),Mf(a,t),e=new Su(e.target,t,1,e.sequenceNumber),Df(a,e))}),a.remoteSyncer.applyRemoteEvent(l))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Dr("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,Uf(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,c,l})})}function Uf(t,e,n){return s(this,void 0,void 0,function(){var r=this;return u(this,function(i){switch(i.label){case 0:if(!du(e))throw e;return t.$r.add(1),[4,Af(t)];case 1:return i.sent(),t.Br.set("Offline"),n=n||function(){return il(t.localStore)},t.asyncQueue.enqueueRetryable(function(){return s(r,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return Dr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Rf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function zf(t,e){return e().catch(function(n){return Uf(t,n,e)})}function Wf(t){return s(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){switch(o.label){case 0:n=Xf(e=t),r=0<e.kr.length?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!(Lf(e)&&e.kr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(t,s)}))];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e),(t=Xf(t)).er()&&t.pr&&t.Er(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,Uf(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return qf(e)&&Hf(e),[2]}var a,s,u})})}function qf(t){return Lf(t)&&!Xf(t).tr()&&0<t.kr.length}function Hf(t){Xf(t).start()}function Gf(t,e){return s(this,void 0,void 0,function(){var n;return u(this,function(r){switch(r.label){case 0:return n=t,e?(n.$r.delete(2),[4,Rf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Af(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Kf(t){var e,n,r,i=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:function(t){return s(this,void 0,void 0,function(){return u(this,function(e){return t.Or.forEach(function(e,n){Df(t,e)}),[2]})})}.bind(null,t),Ri:function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){return Bf(t),Ff(t)?(t.Br.Nr(e),jf(t)):t.Br.set("Unknown"),[2]})})}.bind(null,t),_r:Vf.bind(null,t)},e.br(),new wf(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return s(i,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),Ff(t)?jf(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Bf(t),n.label=3;case 3:return[2]}})})})),t.Ur}function Xf(t){var e,n,r,i=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:function(t){return s(this,void 0,void 0,function(){return u(this,function(e){return Xf(t).Ar(),[2]})})}.bind(null,t),Ri:function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return e&&Xf(t).pr?[4,function(t,e){return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return Ca(r=e.code)&&r!==Ir.ABORTED?(n=t.kr.shift(),Xf(t).sr(),[4,zf(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Wf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qf(t)&&Hf(t),[2]}})})}.bind(null,t),Ir:function(t){return s(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){for(e=Xf(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}.bind(null,t),Tr:function(t,e,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=ku.from(r,e,n),[4,zf(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Wf(t)];case 2:return o.sent(),[2]}})})}.bind(null,t)},e.br(),new xf(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return s(i,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,Wf(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),0<t.kr.length&&(Dr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}})})})),t.Qr}var $f=(Yf.createAndSchedule=function(t,e,n,r,i){return(i=new Yf(t,e,Date.now()+n,r,i)).start(n),i},Yf.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},Yf.prototype.skipDelay=function(){return this.handleDelayElapsed()},Yf.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rr(Ir.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Yf.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},Yf.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Yf);function Yf(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}function Qf(t,e){if(Mr("AsyncQueue",e+": "+t),du(t))return new Rr(Ir.UNAVAILABLE,e+": "+t);throw t}function Jf(){this.queries=new Oc(Ao,Ro),this.onlineState="Unknown",this.Gr=new Set}var Zf=(oh.emptySet=function(t){return new oh(t.comparator)},oh.prototype.has=function(t){return null!=this.keyedMap.get(t)},oh.prototype.get=function(t){return this.keyedMap.get(t)},oh.prototype.first=function(){return this.sortedSet.minKey()},oh.prototype.last=function(){return this.sortedSet.maxKey()},oh.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},oh.prototype.indexOf=function(t){return(t=this.keyedMap.get(t))?this.sortedSet.indexOf(t):-1},Object.defineProperty(oh.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),oh.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},oh.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},oh.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},oh.prototype.isEqual=function(t){if(!(t instanceof oh))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},oh.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},oh.prototype.copy=function(t,e){var n=new oh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},oh),th=(ih.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);!n||0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Lr()},ih.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},ih),eh=(rh.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new rh(t,e,Zf.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(rh.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),rh.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ro(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},rh),nh=function(){this.Wr=void 0,this.listeners=[]};function rh(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function ih(){this.Kr=new Ta(bi.comparator)}function oh(t){this.comparator=t?function(e,n){return t(e,n)||bi.comparator(e.key,n.key)}:function(t,e){return bi.comparator(t.key,e.key)},this.keyedMap=Va,this.sortedSet=new Ta(this.comparator)}function ah(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new nh),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return a=Qf(a=s.sent(),"Initialization of query '"+Po(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&uh(n),[2]}})})}function sh(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a;return u(this,function(s){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function uh(t){t.Gr.forEach(function(t){t.next()})}var ch=(gh.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new eh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},gh.prototype.onError=function(t){this.Jr.error(t)},gh.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},gh.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},gh.prototype.Zr=function(t){if(0<t.docChanges.length)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},gh.prototype.no=function(t){t=eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},gh),lh=(vh.prototype.io=function(){return"metadata"in this.payload},vh),fh=(ph.prototype.qn=function(t){return ds(this.R,t)},ph.prototype.Un=function(t){return t.metadata.exists?bs(this.R,t.document,!1):Mi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},ph.prototype.Qn=cs,ph),hh=(dh.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},dh.prototype.co=function(t){for(var e=new Map,n=new fh(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Wa()).add(a);e.set(c,l)}}return e},dh.prototype.complete=function(){return s(this,void 0,void 0,function(){var t,e,n,r;return u(this,function(i){switch(i.label){case 0:return[4,function(t,e,n,r){return s(this,void 0,void 0,function(){var i,o,a,s,c,l,f,h,d,p;return u(this,function(u){switch(u.label){case 0:for(i=t,o=Wa(),a=Fa,s=Ua,c=0,l=n;c<l.length;c++)f=l[c],h=e.qn(f.metadata.name),f.document&&(o=o.add(h)),a=a.insert(h,e.Un(f)),s=s.insert(h,e.Qn(f.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,sl(i,To(xo(ti.fromString("__bundle__/docs/"+r))))];case 1:return p=u.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return al(t,d,a,Gr.min(),s).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return i.qe.addMatchingKeys(t,o,p.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}(this.localStore,new fh(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(t,e,n){return void 0===n&&(n=Wa()),s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return[4,sl(t,To(Bu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=cs(e.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Qe.saveNamedQuery(t,e):(o=r.withResumeToken(ii.EMPTY_BYTE_STRING,o),i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)}))})]}})})}(this.localStore,r,e.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Gc(Object.assign({},this.progress),t))]}})})},dh);function dh(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=mh(t)}function ph(t){this.R=t}function vh(t,e){this.payload=t,this.byteLength=e}function gh(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function mh(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var yh=function(t){this.key=t},bh=function(t){this.key=t},wh=(Object.defineProperty(Sh.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),Sh.prototype._o=function(t,e){var n=this,r=e?e.mo:new th,i=(e||this).fo,o=(e||this).mutatedKeys,a=i,s=!1,u=Eo(this.query)&&i.size===this.query.limit?i.last():null,c=_o(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=No(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),e=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),e=!0):n.yo(l,f)||(r.track({type:2,doc:f}),e=!0,(u&&0<n.lo(f,u)||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),e=!0):l&&!f&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(s=!0)),e&&(o=f?(a=a.add(f),d?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))}),Eo(this.query)||_o(this.query))for(;a.size>this.query.limit;){var l=Eo(this.query)?a.last():a.first(),a=a.delete(l.key),o=o.delete(l.key);r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},Sh.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},Sh.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.lo(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lr()}}var i,o}),this.po(n);var a=e?this.Eo():[],n=0===this.ho.size&&this.current?1:0,e=n!==this.uo;return this.uo=n,0!==o.length||e?{snapshot:new eh(this.query,t.fo,i,o,t.mutatedKeys,0==n,e,!1),To:a}:{To:a}},Sh.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new th,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Sh.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},Sh.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.ao=e.ao.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.ao=e.ao.delete(t)}),this.current=t.current)},Sh.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Wa(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new bh(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new yh(t))}),n},Sh.prototype.Ao=function(t){return this.ao=t.Bn,this.ho=Wa(),t=this._o(t.documents),this.applyChanges(t,!0)},Sh.prototype.Ro=function(){return eh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},Sh),xh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Eh=function(t){this.key=t,this.bo=!1},_h=(Object.defineProperty(kh.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),kh);function kh(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Oc(Ao,Ro),this.Vo=new Map,this.So=new Set,this.Do=new Ta(bi.comparator),this.Co=new Map,this.No=new gl,this.xo={},this.Fo=new Map,this.ko=uc.Yt(),this.onlineState="Unknown",this.Oo=void 0}function Sh(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Wa(),this.mutatedKeys=Wa(),this.lo=Do(t),this.fo=new Zf(this.lo)}function Ch(t,e,n,r){return s(this,void 0,void 0,function(){var i,o,a;return u(this,function(c){switch(c.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return s(this,void 0,void 0,function(){var i,o;return u(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,cl(t.localStore,e.query,!1).then(function(t){return t=t.documents,e.view._o(t,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Mh(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,cl(t.localStore,e,!0)];case 1:return o=c.sent(),a=new wh(e,o.Bn),i=a._o(o.documents),o=Ga.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),o=a.applyChanges(i,t.isPrimaryClient,o),Mh(t,n,o.To),a=new xh(e,n,a),[2,(t.Po.set(e,a),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),o.snapshot)]}})})}function Oh(t,e,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:i=Wh(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=e,h=c,d=Hr.now(),p=l.reduce(function(t,e){return t.add(e.key)},Wa()),h.persistence.runTransaction("Locally write mutations","readwrite",function(t){return h.Mn.pn(t,p).next(function(e){f=e;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),a=Lo(o.transform,a||null);null!=a&&(n=null==n?Ni.empty():n).set(o.field,a)}return n||null}(o,f.get(o.key));null!=a&&n.push(new ha(o.key,a,function t(e){var n=[];return Yr(e.fields||{},function(e,r){var i=new ni([e]);if(Pi(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)}),new ri(n)}(a.toProto().mapValue),ra.exists(!0)))}return h._n.addMutationBatch(t,d,n,l)})}).then(function(t){return t.applyToLocalDocumentSet(f),{batchId:t.batchId,changes:f}}))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new Ta(zr)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,Fh(i,r.changes)];case 3:return o.sent(),[4,Wf(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=Qf(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,f,h,d,p})})}function Th(t,e){return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ol(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){(e=n.Co.get(e))&&(Br(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?e.bo=!0:0<t.modifiedDocuments.size?Br(e.bo):0<t.removedDocuments.size&&(Br(e.bo),e.bo=!1))}),[4,Fh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,vc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ih(t,e,n){var r,t=t;(t.isPrimaryClient&&0===n||!t.isPrimaryClient&&1===n)&&(r=[],t.Po.forEach(function(t,n){(n=n.view.zr(e)).snapshot&&r.push(n.snapshot)}),function(t,e){t.onlineState=e;var n=!1;t.queries.forEach(function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(e)&&(n=!0)}),n&&uh(t)}(t.eventManager,e),r.length&&t.vo._r(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e))}function Rh(t,e){return s(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){switch(o.label){case 0:Lf((n=t).remoteStore)||Dr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a._n.getHighestUnacknowledgedBatchId(t)})];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return i=Qf(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a})})}function Ah(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Ph(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i)}function Nh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Dh(t,e)})}function Dh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Nf(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),jh(t))}function Mh(t,e,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof yh?(t.No.addReference(u.key,e),r=t,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(Dr("SyncEngine","New document in limbo: "+o),r.So.add(i),jh(r))):u instanceof bh?(Dr("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||Dh(t,u.key)):Lr()}}function jh(t){for(;0<t.So.size&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bi(ti.fromString(e)),e=t.ko.next();t.Co.set(e,new Eh(n)),t.Do=t.Do.insert(n,e),Pf(t.remoteStore,new Su(To(xo(n.path)),e,2,Cr.o))}}function Fh(t,e,n){return s(this,void 0,void 0,function(){var r,i,o,a;return u(this,function(c){switch(c.label){case 0:return i=[],o=[],a=[],(r=t).Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.$o(s,e,n).then(function(t){t&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t),t=Xc.Pn(s.targetId,t),o.push(t))}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a,s,c;return u(this,function(u){switch(u.label){case 0:n=t,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return nu.forEach(e,function(e){return nu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return nu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return u.sent(),[3,4];case 3:if(!du(r=u.sent()))throw r;return Dr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)c=o[i],a=c.targetId,c.fromCache||(s=n.Fn.get(a),c=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function Lh(t,e,n,r){return s(this,void 0,void 0,function(){var i,o;return u(this,function(a){switch(a.label){case 0:return[4,(s=(i=t).localStore,u=e,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return l.jt(t,u).next(function(e){return e?c.Mn.pn(t,e):nu.resolve(null)})}))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Wf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ph(i,e,r||null),Ah(i,e),i.localStore._n.Gt(e)):Lr(),a.label=4;case 4:return[4,Fh(i,o)];case 5:return a.sent(),[3,7];case 6:Dr("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l})})}function Bh(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a,s,c,l;return u(this,function(u){switch(u.label){case 0:return zh(n=t),Wh(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Vh(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,Gf(n.remoteStore,!0)];case 2:for(u.sent(),o=0,a=i;o<a.length;o++)s=a[o],Pf(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then(function(){return Nh(n,e),ul(n.localStore,e,!0)}),Nf(n.remoteStore,e)}),[4,l]);case 4:return u.sent(),[4,Vh(n,c)];case 5:return u.sent(),(f=n).Co.forEach(function(t,e){Nf(f.remoteStore,e)}),f.No.ts(),f.Co=new Map,f.Do=new Ta(bi.comparator),n.Oo=!1,[4,Gf(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}var f})})}function Vh(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a,c,l,f,h,d,p,v;return u(this,function(g){switch(g.label){case 0:n=t,r=[],i=[],o=0,a=e,g.label=1;case 1:return o<a.length?(c=a[o],l=void 0,(f=n.Vo.get(c))&&0!==f.length?[4,sl(n.localStore,To(f[0]))]:[3,7]):[3,13];case 2:l=g.sent(),h=0,d=f,g.label=3;case 3:return h<d.length?(p=d[h],p=n.Po.get(p),[4,function(t,e){return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return[4,cl((n=t).localStore,e.query,!0)];case 1:return r=i.sent(),r=e.view.Ao(r),[2,(n.isPrimaryClient&&Mh(n,e.targetId,r.To),r)]}})})}(n,p)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ll(n.localStore,c)];case 8:return v=g.sent(),[4,sl(n.localStore,v)];case 9:return l=g.sent(),[4,Ch(n,Uh(v),c,!1)];case 10:g.sent(),g.label=11;case 11:r.push(l),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Uh(t){return wo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zh(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=Th.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=t;if((t=n.Co.get(e))&&t.bo)return Wa().add(t.key);var r=Wa();if(!(e=n.Vo.get(e)))return r;for(var i=0,o=e;i<o.length;i++)var a=o[i],a=n.Po.get(a),r=r.unionWith(a.view.wo);return r}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(t,e,n){return s(this,void 0,void 0,function(){var r,i,o,a;return u(this,function(s){switch(s.label){case 0:return(r=t).sharedClientState.updateQueryState(e,"rejected",n),a=r.Co.get(e),(i=a&&a.key)?(o=(o=new Ta(bi.comparator)).insert(i,Mi.newNoDocument(i,Gr.min())),a=Wa().add(i),a=new Ha(Gr.min(),new Map,new Ma(zr),o,a),[4,Th(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(e),jh(r),[3,4];case 2:return[4,ul(r.localStore,e,!1).then(function(){return Nh(r,e,n)}).catch(vc)];case 3:s.sent(),s.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,s=n.queries.get(s);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&uh(n)}.bind(null,t.eventManager),t.vo.Mo=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.eventManager),t}function Wh(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(t,e){return s(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,rl(n.localStore,e)];case 2:return i=o.sent(),Ph(n,r,null),Ah(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Fh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,vc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(t,e,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",function(t){var e;return u._n.lookupMutationBatch(t,s).next(function(n){return Br(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)}).next(function(){return u._n.performConsistencyCheck(t)}).next(function(){return u.Mn.pn(t,e)})}))];case 2:return i=o.sent(),Ph(r,e,n),Ah(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Fh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,vc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u})})}.bind(null,t),t}function qh(t,e,n){var r=t;(function(t,e,n){return s(this,void 0,void 0,function(){var r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,(f=t.localStore,d=f,p=cs((h=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",function(t){return d.Qe.getBundleMetadata(t,h.id)}).then(function(t){return!!t&&0<=t.createTime.compareTo(p)}))];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(mh(r)),i=new hh(r,t.localStore,e.R),[4,e.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,Fh(t,s.wn,void 0)];case 12:return u.sent(),[4,(f=t.localStore,c=r,(l=f).persistence.runTransaction("Save bundle","readwrite",function(t){return l.Qe.saveBundleMetadata(t,c)}))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return jr("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,l,f,h,d,p})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Hh,Gh,Kh=(td.prototype.initialize=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.R=pf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},td.prototype.Uo=function(t){return null},td.prototype.Qo=function(t){return el(this.persistence,new $c,t.initialUser,this.R)},td.prototype.qo=function(t){return new El(kl.bs,this.R)},td.prototype.Bo=function(t){return new Kl},td.prototype.terminate=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},td),Xh=(o(Zh,Gh=Kh),Zh.prototype.initialize=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,Gh.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,hl(this.localStore)];case 2:return e.sent(),[4,this.Ko.initialize(this,t)];case 3:return e.sent(),[4,Wh(this.Ko.syncEngine)];case 4:return e.sent(),[4,Wf(this.Ko.remoteStore)];case 5:return e.sent(),[2]}})})},Zh.prototype.Qo=function(t){return el(this.persistence,new $c,t.initialUser,this.R)},Zh.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new yc(e,t.asyncQueue)},Zh.prototype.qo=function(t){var e=Hc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ju.withCacheSize(this.cacheSizeBytes):Ju.DEFAULT;return new Uc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,hf(),df(),this.R,this.sharedClientState,!!this.forceOwnership)},Zh.prototype.Bo=function(t){return new Kl},Zh),$h=(o(Jh,Hh=Xh),Jh.prototype.initialize=function(t){return s(this,void 0,void 0,function(){var e,n=this;return u(this,function(r){switch(r.label){case 0:return[4,Hh.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Ko.syncEngine,this.sharedClientState instanceof Gl?(this.sharedClientState.syncEngine={ai:Lh.bind(null,e),ui:function(t,e,n,r){return s(this,void 0,void 0,function(){var i,o,a;return u(this,function(s){switch(s.label){case 0:return(i=t).Oo?(Dr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fl(i.localStore)];case 3:return o=s.sent(),a=Ha.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Fh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ul(i.localStore,e,!0)];case 6:return s.sent(),Nh(i,e,r),[3,8];case 7:Lr(),s.label=8;case 8:return[2]}})})}.bind(null,e),hi:function(t,e,n){return s(this,void 0,void 0,function(){var r,i,o,a,s,c,l,f;return u(this,function(h){switch(h.label){case 0:if(!(r=zh(t)).Oo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(Dr("SyncEngine","Adding an already active target "+o),[3,5]):[4,ll(r.localStore,o)]):[3,6];case 2:return a=h.sent(),[4,sl(r.localStore,a)];case 3:return s=h.sent(),[4,Ch(r,Uh(a),s.targetId,!1)];case 4:h.sent(),Pf(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return u(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ul(r.localStore,t,!1).then(function(){Nf(r.remoteStore,t),Nh(r,t)}).catch(vc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?(f=f[l],[5,c(f)]):[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}.bind(null,e),fn:function(t){return t.localStore.persistence.fn()}.bind(null,e),ci:function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){return[2,fl((e=t).localStore).then(function(t){return Fh(e,t)})]})})}.bind(null,e)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He(function(t){return s(n,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,Bh(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},Jh.prototype.Bo=function(t){var e=hf();if(!Gl.yt(e))throw new Rr(Ir.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gl(e,t.asyncQueue,n,t.clientId,t.initialUser)},Jh),Yh=(Qh.prototype.initialize=function(t,e){return s(this,void 0,void 0,function(){var n=this;return u(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ih(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(t,e){return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Dr("SyncEngine","User change. New user:",e.toKey()),[4,nl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new Rr(Ir.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Fh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o})})}.bind(null,this.syncEngine),[4,Gf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},Qh.prototype.createEventManager=function(t){return new Jf},Qh.prototype.createDatastore=function(t){var e=pf(t.databaseInfo.databaseId),n=(n=t.databaseInfo,new Jl(n));return t=t.credentials,new Ef(t,n,e)},Qh.prototype.createRemoteStore=function(t){var e=this,n=this.localStore,r=this.datastore,i=t.asyncQueue,t=new($l.yt()?$l:Xl);return new vf(n,r,i,function(t){return Ih(e.syncEngine,t,0)},t)},Qh.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){return o=new _h(t,e,n,r,i,o),a&&(o.Oo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},Qh.prototype.terminate=function(){return function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=t,Dr("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Af(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},Qh);function Qh(){}function Jh(t,e){var n=this;return(n=Hh.call(this,t,e,!1)||this).Ko=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function Zh(t,e,n){var r=this;return(r=Gh.call(this)||this).Ko=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function td(){this.synchronizeTabs=!1}function ed(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return s(this,void 0,void 0,function(){var r;return u(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nd=(fd.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},fd.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},fd.prototype.Wo=function(){this.muted=!0},fd.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},fd),rd=(ld.prototype.close=function(){return this.Go.cancel()},ld.prototype.getMetadata=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,this.metadata.promise]})})},ld.prototype.Lo=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},ld.prototype.Ho=function(){return s(this,void 0,void 0,function(){var t,e,n;return u(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(n=this.zo.decode(t),e=Number(n),isNaN(e)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(e)]);case 2:return n=r.sent(),[2,new lh(JSON.parse(n),t.length+e)]}})})},ld.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},ld.prototype.Jo=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},ld.prototype.Xo=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},ld.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},ld.prototype.tc=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},ld),id=(cd.prototype.lookup=function(t){return s(this,void 0,void 0,function(){var e,n=this;return u(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Rr(Ir.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:return r=gs((n=t).R)+"/documents",i={documents:e.map(function(t){return hs(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach(function(t){var e,t=(e=n.R,"found"in(t=t)?function(t,e){Br(!!e.found),e.found.name,e.found.updateTime;var n=ds(t,e.found.name),t=cs(e.found.updateTime),e=new Ni({mapValue:{fields:e.found.fields}});return Mi.newFoundDocument(n,t,e)}(e,t):"missing"in t?function(t,e){return Br(!!e.missing),Br(!!e.readTime),t=ds(t,e.missing),e=cs(e.readTime),Mi.newNoDocument(t,e)}(e,t):Lr());o.set(t.key.toString(),t)}),a=[],[2,(e.forEach(function(t){Br(!!(t=o.get(t.toString()))),a.push(t)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},cd.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},cd.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},cd.prototype.delete=function(t){this.write(new Ea(t,this.precondition(t))),this.writtenDocs.add(t.toString())},cd.prototype.commit=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){n=bi.fromPath(n),e.mutations.push(new _a(n,e.precondition(n)))}),[4,function(t,e){return s(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){switch(o.label){case 0:return r=gs((n=t).R)+"/documents",i={writes:e.map(function(t){return ws(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},cd.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Lr();e=Gr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Rr(Ir.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},cd.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ra.updateTime(e):ra.none()},cd.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return ra.exists(!0);if(e.isEqual(Gr.min()))throw new Rr(Ir.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ra.updateTime(e)},cd.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},cd.prototype.ensureCommitNotCalled=function(){},cd),od=(ud.prototype.run=function(){this.nc()},ud.prototype.nc=function(){var t=this;this.Zi.ji(function(){return s(t,void 0,void 0,function(){var t,e,n=this;return u(this,function(r){return t=new id(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},ud.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},ud.prototype.ic=function(t){var e=this;0<this.ec&&this.rc(t)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},ud.prototype.rc=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!Ca(t))},ud),ad=(sd.prototype.getConfiguration=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},sd.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},sd.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Rr(Ir.FAILED_PRECONDITION,"The client has already been terminated.")},sd.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=Qf(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},sd);function sd(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Sl.UNAUTHENTICATED,this.clientId=Vr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return s(r,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return Dr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}function ud(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new bf(this.asyncQueue,"transaction_retry")}function cd(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function ld(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new eu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}function fd(t){this.observer=t,this.muted=!1}function hd(t,e){return s(this,void 0,void 0,function(){var n,r,i=this;return u(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Dr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return s(i,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,nl(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function dd(t,e){return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,pd(t)];case 1:return n=i.sent(),Dr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return(n=t).asyncQueue.verifyOperationInProgress(),Dr("RemoteStore","RemoteStore received new credentials"),r=Lf(n),n.$r.add(3),[4,Af(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Rf(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function pd(t){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Dr("FirestoreClient","Using default OfflineComponentProvider"),[4,hd(t,new Kh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function vd(t){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Dr("FirestoreClient","Using default OnlineComponentProvider"),[4,dd(t,new Yh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function gd(t){return pd(t).then(function(t){return t.persistence})}function md(t){return pd(t).then(function(t){return t.localStore})}function yd(t){return vd(t).then(function(t){return t.remoteStore})}function bd(t){return vd(t).then(function(t){return t.syncEngine})}function wd(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,vd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=function(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:return n=zh(t),(a=n.Po.get(e))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,sl(n.localStore,To(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,Ch(n,e,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&Pf(n.remoteStore,o),s.label=4;case 4:return[2,i]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(t,e){return s(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){switch(o.label){case 0:return r=(n=t).Po.get(e),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ro(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ul(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Nf(n.remoteStore,r.targetId),Nh(n,r.targetId)}).catch(vc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Nh(n,r.targetId),[4,ul(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function xd(t,e,n){var r=this;void 0===n&&(n={});var i=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(r,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nd({next:function(o){e.enqueueAndForget(function(){return sh(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Rr(Ir.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Rr(Ir.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ch(xo(n.path),o,{includeMetadataChanges:!0,so:!0});return ah(t,a)},[4,wd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ed(t,e,n){var r=this;void 0===n&&(n={});var i=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(r,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nd({next:function(n){e.enqueueAndForget(function(){return sh(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Rr(Ir.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ch(n,o,{includeMetadataChanges:!0,so:!0});return ah(t,a)},[4,wd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function _d(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}var kd=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Sd=(Object.defineProperty(Fd.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Fd.prototype.isEqual=function(t){return t instanceof Fd&&t.projectId===this.projectId&&t.database===this.database},Fd),Cd=new Map,Od=(jd.prototype.getToken=function(){return Promise.resolve(null)},jd.prototype.invalidateToken=function(){},jd.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Sl.UNAUTHENTICATED)})},jd.prototype.removeChangeListener=function(){this.changeListener=null},jd),Td=(Md.prototype.getToken=function(){return Promise.resolve(this.token)},Md.prototype.invalidateToken=function(){},Md.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},Md.prototype.removeChangeListener=function(){this.changeListener=null},Md),Id=(Dd.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Dr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Br("string"==typeof n.accessToken),new _d(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},Dd.prototype.invalidateToken=function(){this.forceRefresh=!0},Dd.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},Dd.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},Dd.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return Br(null===t||"string"==typeof t),new Sl(t)},Dd.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}})})}))},Dd),Rd=(Object.defineProperty(Nd.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),Nd),Ad=(Pd.prototype.getToken=function(){return Promise.resolve(new Rd(this.fc,this.dc,this.wc))},Pd.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Sl.FIRST_PARTY)})},Pd.prototype.removeChangeListener=function(){},Pd.prototype.invalidateToken=function(){},Pd);function Pd(t,e,n){this.fc=t,this.dc=e,this.wc=n}function Nd(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Sl.FIRST_PARTY}function Dd(t){var e=this;function n(t){Dr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)}this.currentUser=Sl.UNAUTHENTICATED,this.oc=new eu,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})},t.onInit(n),setTimeout(function(){var r;e.auth||((r=t.getImmediate({optional:!0}))?n(r):e.ac&&(Dr("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})))},0)}function Md(t){this.token=t,this.changeListener=null}function jd(){this.changeListener=null}function Fd(t,e){this.projectId=t,this.database=e||"(default)"}function Ld(t,e,n){if(!n)throw new Rr(Ir.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Bd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vd(t,e,n,r){if(!0===e&&!0===r)throw new Rr(Ir.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ud(t){if(!bi.isDocumentKey(t))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function zd(t){if(bi.isDocumentKey(t))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Lr();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function qd(t,e){if((t="_delegate"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new Rr(Ir.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=Wd(t),new Rr(Ir.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function Hd(t,e){if(e<=0)throw new Rr(Ir.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gd,Kd=(np.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},np),Xd=(Object.defineProperty(ep.prototype,"app",{get:function(){if(!this._app)throw new Rr(Ir.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(ep.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(ep.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),ep.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Rr(Ir.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Od;switch(t.type){case"gapi":var e=t.client;return Br(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ad(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Rr(Ir.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},ep.prototype._getSettings=function(){return this._settings},ep.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},ep.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},ep.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},ep.prototype._terminate=function(){return(t=Cd.get(this))&&(Dr("ComponentProvider","Removing Datastore"),Cd.delete(this),t.terminate()),Promise.resolve();var t},ep),$d=(Object.defineProperty(tp.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(tp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(tp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(tp.prototype,"parent",{get:function(){return new Qd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),tp.prototype.withConverter=function(t){return new tp(this.firestore,t,this._key)},tp),Yd=(Zd.prototype.withConverter=function(t){return new Zd(this.firestore,t,this._query)},Zd),Qd=(o(Jd,Gd=Yd),Object.defineProperty(Jd.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(Jd.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(Jd.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new $d(this.firestore,null,new bi(t))},enumerable:!1,configurable:!0}),Jd.prototype.withConverter=function(t){return new Jd(this.firestore,t,this._path)},Jd);function Jd(t,e,n){var r=this;return(r=Gd.call(this,t,e,xo(n))||this)._path=n,r.type="collection",r}function Zd(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}function tp(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}function ep(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kd({}),this._settingsFrozen=!1,t instanceof Sd?(this._databaseId=t,this._credentials=new Od):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Rr(Ir.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(t.options.projectId)}(t),this._credentials=new Id(e))}function np(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Rr(Ir.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rr(Ir.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Vd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function rp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=w(t),Ld("collection","path",e),t instanceof Xd)return zd(n=ti.fromString.apply(ti,c([e],r))),new Qd(t,null,n);if(!(t instanceof $d||t instanceof Qd))throw new Rr(Ir.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zd(n=ti.fromString.apply(ti,c([t.path],r)).child(ti.fromString(e))),new Qd(t.firestore,null,n)}function ip(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=w(t),Ld("doc","path",e=1===arguments.length?Vr.u():e),t instanceof Xd)return Ud(n=ti.fromString.apply(ti,c([e],r))),new $d(t,null,new bi(n));if(!(t instanceof $d||t instanceof Qd))throw new Rr(Ir.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ud(n=t._path.child(ti.fromString.apply(ti,c([e],r)))),new $d(t.firestore,t instanceof Qd?t.converter:null,new bi(n))}function op(t,e){return t=w(t),e=w(e),(t instanceof $d||t instanceof Qd)&&(e instanceof $d||e instanceof Qd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ap(t,e){return t=w(t),e=w(e),t instanceof Yd&&e instanceof Yd&&t.firestore===e.firestore&&Ro(t._query,e._query)&&t.converter===e.converter}var sp=(Object.defineProperty(up.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),up.prototype.enqueueAndForget=function(t){this.enqueue(t)},up.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},up.prototype.enterRestrictedMode=function(){var t;this.yc||(this.yc=!0,(t=df())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac))},up.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},up.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},up.prototype.vc=function(){return s(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!du(t=n.sent()))throw t;return Dr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.mc.length&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},up.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,Mr("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),t;var n,r}).then(function(t){return e.Tc=!1,t})});return this._c=n},up.prototype.enqueueAfterDelay=function(t,e,n){var r=this;return this.Rc(),-1<this.Ic.indexOf(t)&&(e=0),n=$f.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)}),this.gc.push(n),n},up.prototype.Rc=function(){this.Ec&&Lr()},up.prototype.verifyOperationInProgress=function(){},up.prototype.Vc=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},up.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},up.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},up.prototype.Cc=function(t){this.Ic.push(t)},up.prototype.Pc=function(t){t=this.gc.indexOf(t),this.gc.splice(t,1)},up);function up(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new bf(this,"async_queue_retry"),this.Ac=function(){var e=df();e&&Dr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=df();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}function cp(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var lp,fp=(pp.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},pp.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},pp.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},pp.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},pp.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},pp.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},pp),hp=(o(dp,lp=Xd),dp.prototype._terminate=function(){return this._firestoreClient||gp(this),this._firestoreClient.terminate()},dp);function dp(t,e){var n=this;return(n=lp.call(this,t,e)||this).type="firestore",n._queue=new sp,n._persistenceKey="name"in t?t.name:"[DEFAULT]",n}function pp(){this._progressObserver={},this._taskCompletionResolver=new eu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function vp(t){return t._firestoreClient||gp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gp(t){var e,n,r,i=t._freezeSettings(),i=(e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",r=t._persistenceKey,new kd(e,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling));t._firestoreClient=new ad(t._credentials,t._queue,i)}function mp(t,e,n){var r=this,i=new eu;return t.asyncQueue.enqueue(function(){return s(r,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,hd(t,n)];case 1:return o.sent(),[4,dd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===Ir.FAILED_PRECONDITION||a.code===Ir.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a})})}).then(function(){return i.promise})}function yp(t){if(t._initialized||t._terminated)throw new Rr(Ir.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bp=(Rp.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},Rp),wp=(Ip.fromBase64String=function(t){try{return new Ip(ii.fromBase64String(t))}catch(t){throw new Rr(Ir.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},Ip.fromUint8Array=function(t){return new Ip(ii.fromUint8Array(t))},Ip.prototype.toBase64=function(){return this._byteString.toBase64()},Ip.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Ip.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Ip.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},Ip),xp=function(t){this._methodName=t},Ep=(Object.defineProperty(Tp.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(Tp.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),Tp.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},Tp.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},Tp.prototype._compareTo=function(t){return zr(this._lat,t._lat)||zr(this._long,t._long)},Tp),_p=/^__.*__$/,kp=(Op.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ha(t,this.data,this.fieldMask,e,this.fieldTransforms):new fa(t,this.data,e,this.fieldTransforms)},Op),Sp=(Cp.prototype.toMutation=function(t,e){return new ha(t,this.data,this.fieldMask,e,this.fieldTransforms)},Cp);function Cp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Op(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Tp(t,e){if(!isFinite(t)||t<-90||90<t)throw new Rr(Ir.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Rr(Ir.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}function Ip(t){this._byteString=t}function Rp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(t)}function Ap(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Lr()}}var Pp=(Object.defineProperty(Mp.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Mp.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),Mp.prototype.Fc=function(t){return new Mp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},Mp.prototype.kc=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t),e=this.Fc({path:e,Oc:!1});return e.$c(t),e},Mp.prototype.Mc=function(t){var e,t=null===(e=this.path)||void 0===e?void 0:e.child(t),t=this.Fc({path:t,Oc:!1});return t.Nc(),t},Mp.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},Mp.prototype.Bc=function(t){return lv(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},Mp.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},Mp.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},Mp.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Ap(this.xc)&&_p.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},Mp),Np=(Dp.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Pp({xc:t,methodName:e,Uc:n,path:ni.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},Dp);function Dp(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||pf(t)}function Mp(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function jp(t){var e=t._freezeSettings(),n=pf(t._databaseId);return new Np(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fp(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);av("Data must be an object, but it was:",a,r);var s,u,r=iv(r,a);if(o.merge)s=new ri(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,f=o.mergeFields;l<f.length;l++){var h=sv(e,f[l],n);if(!a.contains(h))throw new Rr(Ir.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");fv(c,h)||c.push(h)}s=new ri(c),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new kp(new Ni(r),s,u)}var Lp,Bp=(o(Vp,Lp=xp),Vp.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},Vp.prototype.isEqual=function(t){return t instanceof Vp},Vp);function Vp(){return null!==Lp&&Lp.apply(this,arguments)||this}function Up(t,e,n){return new Pp({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var zp,Wp,qp,Hp,Gp=(o(Zp,Hp=xp),Zp.prototype._toFieldTransform=function(t){return new na(t.path,new Uo)},Zp.prototype.isEqual=function(t){return t instanceof Zp},Zp),Kp=(o(Jp,qp=xp),Jp.prototype._toFieldTransform=function(t){var e=Up(this,t,!0),n=this.Kc.map(function(t){return rv(t,e)}),n=new zo(n);return new na(t.path,n)},Jp.prototype.isEqual=function(t){return this===t},Jp),Xp=(o(Qp,Wp=xp),Qp.prototype._toFieldTransform=function(t){var e=Up(this,t,!0),n=this.Kc.map(function(t){return rv(t,e)}),n=new Ko(n);return new na(t.path,n)},Qp.prototype.isEqual=function(t){return this===t},Qp),$p=(o(Yp,zp=xp),Yp.prototype._toFieldTransform=function(t){var e=new Qo(t.R,Fo(t.R,this.jc));return new na(t.path,e)},Yp.prototype.isEqual=function(t){return this===t},Yp);function Yp(t,e){var n=this;return(n=zp.call(this,t)||this).jc=e,n}function Qp(t,e){var n=this;return(n=Wp.call(this,t)||this).Kc=e,n}function Jp(t,e){var n=this;return(n=qp.call(this,t)||this).Kc=e,n}function Zp(){return null!==Hp&&Hp.apply(this,arguments)||this}function tv(t,e,n,r){var i=t.Qc(1,e,n);av("Data must be an object, but it was:",i,r);var o=[],a=Ni.empty();return Yr(r,function(t,r){var s=cv(e,t,n);r=w(r),t=i.Mc(s),r instanceof Bp?o.push(s):null!=(t=rv(r,t))&&(o.push(s),a.set(s,t))}),r=new ri(o),new Sp(a,r,i.fieldTransforms)}function ev(t,e,n,r,i,o){var a=t.Qc(1,e,n),s=[sv(e,r,n)],u=[i];if(o.length%2!=0)throw new Rr(Ir.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(sv(e,o[c])),u.push(o[c+1]);for(var l,f,h,d=[],p=Ni.empty(),v=s.length-1;0<=v;--v)fv(d,s[v])||(l=s[v],f=w(f=u[v]),h=a.Mc(l),f instanceof Bp?d.push(l):null!=(h=rv(f,h))&&(d.push(l),p.set(l,h)));return i=new ri(d),new Sp(p,i,a.fieldTransforms)}function nv(t,e,n,r){return void 0===r&&(r=!1),rv(n,t.Qc(r?4:3,e))}function rv(t,e){if(ov(t=w(t)))return av("Unsupported field value:",e,t),iv(t,e);if(t instanceof xp)return function(t,e){if(!Ap(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");(t=t._toFieldTransform(e))&&e.fieldTransforms.push(t)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=rv(o[i],e.Lc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===(t=w(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fo(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Hr.fromDate(t);return{timestampValue:ss(e.R,n)}}if(t instanceof Hr)return n=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ss(e.R,n)};if(t instanceof Ep)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wp)return{bytesValue:us(e.R,t._byteString)};if(t instanceof $d){var n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ls(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+Wd(t))}(t,e)}function iv(t,e){var n={};return Qr(t)?e.path&&0<e.path.length&&e.fieldMask.push(e.path):Yr(t,function(t,r){null!=(r=rv(r,e.kc(t)))&&(n[t]=r)}),{mapValue:{fields:n}}}function ov(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hr||t instanceof Ep||t instanceof wp||t instanceof $d||t instanceof xp)}function av(t,e,n){if(!ov(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=Wd(n))?e.Bc(t+" a custom object"):e.Bc(t+" "+n);var r}function sv(t,e,n){if((e=w(e))instanceof bp)return e._internalPath;if("string"==typeof e)return cv(t,e);throw lv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var uv=new RegExp("[~\\*/\\[\\]]");function cv(t,e,n){if(0<=e.search(uv))throw lv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bp.bind.apply(bp,c([void 0],e.split(".")))))._internalPath}catch(r){throw lv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lv(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,e="Function "+e+"() called with invalid data";return n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new Rr(Ir.INVALID_ARGUMENT,(e+=". ")+t+n)}function fv(t,e){return t.some(function(t){return t.isEqual(e)})}var hv,dv=(Object.defineProperty(gv.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(gv.prototype,"ref",{get:function(){return new $d(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),gv.prototype.exists=function(){return null!==this._document},gv.prototype.data=function(){if(this._document){if(this._converter){var t=new pv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},gv.prototype.get=function(t){if(this._document&&null!==(t=this._document.data.field(mv("DocumentSnapshot.get",t))))return this._userDataWriter.convertValue(t)},gv),pv=(o(vv,hv=dv),vv.prototype.data=function(){return hv.prototype.data.call(this)},vv);function vv(){return null!==hv&&hv.apply(this,arguments)||this}function gv(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}function mv(t,e){return"string"==typeof e?cv(t,e):(e instanceof bp?e:e._delegate)._internalPath}var yv,bv,wv=(Ov.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Ov),xv=(o(Cv,bv=dv),Cv.prototype.exists=function(){return bv.prototype.exists.call(this)},Cv.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ev(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},Cv.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document&&null!==(t=this._document.data.field(mv("DocumentSnapshot.get",t))))return this._userDataWriter.convertValue(t,e.serverTimestamps)},Cv),Ev=(o(Sv,yv=xv),Sv.prototype.data=function(t){return void 0===t&&(t={}),yv.prototype.data.call(this,t)},Sv),_v=(Object.defineProperty(kv.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(kv.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(kv.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),kv.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Ev(n._firestore,n._userDataWriter,r.key,r,new wv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},kv.prototype.docChanges=function(t){if((t=!!(t=void 0===t?{}:t).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new Rr(Ir.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){var r=new Ev(t._firestore,t._userDataWriter,e.doc.key,e.doc,new wv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ev(t._firestore,t._userDataWriter,e.doc.key,e.doc,new wv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lr()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},kv);function kv(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wv(r.hasPendingWrites,r.fromCache),this.query=n}function Sv(){return null!==yv&&yv.apply(this,arguments)||this}function Cv(t,e,n,r,i,o){var a=this;return(a=bv.call(this,t,e,n,r,o)||this)._firestore=t,a._firestoreImpl=t,a.metadata=i,a}function Ov(t,e){this.hasPendingWrites=t,this.fromCache=e}function Tv(t,e){return t instanceof xv&&e instanceof xv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _v&&e instanceof _v&&t._firestore===e._firestore&&ap(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Iv(t){if(_o(t)&&0===t.explicitOrderBy.length)throw new Rr(Ir.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Rv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var Av,Pv,Nv,Dv,Mv,jv=(o(Hv,Mv=Oe=function(){}),Hv.prototype._apply=function(t){var e=jp(t.firestore),e=function(t,e,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){Xv(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(Kv(n,t,c))}l={arrayValue:{values:a}}}else l=Kv(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Xv(o,i),l=nv(e,"where",o,"in"===i||"not-in"===i);var l=Wi.create(r,i,l);return function(t,e){if(e.g()){var n=So(t);if(null!==n&&!n.isEqual(e.field))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=ko(t))&&$v(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new Rr(Ir.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Rr(Ir.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,l),l}(t._query,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new Yd(t.firestore,t.converter,(t=t._query,e=t.filters.concat([e]),new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},Hv),Fv=(o(qv,Dv=Oe),qv.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new go(e,n);return e=r,null!==ko(n=t)||null!==(t=So(n))&&$v(0,t,e.field),r}(t._query,this.Wc,this.Hc);return new Yd(t.firestore,t.converter,(t=t._query,e=t.explicitOrderBy.concat([e]),new bo(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},qv),Lv=(o(Wv,Nv=Oe),Wv.prototype._apply=function(t){return new Yd(t.firestore,t.converter,Io(t._query,this.Jc,this.Yc))},Wv),Bv=(o(zv,Pv=Oe),zv.prototype._apply=function(t){var e=Gv(t,this.type,this.Xc,this.Zc);return new Yd(t.firestore,t.converter,(t=t._query,e=e,new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},zv),Vv=(o(Uv,Av=Oe),Uv.prototype._apply=function(t){var e=Gv(t,this.type,this.Xc,this.Zc);return new Yd(t.firestore,t.converter,(t=t._query,e=e,new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},Uv);function Uv(t,e,n){var r=this;return(r=Av.call(this)||this).type=t,r.Xc=e,r.Zc=n,r}function zv(t,e,n){var r=this;return(r=Pv.call(this)||this).type=t,r.Xc=e,r.Zc=n,r}function Wv(t,e,n){var r=this;return(r=Nv.call(this)||this).type=t,r.Jc=e,r.Yc=n,r}function qv(t,e){var n=this;return(n=Dv.call(this)||this).Wc=t,n.Hc=e,n.type="orderBy",n}function Hv(t,e,n){var r=this;return(r=Mv.call(this)||this).Wc=t,r.Gc=e,r.zc=n,r.type="where",r}function Gv(t,e,n,r){if(n[0]=w(n[0]),n[0]instanceof dv)return function(t,n,r,i){if(!r)throw new Rr(Ir.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var o=[],a=0,s=Oo(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Oi(n,r.key));else{var c=r.data.field(u.field);if(pi(c))throw new Rr(Ir.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new Rr(Ir.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new co(o,i)}(t._query,t.firestore._databaseId,n[0]._document,r);var i=jp(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Rr(Ir.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Co(t)&&-1!==c.indexOf("/"))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ti.fromString(c));if(!bi.isDocumentKey(l))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new bi(l),s.push(Oi(e,l))}else c=nv(n,r,c),s.push(c)}return new co(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Kv(t,e,n){if("string"==typeof(n=w(n))){if(""===n)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Co(e)&&-1!==n.indexOf("/"))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(ti.fromString(n)),!bi.isDocumentKey(e))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Oi(t,new bi(e))}if(n instanceof $d)return Oi(t,n._key);throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wd(n)+".")}function Xv(t,e){if(!Array.isArray(t)||0===t.length)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $v(t,e,n){if(!n.isEqual(e))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Yv(){}function Qv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}Yv.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(di(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Lr()}},Yv.prototype.convertObject=function(t,e){var n=this,r={};return Yr(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},Yv.prototype.convertGeoPoint=function(t){return new Ep(hi(t.latitude),hi(t.longitude))},Yv.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},Yv.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){return pi(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(vi(t));default:return null}},Yv.prototype.convertTimestamp=function(t){return t=fi(t),new Hr(t.seconds,t.nanos)},Yv.prototype.convertDocumentKey=function(t,e){var n=ti.fromString(t);return Br(As(n)),t=new Sd(n.get(1),n.get(3)),n=new bi(n.popFirst(5)),t.isEqual(e)||Mr("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n};var Jv,Zv=(o(ng,Jv=S=Yv),ng.prototype.convertBytes=function(t){return new wp(t)},ng.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),new $d(this.firestore,null,t)},ng),tg=(eg.prototype.set=function(t,e,n){return this._verifyNotCommitted(),t=rg(t,this._firestore),e=Qv(t.converter,e,n),n=Fp(this._dataReader,"WriteBatch.set",t._key,e,null!==t.converter,n),this._mutations.push(n.toMutation(t._key,ra.none())),this},eg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),t=rg(t,this._firestore),e="string"==typeof(e=w(e))||e instanceof bp?ev(this._dataReader,"WriteBatch.update",t._key,e,n,r):tv(this._dataReader,"WriteBatch.update",t._key,e),this._mutations.push(e.toMutation(t._key,ra.exists(!0))),this},eg.prototype.delete=function(t){return this._verifyNotCommitted(),t=rg(t,this._firestore),this._mutations=this._mutations.concat(new Ea(t._key,ra.none())),this},eg.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},eg.prototype._verifyNotCommitted=function(){if(this._committed)throw new Rr(Ir.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},eg);function eg(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jp(t)}function ng(t){var e=this;return(e=Jv.call(this)||this).firestore=t,e}function rg(t,e){if((t=w(t)).firestore!==e)throw new Rr(Ir.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ig,og=(o(ag,ig=S),ag.prototype.convertBytes=function(t){return new wp(t)},ag.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),new $d(this.firestore,null,t)},ag);function ag(t){var e=this;return(e=ig.call(this)||this).firestore=t,e}function sg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=qd(t,$d);var o=qd(t.firestore,hp),a=jp(o);return cg(o,[("string"==typeof(e=w(e))||e instanceof bp?ev(a,"updateDoc",t._key,e,n,r):tv(a,"updateDoc",t._key,e)).toMutation(t._key,ra.exists(!0))])}function ug(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=w(t);var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||cp(e[i])||(r=e[i],i++);var o,a,c,l,f,h,d={includeMetadataChanges:r.includeMetadataChanges};return cp(e[i])&&(o=e[i],e[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),e[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),e[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),t instanceof $d?(c=qd(t.firestore,hp),l=xo(t._key.path),h={next:function(n){e[i]&&e[i](lg(c,t,n))},error:e[i+1],complete:e[i+2]}):(a=qd(t,Yd),c=qd(a.firestore,hp),l=a._query,f=new og(c),h={next:function(t){e[i]&&e[i](new _v(c,f,a,t))},error:e[i+1],complete:e[i+2]},Iv(t._query)),function(t,e,n){var r=this,i=new nd(h),o=new ch(e,i,n);return t.asyncQueue.enqueueAndForget(function(){return s(r,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=ah,[4,wd(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return s(r,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=sh,[4,wd(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(vp(c),l,d)}function cg(t,e){return function(t,e){var n=this,r=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return n=Oh,[4,bd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(vp(t),e)}function lg(t,e,n){var r=n.docs.get(e._key),i=new og(t);return new xv(t,i,e._key,r,new wv(n.hasPendingWrites,n.fromCache),e.converter)}var fg,hg=(pg.prototype.get=function(t){var e=this,n=rg(t,this._firestore),r=new Zv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Lr();if((t=t[0]).isFoundDocument())return new dv(e._firestore,r,t.key,t,n.converter);if(t.isNoDocument())return new dv(e._firestore,r,n._key,null,n.converter);throw Lr()})},pg.prototype.set=function(t,e,n){return t=rg(t,this._firestore),e=Qv(t.converter,e,n),n=Fp(this._dataReader,"Transaction.set",t._key,e,null!==t.converter,n),this._transaction.set(t._key,n),this},pg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t=rg(t,this._firestore),e="string"==typeof(e=w(e))||e instanceof bp?ev(this._dataReader,"Transaction.update",t._key,e,n,r):tv(this._dataReader,"Transaction.update",t._key,e),this._transaction.update(t._key,e),this},pg.prototype.delete=function(t){return t=rg(t,this._firestore),this._transaction.delete(t._key),this},o(dg,fg=pg),dg.prototype.get=function(t){var e=this,n=rg(t,this._firestore),r=new og(this._firestore);return fg.prototype.get.call(this,t).then(function(t){return new xv(e._firestore,r,n._key,t._document,new wv(!1,!1),n.converter)})},dg);function dg(t,e){var n=this;return(n=fg.call(this,t,e)||this)._firestore=t,n}function pg(t,e){this._firestore=t,this._transaction=e,this._dataReader=jp(t)}function vg(){if("undefined"==typeof Uint8Array)throw new Rr(Ir.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gg(){if("undefined"==typeof atob)throw new Rr(Ir.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mg,yg=(Sg.fromBase64String=function(t){return gg(),new Sg(wp.fromBase64String(t))},Sg.fromUint8Array=function(t){return vg(),new Sg(wp.fromUint8Array(t))},Sg.prototype.toBase64=function(){return gg(),this._delegate.toBase64()},Sg.prototype.toUint8Array=function(){return vg(),this._delegate.toUint8Array()},Sg.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},Sg.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Sg),bg=(kg.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){yp(t=qd(t,hp));var n=vp(t),r=t._freezeSettings(),t=new Yh;return mp(n,t,new Xh(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},kg.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){yp(t=qd(t,hp));var e=vp(t),n=t._freezeSettings(),t=new Yh;return mp(e,t,new $h(t,n.cacheSizeBytes))}(t._delegate)},kg.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Rr(Ir.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new eu;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return s(e,void 0,void 0,function(){var e;return u(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return iu.yt()?(e=t+"main",[4,iu.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(Hc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},kg),wg=(Object.defineProperty(_g.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),_g.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},_g.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=qd(t,Xd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){if(n=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0;if(!(e=t.sub||t.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return t=a({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:e,user_id:e,firebase:{sign_in_provider:"custom",identities:{}}},t),[l.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),l.encodeString(JSON.stringify(t),!1),""].join(".")}(r.mockUserToken),!(r=r.mockUserToken.sub||r.mockUserToken.user_id))throw new Rr(Ir.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Td(new _d(n,new Sl(r)))}}(this._delegate,t,e,n)},_g.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return s(e,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,gd(t)];case 1:return e=r.sent(),[4,yd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),(i=n).$r.delete(0),Rf(i))]}var i})})})}(vp(qd(this._delegate,hp)))},_g.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return s(e,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,gd(t)];case 1:return e=r.sent(),[4,yd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return(e=t).$r.add(0),[4,Af(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(vp(qd(this._delegate,hp)))},_g.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},_g.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},_g.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},_g.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(e,void 0,void 0,function(){var e;return u(this,function(r){switch(r.label){case 0:return e=Rh,[4,bd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(vp(qd(this._delegate,hp)))},_g.prototype.onSnapshotsInSync=function(t){return e=this._delegate,t=t,function(t,e){var n=this,r=new nd(e);return t.asyncQueue.enqueueAndForget(function(){return s(n,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,wd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return s(n,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,wd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(vp(qd(e,hp)),cp(t)?t:{next:t});var e},Object.defineProperty(_g.prototype,"app",{get:function(){if(!this.ea)throw new Rr(Ir.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),_g.prototype.collection=function(t){try{return new qg(this,rp(this._delegate,t))}catch(t){throw Dg(t,"collection()","Firestore.collection()")}},_g.prototype.doc=function(t){try{return new Pg(this,ip(this._delegate,t))}catch(t){throw Dg(t,"doc()","Firestore.doc()")}},_g.prototype.collectionGroup=function(t){try{return new Ug(this,function(t,e){if(t=qd(t,Xd),Ld("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new Rr(Ir.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yd(t,null,(e=e,new bo(ti.emptyPath(),e)))}(this._delegate,t))}catch(t){throw Dg(t,"collectionGroup()","Firestore.collectionGroup()")}},_g.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return[4,vd(t).then(function(t){return t.datastore})];case 1:return n=i.sent(),new od(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(vp(e=this._delegate),function(r){return r=new hg(e,r),t(new Cg(n,r))})},_g.prototype.batch=function(){var t=this;return vp(this._delegate),new Og(new tg(this._delegate,function(e){return cg(t._delegate,e)}))},_g.prototype.loadBundle=function(t){throw new Rr(Ir.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},_g.prototype.namedQuery=function(t){throw new Rr(Ir.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},_g),xg=(o(Eg,mg=S),Eg.prototype.convertBytes=function(t){return new yg(new wp(t))},Eg.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),Pg.na(t,this.firestore,null)},Eg);function Eg(t){var e=this;return(e=mg.call(this)||this).firestore=t,e}function _g(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Sd||(this.ea=t)}function kg(){}function Sg(t){this._delegate=t}var Cg=(Ag.prototype.get=function(t){var e=this,n=Qg(t);return this._delegate.get(n).then(function(t){return new Bg(e._firestore,new xv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},Ag.prototype.set=function(t,e,n){return t=Qg(t),n?(Bd("Transaction.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Ag.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Qg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,c([o,e,n],r)),this},Ag.prototype.delete=function(t){return t=Qg(t),this._delegate.delete(t),this},Ag),Og=(Rg.prototype.set=function(t,e,n){return t=Qg(t),n?(Bd("WriteBatch.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Rg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Qg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,c([o,e,n],r)),this},Rg.prototype.delete=function(t){return t=Qg(t),this._delegate.delete(t),this},Rg.prototype.commit=function(){return this._delegate.commit()},Rg),Tg=(Ig.prototype.fromFirestore=function(t,e){return t=new Ev(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null),this._delegate.fromFirestore(new Vg(this._firestore,t),null!=e?e:{})},Ig.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},Ig.sa=function(t,e){var n=Ig.ia,r=n.get(t);return r||(r=new WeakMap,n.set(t,r)),(n=r.get(e))||(n=new Ig(t,new xg(t),e),r.set(e,n)),n},Ig);function Ig(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}function Rg(t){this._delegate=t}function Ag(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xg(t)}Tg.ia=new WeakMap;var Pg=(Ng.ra=function(t,e,n){if(t.length%2!=0)throw new Rr(Ir.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Ng(e,new $d(e._delegate,n,new bi(t)))},Ng.na=function(t,e,n){return new Ng(e,new $d(e._delegate,n,t))},Object.defineProperty(Ng.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Ng.prototype,"parent",{get:function(){return new qg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Ng.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Ng.prototype.collection=function(t){try{return new qg(this.firestore,rp(this._delegate,t))}catch(t){throw Dg(t,"collection()","DocumentReference.collection()")}},Ng.prototype.isEqual=function(t){return(t=w(t))instanceof $d&&op(this._delegate,t)},Ng.prototype.set=function(t,e){e=Bd("DocumentReference.set",e);try{return function(t,e,n){t=qd(t,$d);var r=qd(t.firestore,hp),e=Qv(t.converter,e,n);return cg(r,[Fp(jp(r),"setDoc",t._key,e,null!==t.converter,n).toMutation(t._key,ra.none())])}(this._delegate,t,e)}catch(t){throw Dg(t,"setDoc()","DocumentReference.set()")}},Ng.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sg(this._delegate,t):sg.apply(void 0,c([this._delegate,t,e],n))}catch(t){throw Dg(t,"updateDoc()","DocumentReference.update()")}},Ng.prototype.delete=function(){return cg(qd((t=this._delegate).firestore,hp),[new Ea(t._key,ra.none())]);var t},Ng.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Mg(e),i=jg(e,function(e){return new Bg(t.firestore,new xv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return ug(this._delegate,r,i)},Ng.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qd(t,$d);var e=qd(t.firestore,hp),n=vp(e),r=new og(e);return function(t,e){var n=this,r=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,(s=t).persistence.runTransaction("read document","readonly",function(t){return s.Mn.mn(t,a)}))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Rr(Ir.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Qf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s})})},[4,md(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xv(e,r,t._key,n,new wv(null!==n&&n.hasLocalMutations,!0),t.converter)})}:"server"===(null==t?void 0:t.source)?function(t){t=qd(t,$d);var e=qd(t.firestore,hp);return xd(vp(e),t._key,{source:"server"}).then(function(n){return lg(e,t,n)})}:function(t){t=qd(t,$d);var e=qd(t.firestore,hp);return xd(vp(e),t._key).then(function(n){return lg(e,t,n)})})(this._delegate).then(function(t){return new Bg(e.firestore,new xv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},Ng.prototype.withConverter=function(t){return new Ng(this.firestore,t?this._delegate.withConverter(Tg.sa(this.firestore,t)):this._delegate.withConverter(null))},Ng);function Ng(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xg(t)}function Dg(t,e,n){return t.message=t.message.replace(e,n),t}function Mg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!cp(r))return r}return{}}function jg(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=cp(t[0])?t[0]:cp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var Fg,Lg,Bg=(Object.defineProperty(Yg.prototype,"ref",{get:function(){return new Pg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(Yg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Yg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Yg.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),Yg.prototype.data=function(t){return this._delegate.data(t)},Yg.prototype.get=function(t,e){return this._delegate.get(t,e)},Yg.prototype.isEqual=function(t){return Tv(this._delegate,t._delegate)},Yg),Vg=(o($g,Lg=Bg),$g.prototype.data=function(t){return this._delegate.data(t)},$g),Ug=(Xg.prototype.where=function(t,e,n){try{return new Xg(this.firestore,Rv(this._delegate,(r=n,i=e,o=mv("where",t),new jv(o,i,r))))}catch(t){throw Dg(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},Xg.prototype.orderBy=function(t,e){try{return new Xg(this.firestore,Rv(this._delegate,(n=void 0===e?"asc":e,r=mv("orderBy",t),new Fv(r,n))))}catch(t){throw Dg(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},Xg.prototype.limit=function(t){try{return new Xg(this.firestore,Rv(this._delegate,(Hd("limit",e=t),new Lv("limit",e,"F"))))}catch(t){throw Dg(t,"limit()","Query.limit()")}var e},Xg.prototype.limitToLast=function(t){try{return new Xg(this.firestore,Rv(this._delegate,(Hd("limitToLast",e=t),new Lv("limitToLast",e,"L"))))}catch(t){throw Dg(t,"limitToLast()","Query.limitToLast()")}var e},Xg.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,Rv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Dg(t,"startAt()","Query.startAt()")}},Xg.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,Rv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Dg(t,"startAfter()","Query.startAfter()")}},Xg.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,Rv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Dg(t,"endBefore()","Query.endBefore()")}},Xg.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,Rv(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vv("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Dg(t,"endAt()","Query.endAt()")}},Xg.prototype.isEqual=function(t){return ap(this._delegate,t._delegate)},Xg.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qd(t,Yd);var e=qd(t.firestore,hp),n=vp(e),r=new og(e);return function(t,e){var n=this,r=new eu;return t.asyncQueue.enqueueAndForget(function(){return s(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return s(this,void 0,void 0,function(){var r,i,o;return u(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,cl(t,e,!0)];case 1:return o=a.sent(),r=new wh(e,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=Qf(i,"Failed to execute query '"+e+" against cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,md(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new _v(e,r,t,n)})}:"server"===(null==t?void 0:t.source)?function(t){t=qd(t,Yd);var e=qd(t.firestore,hp),n=vp(e),r=new og(e);return Ed(n,t._query,{source:"server"}).then(function(n){return new _v(e,r,t,n)})}:function(t){t=qd(t,Yd);var e=qd(t.firestore,hp),n=vp(e),r=new og(e);return Iv(t._query),Ed(n,t._query).then(function(n){return new _v(e,r,t,n)})})(this._delegate).then(function(t){return new Wg(e.firestore,new _v(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},Xg.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Mg(e),i=jg(e,function(e){return new Wg(t.firestore,new _v(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return ug(this._delegate,r,i)},Xg.prototype.withConverter=function(t){return new Xg(this.firestore,t?this._delegate.withConverter(Tg.sa(this.firestore,t)):this._delegate.withConverter(null))},Xg),zg=(Object.defineProperty(Kg.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"doc",{get:function(){return new Vg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),Kg),Wg=(Object.defineProperty(Gg.prototype,"query",{get:function(){return new Ug(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Vg(t._firestore,e)})},enumerable:!1,configurable:!0}),Gg.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new zg(e._firestore,t)})},Gg.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Vg(n._firestore,r))})},Gg.prototype.isEqual=function(t){return Tv(this._delegate,t._delegate)},Gg),qg=(o(Hg,Fg=Ug),Object.defineProperty(Hg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Hg.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(Hg.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Pg(this.firestore,t):null},enumerable:!1,configurable:!0}),Hg.prototype.doc=function(t){try{return new Pg(this.firestore,void 0===t?ip(this._delegate):ip(this._delegate,t))}catch(t){throw Dg(t,"doc()","CollectionReference.doc()")}},Hg.prototype.add=function(t){var e,n,r,i=this;return e=this._delegate,n=t,t=qd(e.firestore,hp),r=ip(e),n=Qv(e.converter,n),cg(t,[Fp(jp(e.firestore),"addDoc",r._key,n,null!==e.converter,{}).toMutation(r._key,ra.exists(!1))]).then(function(){return r}).then(function(t){return new Pg(i.firestore,t)})},Hg.prototype.isEqual=function(t){return op(this._delegate,t._delegate)},Hg.prototype.withConverter=function(t){return new Hg(this.firestore,t?this._delegate.withConverter(Tg.sa(this.firestore,t)):this._delegate.withConverter(null))},Hg);function Hg(t,e){var n=this;return(n=Fg.call(this,t,e)||this).firestore=t,n._delegate=e,n}function Gg(t,e){this._firestore=t,this._delegate=e}function Kg(t,e){this._firestore=t,this._delegate=e}function Xg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xg(t)}function $g(){return null!==Lg&&Lg.apply(this,arguments)||this}function Yg(t,e){this._firestore=t,this._delegate=e}function Qg(t){return qd(t,$d)}function Jg(t){this._delegate=t}function Zg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(bp.bind.apply(bp,c([void 0],t)))}Zg.documentId=function(){return new Zg(ni.keyField().canonicalString())},Zg.prototype.isEqual=function(t){return(t=w(t))instanceof bp&&this._delegate._internalPath.isEqual(t._internalPath)},Oe=Zg,Jg.serverTimestamp=function(){var t=new Gp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Jg(t)},Jg.delete=function(){var t=new Bp("deleteField");return t._methodName="FieldValue.delete",new Jg(t)},Jg.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kp("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new Jg(n)},Jg.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xp("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new Jg(n)},Jg.increment=function(t){return(t=new $p("increment",t))._methodName="FieldValue.increment",new Jg(t)},Jg.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},S=Jg;var tm=(em.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},em.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},em.prototype.setServiceProps=function(t){return this.serviceProps=t,this},em.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},em);function em(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var nm,rm,im={Firestore:wg,GeoPoint:Ep,Timestamp:Hr,Blob:yg,Transaction:Cg,WriteBatch:Og,DocumentReference:Pg,DocumentSnapshot:Bg,Query:Ug,QueryDocumentSnapshot:Vg,QuerySnapshot:Wg,CollectionReference:qg,FieldPath:Oe,FieldValue:S,setLogLevel:function(t){Ar.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(nm=r.default).INTERNAL.registerComponent(new tm("firestore",function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new wg(e,new hp(e,t),new bg)},"PUBLIC").setServiceProps(Object.assign({},im))),nm.registerVersion("@firebase/firestore","2.3.1"),(rm=wg).prototype.loadBundle=function(t){return e=this._delegate,n=t,r=vp(e=qd(e,hp)),t=new fp,function(t,e,r){var i,o=this,a=(i=n,e=pf(e),i=function(t){if(t instanceof Uint8Array)return ed(t,void 0);if(t instanceof ArrayBuffer)return ed(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new rd(i,e));t.asyncQueue.enqueueAndForget(function(){return s(o,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=qh,[4,bd(t)];case 1:return e.apply(void 0,[n.sent(),a,r]),[2]}})})})}(r,e._databaseId,t),t;var e,n,r},rm.prototype.namedQuery=function(t){var e=this,n=this._delegate,t=t;return function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return s(n,void 0,void 0,function(){var n;return u(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Qe.getNamedQuery(t,e)})},[4,md(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(vp(n=qd(n,hp)),t).then(function(t){return t?new Yd(n,null,t.query):null}).then(function(t){return t?new Ug(e,t):null})}}).apply(this,arguments)}catch(r){throw console.error(r),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}}(n(11))}).call(this,n(33),n(82))},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";(function(t){var r=n(262),i=n(263),o=n(264);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return z(V(e,t.length-n),t,n,r)}function w(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return z(U(e),t,n,r)}function _(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return o||M(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||M(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:V(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(33))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(266),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(33))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(33),n(82))},,,,function(t,e){},function(t,e,n){"use strict";var r=n(8),i=n(162),o=n(272),a=n(168);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(n(165));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n(169),u.CancelToken=n(285),u.isCancel=n(164),u.all=function(t){return Promise.all(t)},u.spread=n(286),u.isAxiosError=n(287),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(8),i=n(163),o=n(273),a=n(274),s=n(168);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}}),t.exports=u},function(t,e,n){"use strict";var r=n(8);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(8),i=n(275),o=n(164),a=n(165);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(167);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(8);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(281),i=n(282);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(8),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(8);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(169);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},function(t,e,n){var r=n(136),i=n(172),o=n(317),a=n(319),s=n(38),u=n(180),c=n(177);t.exports=function t(e,n,l,f,h){e!==n&&o(n,function(o,u){if(h||(h=new r),s(o))a(e,n,u,l,t,f,h);else{var d=f?f(c(e,u),o,u+"",e,n,h):void 0;void 0===d&&(d=o),i(e,u,d)}},u)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(87),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(87);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(87);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(87);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(86);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(86),i=n(137),o=n(139),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(138),i=n(302),o=n(38),a=n(171),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(88),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(303),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(34)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(306),i=n(86),o=n(137);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(307),i=n(308),o=n(309),a=n(310),s=n(311);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(89);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(89),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(89),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(89),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(90);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(90);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(90);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(90);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(318)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(172),i=n(320),o=n(321),a=n(323),s=n(324),u=n(142),c=n(39),l=n(327),f=n(144),h=n(138),d=n(38),p=n(329),v=n(145),g=n(177),m=n(333);t.exports=function(t,e,n,y,b,w,x){var E=g(t,n),_=g(e,n),k=x.get(_);if(k)r(t,n,k);else{var S=w?w(E,_,n+"",t,e,x):void 0,C=void 0===S;if(C){var O=c(_),T=!O&&f(_),I=!O&&!T&&v(_);S=_,O||T||I?c(E)?S=E:l(E)?S=a(E):T?(C=!1,S=i(_,!0)):I?(C=!1,S=o(_,!0)):S=[]:p(_)||u(_)?(S=E,u(E)?S=m(E):d(E)&&!h(E)||(S=s(_))):C=!1}C&&(x.set(_,S),b(S,_,y,w,x),x.delete(_)),r(t,n,S)}}},function(t,e,n){(function(t){var r=n(34),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(141)(t))},function(t,e,n){var r=n(322);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(174);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(325),i=n(175),o=n(91);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(38),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(67),i=n(57),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(68),i=n(57);t.exports=function(t){return i(t)&&r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(67),i=n(175),o=n(57),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(67),i=n(143),o=n(57),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(170),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(141)(t))},function(t,e,n){var r=n(178),i=n(180);t.exports=function(t){return r(t,i(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(38),i=n(91),o=n(336),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(147),i=n(338),o=n(340);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(339),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(341),i=n(343)(r);t.exports=i},function(t,e,n){var r=n(342),i=n(173),o=n(147),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(83),i=n(68),o=n(146),a=n(38);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(91),i=n(346),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(176)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(183),i=n(68),o=n(92);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(349),i=n(371),o=n(187);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(136),i=n(184),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var h=(f=n[u])[0],d=t[h],p=f[1];if(l&&f[2]){if(void 0===d&&!(h in t))return!1}else{var v=new r;if(s)var g=s(d,p,h,t,e,v);if(!(void 0===g?i(p,d,o|a,s,v):g))return!1}}return!0}},function(t,e,n){var r=n(136),i=n(185),o=n(356),a=n(359),s=n(366),u=n(39),c=n(144),l=n(145),f=1,h="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,y){var b=u(t),w=u(e),x=b?d:s(t),E=w?d:s(e),_=(x=x==h?p:x)==p,k=(E=E==h?p:E)==p,S=x==E;if(S&&c(t)){if(!c(e))return!1;b=!0,_=!1}if(S&&!_)return y||(y=new r),b||l(t)?i(t,e,n,g,m,y):o(t,e,x,n,g,m,y);if(!(n&f)){var C=_&&v.call(t,"__wrapped__"),O=k&&v.call(e,"__wrapped__");if(C||O){var T=C?t.value():t,I=O?e.value():e;return y||(y=new r),m(T,I,n,g,y)}}return!!S&&(y||(y=new r),a(t,e,n,g,m,y))}},function(t,e,n){var r=n(139),i=n(352),o=n(353);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(88),i=n(174),o=n(83),a=n(185),s=n(357),u=n(358),c=1,l=2,f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",E=r?r.prototype:void 0,_=E?E.valueOf:void 0;t.exports=function(t,e,n,r,E,k,S){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!k(new i(t),new i(e)));case f:case h:case v:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case p:var C=s;case m:var O=r&c;if(C||(C=u),t.size!=e.size&&!O)return!1;var T=S.get(t);if(T)return T==e;r|=l,S.set(t,e);var I=a(C(t),C(e),r,E,k,S);return S.delete(t),I;case b:if(_)return _.call(t)==_.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(360),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var h=f;h--;){var d=l[h];if(!(c?d in e:o.call(e,d)))return!1}var p=u.get(t),v=u.get(e);if(p&&v)return p==e&&v==t;var g=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<f;){var y=t[d=l[h]],b=e[d];if(a)var w=c?a(b,y,d,e,t,u):a(y,b,d,t,e,u);if(!(void 0===w?y===b||s(y,b,n,a,u):w)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var x=t.constructor,E=e.constructor;x!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(361),i=n(363),o=n(92);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(362),i=n(39);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(364),i=n(365),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(367),i=n(137),o=n(368),a=n(369),s=n(370),u=n(67),c=n(171),l=c(r),f=c(i),h=c(o),d=c(a),p=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(56)(n(34),"DataView");t.exports=r},function(t,e,n){var r=n(56)(n(34),"Promise");t.exports=r},function(t,e,n){var r=n(56)(n(34),"Set");t.exports=r},function(t,e,n){var r=n(56)(n(34),"WeakMap");t.exports=r},function(t,e,n){var r=n(186),i=n(92);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(184),i=n(373),o=n(380),a=n(148),s=n(186),u=n(187),c=n(94),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|f)}}},function(t,e,n){var r=n(188);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(375),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e,n){var r=n(376),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(139),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(378);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(88),i=n(379),o=n(39),a=n(93),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(381),i=n(382);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(189),i=n(142),o=n(39),a=n(146),s=n(143),u=n(94);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(384),i=n(385),o=n(148),a=n(94);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(188);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(387),i=n(183),o=n(388),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(389);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(390),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(391),i=n(38),o=n(93),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?a:+t}},function(t,e,n){var r=n(392),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){"use strict";var r=n(21),i=n(5),o=n(100),a=n(2),s=["xs","sm","md","lg","xl"];function u(t,e,n){var i;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({paddingLeft:e(2),paddingRight:e(2)},n,Object(r.a)({},t.up("sm"),Object(a.a)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,t.up("sm"),{minHeight:64}),i)},n)}var c=n(109),l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},d={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(49),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(t,e,n,r){var i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=Object(y.e)(t.main,i):"dark"===e&&(t.dark=Object(y.a)(t.main,o)))}function E(t){return Math.round(1e5*t)/1e5}var _={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function S(t,e){var n="function"===typeof e?e(t):e,r=n.fontFamily,s=void 0===r?k:r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,g=n.fontWeightBold,m=void 0===g?700:g,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,x=n.pxToRem,S=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var C=c/14,O=x||function(t){return"".concat(t/b*C,"rem")},T=function(t,e,n,r,i){return Object(a.a)({fontFamily:s,fontWeight:t,fontSize:O(e),lineHeight:n},s===k?{letterSpacing:"".concat(E(r/e),"em")}:{},i,w)},I={h1:T(f,96,1.167,-1.5),h2:T(f,60,1.2,-.5),h3:T(d,48,1.167,0),h4:T(d,34,1.235,.25),h5:T(d,24,1.334,0),h6:T(v,20,1.6,.15),subtitle1:T(d,16,1.75,.15),subtitle2:T(v,14,1.57,.1),body1:T(d,16,1.5,.15),body2:T(d,14,1.43,.15),button:T(v,14,1.75,.4,_),caption:T(d,12,1.66,.4),overline:T(d,12,2.66,1,_)};return Object(o.a)(Object(a.a)({htmlFontSize:b,pxToRem:O,round:E,fontFamily:s,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},I),S,{clone:!1})}var C=.2,O=.14,T=.12;function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(C,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(O,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(T,")")].join(",")}var R=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],A={borderRadius:4},P=n(71);var N=n(59),D=n(112);e.a=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,r=t.mixins,E=void 0===r?{}:r,_=t.palette,k=void 0===_?{}:_,C=t.spacing,O=t.typography,T=void 0===O?{}:O,I=Object(i.a)(t,["breakpoints","mixins","palette","spacing","typography"]),M=function(t){var e=t.primary,n=void 0===e?{light:h[300],main:h[500],dark:h[700]}:e,r=t.secondary,s=void 0===r?{light:d.A200,main:d.A400,dark:d.A700}:r,u=t.error,E=void 0===u?{light:p[300],main:p[500],dark:p[700]}:u,_=t.warning,k=void 0===_?{light:v[300],main:v[500],dark:v[700]}:_,S=t.info,C=void 0===S?{light:g[300],main:g[500],dark:g[700]}:S,O=t.success,T=void 0===O?{light:m[300],main:m[500],dark:m[700]}:O,I=t.type,R=void 0===I?"light":I,A=t.contrastThreshold,P=void 0===A?3:A,N=t.tonalOffset,D=void 0===N?.2:N,M=Object(i.a)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function j(t){return Object(y.d)(t,w.text.primary)>=P?w.text.primary:b.text.primary}var F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=Object(a.a)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error(Object(c.a)(4,e));if("string"!==typeof t.main)throw new Error(Object(c.a)(5,JSON.stringify(t.main)));return x(t,"light",n,D),x(t,"dark",r,D),t.contrastText||(t.contrastText=j(t.main)),t},L={dark:w,light:b};return Object(o.a)(Object(a.a)({common:l,type:R,primary:F(n),secondary:F(s,"A400","A200","A700"),error:F(E),warning:F(k),info:F(C),success:F(T),grey:f,contrastThreshold:P,getContrastText:j,augmentColor:F,tonalOffset:D},L[R]),M)}(k),j=function(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,o=void 0===r?"px":r,u=t.step,c=void 0===u?5:u,l=Object(i.a)(t,["values","unit","step"]);function f(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(o,")")}function h(t,e){var r=s.indexOf(e);return r===s.length-1?f(t):"@media (min-width:".concat("number"===typeof n[t]?n[t]:t).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:e)-c/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:f,down:function(t){var e=s.indexOf(t)+1,r=n[s[e]];return e===s.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&e>0?r:t)-c/100).concat(o,")")},between:h,only:function(t){return h(t,t)},width:function(t){return n[t]}},l)}(n),F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=Object(P.a)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map(function(t){if("string"===typeof t)return t;var n=e(t);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(C),L=Object(o.a)({breakpoints:j,direction:"ltr",mixins:u(j,F,E),overrides:{},palette:M,props:{},shadows:R,typography:S(M,T),spacing:F,shape:A,transitions:N.a,zIndex:D.a},I),B=arguments.length,V=new Array(B>1?B-1:0),U=1;U<B;U++)V[U-1]=arguments[U];return L=V.reduce(function(t,e){return Object(o.a)(t,e)},L)}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(0),a=(n(4),n(6)),s=n(7),u=o.forwardRef(function(t,e){var n=t.classes,s=t.className,u=t.component,c=void 0===u?"div":u,l=t.square,f=void 0!==l&&l,h=t.elevation,d=void 0===h?1:h,p=t.variant,v=void 0===p?"elevation":p,g=Object(r.a)(t,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(i.a)({className:Object(a.a)(n.root,s,"outlined"===v?n.outlined:n["elevation".concat(d)],!f&&n.rounded),ref:e},g))});e.a=Object(s.a)(function(t){var e={};return t.shadows.forEach(function(t,n){e["elevation".concat(n)]={boxShadow:t}}),Object(i.a)({root:{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},rounded:{borderRadius:t.shape.borderRadius},outlined:{border:"1px solid ".concat(t.palette.divider)}},e)},{name:"MuiPaper"})(u)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=n(9),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=o.forwardRef(function(t,e){var n=t.align,s=void 0===n?"inherit":n,l=t.classes,f=t.className,h=t.color,d=void 0===h?"initial":h,p=t.component,v=t.display,g=void 0===v?"initial":v,m=t.gutterBottom,y=void 0!==m&&m,b=t.noWrap,w=void 0!==b&&b,x=t.paragraph,E=void 0!==x&&x,_=t.variant,k=void 0===_?"body1":_,S=t.variantMapping,C=void 0===S?c:S,O=Object(i.a)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),T=p||(E?"p":C[k]||c[k])||"span";return o.createElement(T,Object(r.a)({className:Object(a.a)(l.root,f,"inherit"!==k&&l[k],"initial"!==d&&l["color".concat(Object(u.a)(d))],w&&l.noWrap,y&&l.gutterBottom,E&&l.paragraph,"inherit"!==s&&l["align".concat(Object(u.a)(s))],"initial"!==g&&l["display".concat(Object(u.a)(g))]),ref:e},O))});e.a=Object(s.a)(function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(l)},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(0),a=(n(4),n(6)),s=n(7),u=n(49),c=n(431),l=n(9),f=o.forwardRef(function(t,e){var n=t.children,s=t.classes,u=t.className,f=t.color,h=void 0===f?"default":f,d=t.component,p=void 0===d?"button":d,v=t.disabled,g=void 0!==v&&v,m=t.disableElevation,y=void 0!==m&&m,b=t.disableFocusRipple,w=void 0!==b&&b,x=t.endIcon,E=t.focusVisibleClassName,_=t.fullWidth,k=void 0!==_&&_,S=t.size,C=void 0===S?"medium":S,O=t.startIcon,T=t.type,I=void 0===T?"button":T,R=t.variant,A=void 0===R?"text":R,P=Object(r.a)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=O&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(C))])},O),D=x&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(C))])},x);return o.createElement(c.a,Object(i.a)({className:Object(a.a)(s.root,s[A],u,"inherit"===h?s.colorInherit:"default"!==h&&s["".concat(A).concat(Object(l.a)(h))],"medium"!==C&&[s["".concat(A,"Size").concat(Object(l.a)(C))],s["size".concat(Object(l.a)(C))]],y&&s.disableElevation,g&&s.disabled,k&&s.fullWidth),component:p,disabled:g,focusRipple:!w,focusVisibleClassName:Object(a.a)(s.focusVisible,E),ref:e,type:I},P),o.createElement("span",{className:s.label},N,n,D))});e.a=Object(s.a)(function(t){return{root:Object(i.a)({},t.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.c)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(t.palette.action.disabledBackground)}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(Object(u.c)(t.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.primary.main),backgroundColor:Object(u.c)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(Object(u.c)(t.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.secondary.main),backgroundColor:Object(u.c)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(t.palette.action.disabled)}},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&:hover":{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},{name:"MuiButton"})(f)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(4),a=n.n(o),s=n(42),u=n.n(s),c=n(131),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var h=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},d=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,t.call.apply(t,[this].concat(o))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!h(t)){t.preventDefault();var e=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?e.replace(o):e.push(o)}},f(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==e,'You must specify the "to" property');var o=this.context.router.history,a="string"===typeof e?Object(c.b)(e,null,null,o.location):e,s=o.createHref(a);return i.a.createElement("a",l({},r,{onClick:this.handleClick,href:s,ref:n}))},e}(i.a.Component);d.propTypes={onClick:a.a.func,target:a.a.string,replace:a.a.bool,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired,innerRef:a.a.oneOfType([a.a.string,a.a.func])},d.defaultProps={replace:!1},d.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired,createHref:a.a.func.isRequired}).isRequired}).isRequired},e.a=d},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(440),u=n(7),c=o.forwardRef(function(t,e){var n=t.disableUnderline,u=t.classes,c=t.fullWidth,l=void 0!==c&&c,f=t.inputComponent,h=void 0===f?"input":f,d=t.multiline,p=void 0!==d&&d,v=t.type,g=void 0===v?"text":v,m=Object(i.a)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(a.a)(u.root,!n&&u.underline),underline:null}),fullWidth:l,inputComponent:h,multiline:p,ref:e,type:g},m))});c.muiName="Input",e.a=Object(u.a)(function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(e),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(t.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(e)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},{name:"MuiInput"})(c)},function(t,e,n){"use strict";var r=n(2),i=n(37),o=n(5),a=n(0),s=(n(4),n(442)),u=n(52),c=n(60),l=n(10);function f(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var h={entering:{opacity:1,transform:f(1)},entered:{opacity:1,transform:"none"}},d=a.forwardRef(function(t,e){var n=t.children,d=t.disableStrictModeCompat,p=void 0!==d&&d,v=t.in,g=t.onEnter,m=t.onEntered,y=t.onEntering,b=t.onExit,w=t.onExited,x=t.onExiting,E=t.style,_=t.timeout,k=void 0===_?"auto":_,S=t.TransitionComponent,C=void 0===S?s.a:S,O=Object(o.a)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),T=a.useRef(),I=a.useRef(),R=Object(u.a)(),A=R.unstable_strictMode&&!p,P=a.useRef(null),N=Object(l.a)(n.ref,e),D=Object(l.a)(A?P:void 0,N),M=function(t){return function(e,n){if(t){var r=A?[P.current,e]:[e,n],o=Object(i.a)(r,2),a=o[0],s=o[1];void 0===s?t(a):t(a,s)}}},j=M(y),F=M(function(t,e){Object(c.b)(t);var n,r=Object(c.a)({style:E,timeout:k},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===k?(n=R.transitions.getAutoHeightDuration(t.clientHeight),I.current=n):n=i,t.style.transition=[R.transitions.create("opacity",{duration:n,delay:o}),R.transitions.create("transform",{duration:.666*n,delay:o})].join(","),g&&g(t,e)}),L=M(m),B=M(x),V=M(function(t){var e,n=Object(c.a)({style:E,timeout:k},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===k?(e=R.transitions.getAutoHeightDuration(t.clientHeight),I.current=e):e=r,t.style.transition=[R.transitions.create("opacity",{duration:e,delay:i}),R.transitions.create("transform",{duration:.666*e,delay:i||.333*e})].join(","),t.style.opacity="0",t.style.transform=f(.75),b&&b(t)}),U=M(w);return a.useEffect(function(){return function(){clearTimeout(T.current)}},[]),a.createElement(C,Object(r.a)({appear:!0,in:v,nodeRef:A?P:void 0,onEnter:F,onEntered:L,onEntering:j,onExit:V,onExited:U,onExiting:B,addEndListener:function(t,e){var n=A?t:e;"auto"===k&&(T.current=setTimeout(n,I.current||0))},timeout:"auto"===k?null:k},O),function(t,e){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:f(.75),visibility:"exited"!==t||v?void 0:"hidden"},h[t],E,n.props.style),ref:D},e))})});d.muiSupportAuto=!0,e.a=d},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=n(49),c=n(431),l=n(9),f=o.forwardRef(function(t,e){var n=t.edge,s=void 0!==n&&n,u=t.children,f=t.classes,h=t.className,d=t.color,p=void 0===d?"default":d,v=t.disabled,g=void 0!==v&&v,m=t.disableFocusRipple,y=void 0!==m&&m,b=t.size,w=void 0===b?"medium":b,x=Object(i.a)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(c.a,Object(r.a)({className:Object(a.a)(f.root,h,"default"!==p&&f["color".concat(Object(l.a)(p))],g&&f.disabled,"small"===w&&f["size".concat(Object(l.a)(w))],{start:f.edgeStart,end:f.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:g,ref:e},x),o.createElement("span",{className:f.label},u))});e.a=Object(s.a)(function(t){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(u.c)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:t.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:t.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},{name:"MuiIconButton"})(f)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(431),u=n(422),c=n(7),l=n(126),f=o.forwardRef(function(t,e){var n=t.children,c=t.classes,f=t.className,h=t.expandIcon,d=t.IconButtonProps,p=t.onBlur,v=t.onClick,g=t.onFocusVisible,m=Object(i.a)(t,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),y=o.useState(!1),b=y[0],w=y[1],x=o.useContext(l.a),E=x.disabled,_=void 0!==E&&E,k=x.expanded,S=x.toggle;return o.createElement(s.a,Object(r.a)({focusRipple:!1,disableRipple:!0,disabled:_,component:"div","aria-expanded":k,className:Object(a.a)(c.root,f,_&&c.disabled,k&&c.expanded,b&&c.focused),onFocusVisible:function(t){w(!0),g&&g(t)},onBlur:function(t){w(!1),p&&p(t)},onClick:function(t){S&&S(t),v&&v(t)},ref:e},m),o.createElement("div",{className:Object(a.a)(c.content,k&&c.expanded)},n),h&&o.createElement(u.a,Object(r.a)({className:Object(a.a)(c.expandIcon,k&&c.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},d),h))});e.a=Object(c.a)(function(t){var e={duration:t.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:t.transitions.create(["min-height","background-color"],e),padding:t.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:t.palette.action.focus},"&$disabled":{opacity:t.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:t.transitions.create(["margin"],e),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:t.transitions.create("transform",e),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},{name:"MuiAccordionSummary"})(f)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=o.forwardRef(function(t,e){var n=t.classes,s=t.className,u=Object(i.a)(t,["classes","className"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s),ref:e},u))});e.a=Object(s.a)(function(t){return{root:{display:"flex",padding:t.spacing(1,2,2)}}},{name:"MuiAccordionDetails"})(u)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(416),u=n(7),c=o.forwardRef(function(t,e){var n=t.classes,u=t.className,c=t.raised,l=void 0!==c&&c,f=Object(i.a)(t,["classes","className","raised"]);return o.createElement(s.a,Object(r.a)({className:Object(a.a)(n.root,u),elevation:l?8:1,ref:e},f))});e.a=Object(u.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(c)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=o.forwardRef(function(t,e){var n=t.classes,s=t.className,u=t.component,c=void 0===u?"div":u,l=Object(i.a)(t,["classes","className","component"]);return o.createElement(c,Object(r.a)({className:Object(a.a)(n.root,s),ref:e},l))});e.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(u)},function(t,e,n){"use strict";var r=n(2),i=n(0),o=(n(4),n(7)),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(t){return Object(r.a)({color:t.palette.text.primary},t.typography.body2,{backgroundColor:t.palette.background.default,"@media print":{backgroundColor:t.palette.common.white}})};e.a=Object(o.a)(function(t){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:Object(r.a)({margin:0},s(t),{"&::backdrop":{backgroundColor:t.palette.background.default}})}}},{name:"MuiCssBaseline"})(function(t){var e=t.children,n=void 0===e?null:e;return t.classes,i.createElement(i.Fragment,null,n)})},function(t,e,n){"use strict";var r=n(122);e.a=r.a},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=n(9);function c(t){var e,n,r;return e=t,n=0,r=1,t=(Math.min(Math.max(n,e),r)-n)/(r-n),t=(t-=1)*t*t+1}var l=o.forwardRef(function(t,e){var n,s=t.classes,l=t.className,f=t.color,h=void 0===f?"primary":f,d=t.disableShrink,p=void 0!==d&&d,v=t.size,g=void 0===v?40:v,m=t.style,y=t.thickness,b=void 0===y?3.6:y,w=t.value,x=void 0===w?0:w,E=t.variant,_=void 0===E?"indeterminate":E,k=Object(i.a)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),S={},C={},O={};if("determinate"===_||"static"===_){var T=2*Math.PI*((44-b)/2);S.strokeDasharray=T.toFixed(3),O["aria-valuenow"]=Math.round(x),"static"===_?(S.strokeDashoffset="".concat(((100-x)/100*T).toFixed(3),"px"),C.transform="rotate(-90deg)"):(S.strokeDashoffset="".concat((n=(100-x)/100,n*n*T).toFixed(3),"px"),C.transform="rotate(".concat((270*c(x/70)).toFixed(3),"deg)"))}return o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,l,"inherit"!==h&&s["color".concat(Object(u.a)(h))],{indeterminate:s.indeterminate,static:s.static}[_]),style:Object(r.a)({width:g,height:g},C,m),ref:e,role:"progressbar"},O,k),o.createElement("svg",{className:s.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},o.createElement("circle",{className:Object(a.a)(s.circle,p&&s.circleDisableShrink,{indeterminate:s.circleIndeterminate,static:s.circleStatic}[_]),style:S,cx:44,cy:44,r:(44-b)/2,fill:"none",strokeWidth:b})))});e.a=Object(s.a)(function(t){return{root:{display:"inline-block"},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},{name:"MuiCircularProgress",flip:!1})(l)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(99)),s=n(37),u=n(40),c=n(109),l=(n(46),n(6)),f=n(24),h=n(9),d=n(7),p=n(17),v=n(121);function g(t){return Object(f.a)(t).defaultView||window}var m=n(55),y=n(101),b=n(107),w=n(54),x=n(10);var E="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var _=o.forwardRef(function(t,e){var n=t.children,r=t.container,i=t.disablePortal,a=void 0!==i&&i,s=t.onRendered,u=o.useState(null),c=u[0],l=u[1],f=Object(x.a)(o.isValidElement(n)?n.ref:null,e);return E(function(){a||l(function(t){return t="function"===typeof t?t():t,p.findDOMNode(t)}(r)||document.body)},[r,a]),E(function(){if(c&&!a)return Object(w.a)(e,c),function(){Object(w.a)(e,null)}},[e,c,a]),E(function(){s&&(c||a)&&s()},[s,c,a]),a?o.isValidElement(n)?o.cloneElement(n,{ref:f}):n:c?p.createPortal(n,c):c}),k=n(30),S=n(112),C=n(116),O=n(20),T=n(36);function I(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function R(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function A(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function P(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[e,n].concat(Object(T.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(t){1===t.nodeType&&-1===o.indexOf(t)&&-1===a.indexOf(t.tagName)&&R(t,i)})}function N(t,e){var n=-1;return t.some(function(t,r){return!!e(t)&&(n=r,!0)}),n}function D(t,e){var n,r=[],i=[],o=t.container;if(!e.disableScrollLock){if(function(t){var e=Object(f.a)(t);return e.body===t?g(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(o)){var a=I();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(A(o)+a,"px"),n=Object(f.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,function(t){i.push(t.style.paddingRight),t.style.paddingRight="".concat(A(t)+a,"px")})}var s=o.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,function(t,e){i[e]?t.style.paddingRight=i[e]:t.style.removeProperty("padding-right")}),r.forEach(function(t){var e=t.value,n=t.el,r=t.key;e?n.style.setProperty(r,e):n.style.removeProperty(r)})}}var M=function(){function t(){Object(C.a)(this,t),this.modals=[],this.containers=[]}return Object(O.a)(t,[{key:"add",value:function(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&R(t.modalRef,!1);var r=function(t){var e=[];return[].forEach.call(t.children,function(t){t.getAttribute&&"true"===t.getAttribute("aria-hidden")&&e.push(t)}),e}(e);P(e,t.mountNode,t.modalRef,r,!0);var i=N(this.containers,function(t){return t.container===e});return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(t,e){var n=N(this.containers,function(e){return-1!==e.modals.indexOf(t)}),r=this.containers[n];r.restore||(r.restore=D(r,e))}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);if(-1===e)return e;var n=N(this.containers,function(e){return-1!==e.modals.indexOf(t)}),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.restore&&r.restore(),t.modalRef&&R(t.modalRef,!0),P(r.container,t.mountNode,t.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&R(i.modalRef,!1)}return e}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),t}();var j=function(t){var e=t.children,n=t.disableAutoFocus,r=void 0!==n&&n,i=t.disableEnforceFocus,a=void 0!==i&&i,s=t.disableRestoreFocus,u=void 0!==s&&s,c=t.getDoc,l=t.isEnabled,h=t.open,d=o.useRef(),v=o.useRef(null),g=o.useRef(null),m=o.useRef(),y=o.useRef(null),b=o.useCallback(function(t){y.current=p.findDOMNode(t)},[]),w=Object(x.a)(e.ref,b),E=o.useRef();return o.useEffect(function(){E.current=h},[h]),!E.current&&h&&"undefined"!==typeof window&&(m.current=c().activeElement),o.useEffect(function(){if(h){var t=Object(f.a)(y.current);r||!y.current||y.current.contains(t.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var e=function(){t.hasFocus()&&!a&&l()&&!d.current?y.current&&!y.current.contains(t.activeElement)&&y.current.focus():d.current=!1},n=function(e){!a&&l()&&9===e.keyCode&&t.activeElement===y.current&&(d.current=!0,e.shiftKey?g.current.focus():v.current.focus())};t.addEventListener("focus",e,!0),t.addEventListener("keydown",n,!0);var i=setInterval(function(){e()},50);return function(){clearInterval(i),t.removeEventListener("focus",e,!0),t.removeEventListener("keydown",n,!0),u||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}},[r,a,u,l,h]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),o.cloneElement(e,{ref:w}),o.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))},F={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},L=o.forwardRef(function(t,e){var n=t.invisible,a=void 0!==n&&n,s=t.open,u=Object(i.a)(t,["invisible","open"]);return s?o.createElement("div",Object(r.a)({"aria-hidden":!0,ref:e},u,{style:Object(r.a)({},F.root,a?F.invisible:{},u.style)})):null});var B=new M,V=o.forwardRef(function(t,e){var n=Object(y.a)(),a=Object(b.a)({name:"MuiModal",props:Object(r.a)({},t),theme:n}),s=a.BackdropComponent,u=void 0===s?L:s,c=a.BackdropProps,l=a.children,h=a.closeAfterTransition,d=void 0!==h&&h,v=a.container,g=a.disableAutoFocus,w=void 0!==g&&g,E=a.disableBackdropClick,C=void 0!==E&&E,O=a.disableEnforceFocus,T=void 0!==O&&O,I=a.disableEscapeKeyDown,A=void 0!==I&&I,P=a.disablePortal,N=void 0!==P&&P,D=a.disableRestoreFocus,M=void 0!==D&&D,F=a.disableScrollLock,V=void 0!==F&&F,U=a.hideBackdrop,z=void 0!==U&&U,W=a.keepMounted,q=void 0!==W&&W,H=a.manager,G=void 0===H?B:H,K=a.onBackdropClick,X=a.onClose,$=a.onEscapeKeyDown,Y=a.onRendered,Q=a.open,J=Object(i.a)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=o.useState(!0),tt=Z[0],et=Z[1],nt=o.useRef({}),rt=o.useRef(null),it=o.useRef(null),ot=Object(x.a)(it,e),at=function(t){return!!t.children&&t.children.props.hasOwnProperty("in")}(a),st=function(){return Object(f.a)(rt.current)},ut=function(){return nt.current.modalRef=it.current,nt.current.mountNode=rt.current,nt.current},ct=function(){G.mount(ut(),{disableScrollLock:V}),it.current.scrollTop=0},lt=Object(k.a)(function(){var t=function(t){return t="function"===typeof t?t():t,p.findDOMNode(t)}(v)||st().body;G.add(ut(),t),it.current&&ct()}),ft=o.useCallback(function(){return G.isTopModal(ut())},[G]),ht=Object(k.a)(function(t){rt.current=t,t&&(Y&&Y(),Q&&ft()?ct():R(it.current,!0))}),dt=o.useCallback(function(){G.remove(ut())},[G]);if(o.useEffect(function(){return function(){dt()}},[dt]),o.useEffect(function(){Q?lt():at&&d||dt()},[Q,dt,at,d,lt]),!q&&!Q&&(!at||tt))return null;var pt=function(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:S.a}),vt={};return void 0===l.props.tabIndex&&(vt.tabIndex=l.props.tabIndex||"-1"),at&&(vt.onEnter=Object(m.a)(function(){et(!1)},l.props.onEnter),vt.onExited=Object(m.a)(function(){et(!0),d&&dt()},l.props.onExited)),o.createElement(_,{ref:ht,container:v,disablePortal:N},o.createElement("div",Object(r.a)({ref:ot,onKeyDown:function(t){"Escape"===t.key&&ft()&&($&&$(t),A||(t.stopPropagation(),X&&X(t,"escapeKeyDown")))},role:"presentation"},J,{style:Object(r.a)({},pt.root,!Q&&tt?pt.hidden:{},J.style)}),z?null:o.createElement(u,Object(r.a)({open:Q,onClick:function(t){t.target===t.currentTarget&&(K&&K(t),!C&&X&&X(t,"backdropClick"))}},c)),o.createElement(j,{disableEnforceFocus:T,disableAutoFocus:w,disableRestoreFocus:M,getDoc:st,isEnabled:ft,open:Q},o.cloneElement(l,vt))))}),U=n(421),z=n(416);function W(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function q(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function H(t){return[t.horizontal,t.vertical].map(function(t){return"number"===typeof t?"".concat(t,"px"):t}).join(" ")}function G(t){return"function"===typeof t?t():t}var K=o.forwardRef(function(t,e){var n=t.action,a=t.anchorEl,s=t.anchorOrigin,u=void 0===s?{vertical:"top",horizontal:"left"}:s,c=t.anchorPosition,h=t.anchorReference,d=void 0===h?"anchorEl":h,y=t.children,b=t.classes,w=t.className,x=t.container,E=t.elevation,_=void 0===E?8:E,k=t.getContentAnchorEl,S=t.marginThreshold,C=void 0===S?16:S,O=t.onEnter,T=t.onEntered,I=t.onEntering,R=t.onExit,A=t.onExited,P=t.onExiting,N=t.open,D=t.PaperProps,M=void 0===D?{}:D,j=t.transformOrigin,F=void 0===j?{vertical:"top",horizontal:"left"}:j,L=t.TransitionComponent,B=void 0===L?U.a:L,K=t.transitionDuration,X=void 0===K?"auto":K,$=t.TransitionProps,Y=void 0===$?{}:$,Q=Object(i.a)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=o.useRef(),Z=o.useCallback(function(t){if("anchorPosition"===d)return c;var e=G(a),n=(e&&1===e.nodeType?e:Object(f.a)(J.current).body).getBoundingClientRect(),r=0===t?u.vertical:"center";return{top:n.top+W(n,r),left:n.left+q(n,u.horizontal)}},[a,u.horizontal,u.vertical,c,d]),tt=o.useCallback(function(t){var e=0;if(k&&"anchorEl"===d){var n=k(t);if(n&&t.contains(n)){var r=function(t,e){for(var n=e,r=0;n&&n!==t;)r+=(n=n.parentElement).scrollTop;return r}(t,n);e=n.offsetTop+n.clientHeight/2-r||0}0}return e},[u.vertical,d,k]),et=o.useCallback(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:W(t,F.vertical)+e,horizontal:q(t,F.horizontal)}},[F.horizontal,F.vertical]),nt=o.useCallback(function(t){var e=tt(t),n={width:t.offsetWidth,height:t.offsetHeight},r=et(n,e);if("none"===d)return{top:null,left:null,transformOrigin:H(r)};var i=Z(e),o=i.top-r.vertical,s=i.left-r.horizontal,u=o+n.height,c=s+n.width,l=g(G(a)),f=l.innerHeight-C,h=l.innerWidth-C;if(o<C){var p=o-C;o-=p,r.vertical+=p}else if(u>f){var v=u-f;o-=v,r.vertical+=v}if(s<C){var m=s-C;s-=m,r.horizontal+=m}else if(c>h){var y=c-h;s-=y,r.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:H(r)}},[a,d,Z,tt,et,C]),rt=o.useCallback(function(){var t=J.current;if(t){var e=nt(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}},[nt]),it=o.useCallback(function(t){J.current=p.findDOMNode(t)},[]);o.useEffect(function(){N&&rt()}),o.useImperativeHandle(n,function(){return N?{updatePosition:function(){rt()}}:null},[N,rt]),o.useEffect(function(){if(N){var t=Object(v.a)(function(){rt()});return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}},[N,rt]);var ot=X;"auto"!==X||B.muiSupportAuto||(ot=void 0);var at=x||(a?Object(f.a)(G(a)).body:void 0);return o.createElement(V,Object(r.a)({container:at,open:N,ref:e,BackdropProps:{invisible:!0},className:Object(l.a)(b.root,w)},Q),o.createElement(B,Object(r.a)({appear:!0,in:N,onEnter:O,onEntered:T,onExit:R,onExited:A,onExiting:P,timeout:ot},Y,{onEntering:Object(m.a)(function(t,e){I&&I(t,e),rt()},Y.onEntering)}),o.createElement(z.a,Object(r.a)({elevation:_,ref:it},M,{className:Object(l.a)(b.paper,M.className)}),y)))}),X=Object(d.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(K),$=n(75),Y=o.forwardRef(function(t,e){var n=t.children,a=t.classes,s=t.className,u=t.component,c=void 0===u?"ul":u,f=t.dense,h=void 0!==f&&f,d=t.disablePadding,p=void 0!==d&&d,v=t.subheader,g=Object(i.a)(t,["children","classes","className","component","dense","disablePadding","subheader"]),m=o.useMemo(function(){return{dense:h}},[h]);return o.createElement($.a.Provider,{value:m},o.createElement(c,Object(r.a)({className:Object(l.a)(a.root,s,h&&a.dense,!p&&a.padding,v&&a.subheader),ref:e},g),v,n))}),Q=Object(d.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Y);function J(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Z(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function tt(t,e){if(void 0===e)return!0;var n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function et(t,e,n,r,i,o){for(var a=!1,s=i(t,e,!!e&&n);s;){if(s===t.firstChild){if(a)return;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&tt(s,o)&&!u)return void s.focus();s=i(t,s,n)}}var nt="undefined"===typeof window?o.useEffect:o.useLayoutEffect,rt=o.forwardRef(function(t,e){var n=t.actions,a=t.autoFocus,s=void 0!==a&&a,u=t.autoFocusItem,c=void 0!==u&&u,l=t.children,h=t.className,d=t.disabledItemsFocusable,v=void 0!==d&&d,g=t.disableListWrap,m=void 0!==g&&g,y=t.onKeyDown,b=t.variant,w=void 0===b?"selectedMenu":b,E=Object(i.a)(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),_=o.useRef(null),k=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});nt(function(){s&&_.current.focus()},[s]),o.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(t,e){var n=!_.current.style.width;if(t.clientHeight<_.current.clientHeight&&n){var r="".concat(I(),"px");_.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=r,_.current.style.width="calc(100% + ".concat(r,")")}return _.current}}},[]);var S=o.useCallback(function(t){_.current=p.findDOMNode(t)},[]),C=Object(x.a)(S,e),O=-1;o.Children.forEach(l,function(t,e){o.isValidElement(t)&&(t.props.disabled||("selectedMenu"===w&&t.props.selected?O=e:-1===O&&(O=e)))});var T=o.Children.map(l,function(t,e){if(e===O){var n={};return c&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===w&&(n.tabIndex=0),o.cloneElement(t,n)}return t});return o.createElement(Q,Object(r.a)({role:"menu",ref:C,className:h,onKeyDown:function(t){var e=_.current,n=t.key,r=Object(f.a)(e).activeElement;if("ArrowDown"===n)t.preventDefault(),et(e,r,m,v,J);else if("ArrowUp"===n)t.preventDefault(),et(e,r,m,v,Z);else if("Home"===n)t.preventDefault(),et(e,null,m,v,J);else if("End"===n)t.preventDefault(),et(e,null,m,v,Z);else if(1===n.length){var i=k.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&tt(r,i);i.previousKeyMatched&&(s||et(e,r,!1,v,J,i))?t.preventDefault():i.previousKeyMatched=!1}y&&y(t)},tabIndex:s?0:-1},E),T)}),it=n(52),ot={vertical:"top",horizontal:"right"},at={vertical:"top",horizontal:"left"},st=o.forwardRef(function(t,e){var n=t.autoFocus,a=void 0===n||n,s=t.children,u=t.classes,c=t.disableAutoFocusItem,f=void 0!==c&&c,h=t.MenuListProps,d=void 0===h?{}:h,v=t.onClose,g=t.onEntering,m=t.open,y=t.PaperProps,b=void 0===y?{}:y,x=t.PopoverClasses,E=t.transitionDuration,_=void 0===E?"auto":E,k=t.variant,S=void 0===k?"selectedMenu":k,C=Object(i.a)(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),O=Object(it.a)(),T=a&&!f&&m,I=o.useRef(null),R=o.useRef(null),A=-1;o.Children.map(s,function(t,e){o.isValidElement(t)&&(t.props.disabled||("menu"!==S&&t.props.selected?A=e:-1===A&&(A=e)))});var P=o.Children.map(s,function(t,e){return e===A?o.cloneElement(t,{ref:function(e){R.current=p.findDOMNode(e),Object(w.a)(t.ref,e)}}):t});return o.createElement(X,Object(r.a)({getContentAnchorEl:function(){return R.current},classes:x,onClose:v,onEntering:function(t,e){I.current&&I.current.adjustStyleForScrollbar(t,O),g&&g(t,e)},anchorOrigin:"rtl"===O.direction?ot:at,transformOrigin:"rtl"===O.direction?ot:at,PaperProps:Object(r.a)({},b,{classes:Object(r.a)({},b.classes,{root:u.paper})}),open:m,ref:e,transitionDuration:_},C),o.createElement(rt,Object(r.a)({onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),v&&v(t,"tabKeyDown"))},actions:I,autoFocus:a&&(-1===A||f),autoFocusItem:T,variant:S},d,{className:Object(l.a)(u.list,d.className)}),P))}),ut=Object(d.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(st),ct=n(120),lt=n(124);function ft(t,e){return"object"===Object(u.a)(e)&&null!==e?t===e:String(t)===String(e)}var ht=o.forwardRef(function(t,e){var n=t["aria-label"],a=t.autoFocus,u=t.autoWidth,d=t.children,p=t.classes,v=t.className,g=t.defaultValue,m=t.disabled,y=t.displayEmpty,b=t.IconComponent,w=t.inputRef,E=t.labelId,_=t.MenuProps,k=void 0===_?{}:_,S=t.multiple,C=t.name,O=t.onBlur,T=t.onChange,I=t.onClose,R=t.onFocus,A=t.onOpen,P=t.open,N=t.readOnly,D=t.renderValue,M=t.SelectDisplayProps,j=void 0===M?{}:M,F=t.tabIndex,L=(t.type,t.value),B=t.variant,V=void 0===B?"standard":B,U=Object(i.a)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),z=Object(lt.a)({controlled:L,default:g,name:"Select"}),W=Object(s.a)(z,2),q=W[0],H=W[1],G=o.useRef(null),K=o.useState(null),X=K[0],$=K[1],Y=o.useRef(null!=P).current,Q=o.useState(),J=Q[0],Z=Q[1],tt=o.useState(!1),et=tt[0],nt=tt[1],rt=Object(x.a)(e,w);o.useImperativeHandle(rt,function(){return{focus:function(){X.focus()},node:G.current,value:q}},[X,q]),o.useEffect(function(){a&&X&&X.focus()},[a,X]),o.useEffect(function(){if(X){var t=Object(f.a)(X).getElementById(E);if(t){var e=function(){getSelection().isCollapsed&&X.focus()};return t.addEventListener("click",e),function(){t.removeEventListener("click",e)}}}},[E,X]);var it,ot,at=function(t,e){t?A&&A(e):I&&I(e),Y||(Z(u?null:X.clientWidth),nt(t))},st=o.Children.toArray(d),ht=function(t){return function(e){var n;if(S||at(!1,e),S){n=Array.isArray(q)?q.slice():[];var r=q.indexOf(t.props.value);-1===r?n.push(t.props.value):n.splice(r,1)}else n=t.props.value;t.props.onClick&&t.props.onClick(e),q!==n&&(H(n),T&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:n,name:C}}),T(e,t)))}},dt=null!==X&&(Y?P:et);delete U["aria-invalid"];var pt=[],vt=!1;(Object(ct.a)({value:q})||y)&&(D?it=D(q):vt=!0);var gt=st.map(function(t){if(!o.isValidElement(t))return null;var e;if(S){if(!Array.isArray(q))throw new Error(Object(c.a)(2));(e=q.some(function(e){return ft(e,t.props.value)}))&&vt&&pt.push(t.props.children)}else(e=ft(q,t.props.value))&&vt&&(ot=t.props.children);return e&&!0,o.cloneElement(t,{"aria-selected":e?"true":void 0,onClick:ht(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})});vt&&(it=S?pt.join(", "):ot);var mt,yt=J;!u&&Y&&X&&(yt=X.clientWidth),mt="undefined"!==typeof F?F:m?null:0;var bt=j.id||(C?"mui-component-select-".concat(C):void 0);return o.createElement(o.Fragment,null,o.createElement("div",Object(r.a)({className:Object(l.a)(p.root,p.select,p.selectMenu,p[V],v,m&&p.disabled),ref:$,tabIndex:mt,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":dt?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[E,bt].filter(Boolean).join(" ")||void 0,onKeyDown:function(t){N||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),at(!0,t))},onMouseDown:m||N?null:function(t){0===t.button&&(t.preventDefault(),X.focus(),at(!0,t))},onBlur:function(t){!dt&&O&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:q,name:C}}),O(t))},onFocus:R},j,{id:bt}),function(t){return null==t||"string"===typeof t&&!t.trim()}(it)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):it),o.createElement("input",Object(r.a)({value:Array.isArray(q)?q.join(","):q,name:C,ref:G,"aria-hidden":!0,onChange:function(t){var e=st.map(function(t){return t.props.value}).indexOf(t.target.value);if(-1!==e){var n=st[e];H(n.props.value),T&&T(t,n)}},tabIndex:-1,className:p.nativeInput,autoFocus:a},U)),o.createElement(b,{className:Object(l.a)(p.icon,p["icon".concat(Object(h.a)(V))],dt&&p.iconOpen,m&&p.disabled)}),o.createElement(ut,Object(r.a)({id:"menu-".concat(C||""),anchorEl:X,open:dt,onClose:function(t){at(!1,t)}},k,{MenuListProps:Object(r.a)({"aria-labelledby":E,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:Object(r.a)({},k.PaperProps,{style:Object(r.a)({minWidth:yt},null!=k.PaperProps?k.PaperProps.style:null)})}),gt))}),dt=n(35),pt=n(53),vt=n(113),gt=Object(vt.a)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mt=n(420),yt=o.forwardRef(function(t,e){var n=t.classes,a=t.className,s=t.disabled,u=t.IconComponent,c=t.inputRef,f=t.variant,d=void 0===f?"standard":f,p=Object(i.a)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",Object(r.a)({className:Object(l.a)(n.root,n.select,n[d],a,s&&n.disabled),disabled:s,ref:c||e},p)),t.multiple?null:o.createElement(u,{className:Object(l.a)(n.icon,n["icon".concat(Object(h.a)(d))],s&&n.disabled)}))}),bt=function(t){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:t.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:t.palette.action.active,"&$disabled":{color:t.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},wt=o.createElement(mt.a,null),xt=o.forwardRef(function(t,e){var n=t.children,a=t.classes,s=t.IconComponent,u=void 0===s?gt:s,c=t.input,l=void 0===c?wt:c,f=t.inputProps,h=(t.variant,Object(i.a)(t,["children","classes","IconComponent","input","inputProps","variant"])),d=Object(pt.a)(),p=Object(dt.a)({props:t,muiFormControl:d,states:["variant"]});return o.cloneElement(l,Object(r.a)({inputComponent:yt,inputProps:Object(r.a)({children:n,classes:a,IconComponent:u,variant:p.variant,type:void 0},f,l?l.props.inputProps:{}),ref:e},h))});xt.muiName="Select";Object(d.a)(bt,{name:"MuiNativeSelect"})(xt);var Et=n(440),_t=o.forwardRef(function(t,e){var n=t.disableUnderline,a=t.classes,s=t.fullWidth,u=void 0!==s&&s,c=t.inputComponent,f=void 0===c?"input":c,h=t.multiline,d=void 0!==h&&h,p=t.type,v=void 0===p?"text":p,g=Object(i.a)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(Et.a,Object(r.a)({classes:Object(r.a)({},a,{root:Object(l.a)(a.root,!n&&a.underline),underline:null}),fullWidth:u,inputComponent:f,multiline:d,ref:e,type:v},g))});_t.muiName="Input";var kt=Object(d.a)(function(t){var e="light"===t.palette.type,n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:e?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},{name:"MuiFilledInput"})(_t),St=n(21),Ct=o.forwardRef(function(t,e){t.children;var n=t.classes,a=t.className,s=t.label,u=t.labelWidth,c=t.notched,f=t.style,d=Object(i.a)(t,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===Object(it.a)().direction?"right":"left";if(void 0!==s)return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(l.a)(n.root,a),ref:e,style:f},d),o.createElement("legend",{className:Object(l.a)(n.legendLabelled,c&&n.legendNotched)},s?o.createElement("span",null,s):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=u>0?.75*u+8:.01;return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(St.a)({},"padding".concat(Object(h.a)(p)),8),f),className:Object(l.a)(n.root,a),ref:e},d),o.createElement("legend",{className:n.legend,style:{width:c?v:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}),Ot=Object(d.a)(function(t){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}},{name:"PrivateNotchedOutline"})(Ct),Tt=o.forwardRef(function(t,e){var n=t.classes,a=t.fullWidth,s=void 0!==a&&a,u=t.inputComponent,c=void 0===u?"input":u,f=t.label,h=t.labelWidth,d=void 0===h?0:h,p=t.multiline,v=void 0!==p&&p,g=t.notched,m=t.type,y=void 0===m?"text":m,b=Object(i.a)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(Et.a,Object(r.a)({renderSuffix:function(t){return o.createElement(Ot,{className:n.notchedOutline,label:f,labelWidth:d,notched:"undefined"!==typeof g?g:Boolean(t.startAdornment||t.filled||t.focused)})},classes:Object(r.a)({},n,{root:Object(l.a)(n.root,n.underline),notchedOutline:null}),fullWidth:s,inputComponent:c,multiline:v,ref:e,type:y},b))});Tt.muiName="Input";var It=Object(d.a)(function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:t.shape.borderRadius,"&:hover $notchedOutline":{borderColor:t.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:e}},"&$focused $notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:t.palette.error.main},"&$disabled $notchedOutline":{borderColor:t.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:t.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:e},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},{name:"MuiOutlinedInput"})(Tt),Rt=bt,At=o.createElement(mt.a,null),Pt=o.createElement(kt,null),Nt=o.forwardRef(function t(e,n){var s=e.autoWidth,u=void 0!==s&&s,c=e.children,l=e.classes,f=e.displayEmpty,h=void 0!==f&&f,d=e.IconComponent,p=void 0===d?gt:d,v=e.id,g=e.input,m=e.inputProps,y=e.label,b=e.labelId,w=e.labelWidth,x=void 0===w?0:w,E=e.MenuProps,_=e.multiple,k=void 0!==_&&_,S=e.native,C=void 0!==S&&S,O=e.onClose,T=e.onOpen,I=e.open,R=e.renderValue,A=e.SelectDisplayProps,P=e.variant,N=void 0===P?"standard":P,D=Object(i.a)(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),M=C?yt:ht,j=Object(pt.a)(),F=Object(dt.a)({props:e,muiFormControl:j,states:["variant"]}).variant||N,L=g||{standard:At,outlined:o.createElement(It,{label:y,labelWidth:x}),filled:Pt}[F];return o.cloneElement(L,Object(r.a)({inputComponent:M,inputProps:Object(r.a)({children:c,IconComponent:p,variant:F,type:void 0,multiple:k},C?{id:v}:{autoWidth:u,displayEmpty:h,labelId:b,MenuProps:E,onClose:O,onOpen:T,open:I,renderValue:R,SelectDisplayProps:Object(r.a)({id:v},A)},m,{classes:m?Object(a.a)({baseClasses:l,newClasses:m.classes,Component:t}):l},g?g.props.inputProps:{}),ref:n},D))});Nt.muiName="Select";e.a=Object(d.a)(Rt,{name:"MuiSelect"})(Nt)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=n.n(o),s=(n(4),n(17)),u=n(6),c=n(10),l=n(30),f=n(7),h=!0,d=!1,p=null,v={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function g(t){t.metaKey||t.altKey||t.ctrlKey||(h=!0)}function m(){h=!1}function y(){"hidden"===this.visibilityState&&d&&(h=!0)}function b(t){var e=t.target;try{return e.matches(":focus-visible")}catch(n){}return h||function(t){var e=t.type,n=t.tagName;return!("INPUT"!==n||!v[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function w(){d=!0,window.clearTimeout(p),p=window.setTimeout(function(){d=!1},100)}function x(){return{isFocusVisible:b,onBlurVisible:w,ref:o.useCallback(function(t){var e,n=s.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",g,!0),e.addEventListener("mousedown",m,!0),e.addEventListener("pointerdown",m,!0),e.addEventListener("touchstart",m,!0),e.addEventListener("visibilitychange",y,!0))},[])}}var E=n(36),_=n(19),k=n(28),S=n(27),C=n(74);function O(t,e){var n=Object.create(null);return t&&o.Children.map(t,function(t){return t}).forEach(function(t){n[t.key]=function(t){return e&&Object(o.isValidElement)(t)?e(t):t}(t)}),n}function T(t,e,n){return null!=n[e]?n[e]:t.props[e]}function I(t,e,n){var r=O(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,r);return Object.keys(i).forEach(function(a){var s=i[a];if(Object(o.isValidElement)(s)){var u=a in e,c=a in r,l=e[a],f=Object(o.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:T(s,"exit",t),enter:T(s,"enter",t)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:T(s,"exit",t),enter:T(s,"enter",t)})}}),i}var R=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},A=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(Object(k.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(S.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,r=a,O(n.children,function(t){return Object(o.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:T(t,"appear",n),enter:T(t,"enter",n),exit:T(t,"exit",n)})})):I(t,i,a),firstRender:!1}},n.handleExited=function(t,e){var n=O(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=Object(r.a)({},e.children);return delete n[t.key],{children:n}}))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=Object(_.a)(t,["component","childFactory"]),i=this.state.contextValue,o=R(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?a.a.createElement(C.a.Provider,{value:i},o):a.a.createElement(C.a.Provider,{value:i},a.a.createElement(e,r,o))},e}(a.a.Component);A.propTypes={},A.defaultProps={component:"div",childFactory:function(t){return t}};var P=A,N="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var D=function(t){var e=t.classes,n=t.pulsate,r=void 0!==n&&n,i=t.rippleX,a=t.rippleY,s=t.rippleSize,c=t.in,f=t.onExited,h=void 0===f?function(){}:f,d=t.timeout,p=o.useState(!1),v=p[0],g=p[1],m=Object(u.a)(e.ripple,e.rippleVisible,r&&e.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+i},b=Object(u.a)(e.child,v&&e.childLeaving,r&&e.childPulsate),w=Object(l.a)(h);return N(function(){if(!c){g(!0);var t=setTimeout(w,d);return function(){clearTimeout(t)}}},[w,c,d]),o.createElement("span",{className:m,style:y},o.createElement("span",{className:b}))},M=o.forwardRef(function(t,e){var n=t.center,a=void 0!==n&&n,s=t.classes,c=t.className,l=Object(i.a)(t,["center","classes","className"]),f=o.useState([]),h=f[0],d=f[1],p=o.useRef(0),v=o.useRef(null);o.useEffect(function(){v.current&&(v.current(),v.current=null)},[h]);var g=o.useRef(!1),m=o.useRef(null),y=o.useRef(null),b=o.useRef(null);o.useEffect(function(){return function(){clearTimeout(m.current)}},[]);var w=o.useCallback(function(t){var e=t.pulsate,n=t.rippleX,r=t.rippleY,i=t.rippleSize,a=t.cb;d(function(t){return[].concat(Object(E.a)(t),[o.createElement(D,{key:p.current,classes:s,timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i})])}),p.current+=1,v.current=a},[s]),x=o.useCallback(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.pulsate,i=void 0!==r&&r,o=e.center,s=void 0===o?a||e.pulsate:o,u=e.fakeElement,c=void 0!==u&&u;if("mousedown"===t.type&&g.current)g.current=!1;else{"touchstart"===t.type&&(g.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=t.touches?t.touches[0]:t,x=v.clientX,E=v.clientY;l=Math.round(x-p.left),f=Math.round(E-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(k,2))}t.touches?null===y.current&&(y.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},m.current=setTimeout(function(){y.current&&(y.current(),y.current=null)},80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}},[a,w]),_=o.useCallback(function(){x({},{pulsate:!0})},[x]),k=o.useCallback(function(t,e){if(clearTimeout(m.current),"touchend"===t.type&&y.current)return t.persist(),y.current(),y.current=null,void(m.current=setTimeout(function(){k(t,e)}));y.current=null,d(function(t){return t.length>0?t.slice(1):t}),v.current=e},[]);return o.useImperativeHandle(e,function(){return{pulsate:_,start:x,stop:k}},[_,x,k]),o.createElement("span",Object(r.a)({className:Object(u.a)(s.root,c),ref:b},l),o.createElement(P,{component:null,exit:!0},h))}),j=Object(f.a)(function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},{flip:!1,name:"MuiTouchRipple"})(o.memo(M)),F=o.forwardRef(function(t,e){var n=t.action,a=t.buttonRef,f=t.centerRipple,h=void 0!==f&&f,d=t.children,p=t.classes,v=t.className,g=t.component,m=void 0===g?"button":g,y=t.disabled,b=void 0!==y&&y,w=t.disableRipple,E=void 0!==w&&w,_=t.disableTouchRipple,k=void 0!==_&&_,S=t.focusRipple,C=void 0!==S&&S,O=t.focusVisibleClassName,T=t.onBlur,I=t.onClick,R=t.onFocus,A=t.onFocusVisible,P=t.onKeyDown,N=t.onKeyUp,D=t.onMouseDown,M=t.onMouseLeave,F=t.onMouseUp,L=t.onTouchEnd,B=t.onTouchMove,V=t.onTouchStart,U=t.onDragLeave,z=t.tabIndex,W=void 0===z?0:z,q=t.TouchRippleProps,H=t.type,G=void 0===H?"button":H,K=Object(i.a)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),X=o.useRef(null);var $=o.useRef(null),Y=o.useState(!1),Q=Y[0],J=Y[1];b&&Q&&J(!1);var Z=x(),tt=Z.isFocusVisible,et=Z.onBlurVisible,nt=Z.ref;function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return Object(l.a)(function(r){return e&&e(r),!n&&$.current&&$.current[t](r),!0})}o.useImperativeHandle(n,function(){return{focusVisible:function(){J(!0),X.current.focus()}}},[]),o.useEffect(function(){Q&&C&&!E&&$.current.pulsate()},[E,C,Q]);var it=rt("start",D),ot=rt("stop",U),at=rt("stop",F),st=rt("stop",function(t){Q&&t.preventDefault(),M&&M(t)}),ut=rt("start",V),ct=rt("stop",L),lt=rt("stop",B),ft=rt("stop",function(t){Q&&(et(t),J(!1)),T&&T(t)},!1),ht=Object(l.a)(function(t){X.current||(X.current=t.currentTarget),tt(t)&&(J(!0),A&&A(t)),R&&R(t)}),dt=function(){var t=s.findDOMNode(X.current);return m&&"button"!==m&&!("A"===t.tagName&&t.href)},pt=o.useRef(!1),vt=Object(l.a)(function(t){C&&!pt.current&&Q&&$.current&&" "===t.key&&(pt.current=!0,t.persist(),$.current.stop(t,function(){$.current.start(t)})),t.target===t.currentTarget&&dt()&&" "===t.key&&t.preventDefault(),P&&P(t),t.target===t.currentTarget&&dt()&&"Enter"===t.key&&!b&&(t.preventDefault(),I&&I(t))}),gt=Object(l.a)(function(t){C&&" "===t.key&&$.current&&Q&&!t.defaultPrevented&&(pt.current=!1,t.persist(),$.current.stop(t,function(){$.current.pulsate(t)})),N&&N(t),I&&t.target===t.currentTarget&&dt()&&" "===t.key&&!t.defaultPrevented&&I(t)}),mt=m;"button"===mt&&K.href&&(mt="a");var yt={};"button"===mt?(yt.type=G,yt.disabled=b):("a"===mt&&K.href||(yt.role="button"),yt["aria-disabled"]=b);var bt=Object(c.a)(a,e),wt=Object(c.a)(nt,X),xt=Object(c.a)(bt,wt),Et=o.useState(!1),_t=Et[0],kt=Et[1];o.useEffect(function(){kt(!0)},[]);var St=_t&&!E&&!b;return o.createElement(mt,Object(r.a)({className:Object(u.a)(p.root,v,Q&&[p.focusVisible,O],b&&p.disabled),onBlur:ft,onClick:I,onFocus:ht,onKeyDown:vt,onKeyUp:gt,onMouseDown:it,onMouseLeave:st,onMouseUp:at,onDragLeave:ot,onTouchEnd:ct,onTouchMove:lt,onTouchStart:ut,ref:xt,tabIndex:b?-1:W},yt,K),d,St?o.createElement(j,Object(r.a)({ref:$,center:h},q)):null)});e.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(F)},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(0),a=(n(4),n(6)),s=n(49),u=n(7),c=n(416),l=n(113),f=Object(l.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),h=Object(l.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),d=Object(l.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),p=Object(l.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),v=Object(l.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),g=n(422),m=n(9),y={success:o.createElement(f,{fontSize:"inherit"}),warning:o.createElement(h,{fontSize:"inherit"}),error:o.createElement(d,{fontSize:"inherit"}),info:o.createElement(p,{fontSize:"inherit"})},b=o.createElement(v,{fontSize:"small"}),w=o.forwardRef(function(t,e){var n=t.action,s=t.children,u=t.classes,l=t.className,f=t.closeText,h=void 0===f?"Close":f,d=t.color,p=t.icon,v=t.iconMapping,w=void 0===v?y:v,x=t.onClose,E=t.role,_=void 0===E?"alert":E,k=t.severity,S=void 0===k?"success":k,C=t.variant,O=void 0===C?"standard":C,T=Object(r.a)(t,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(c.a,Object(i.a)({role:_,square:!0,elevation:0,className:Object(a.a)(u.root,u["".concat(O).concat(Object(m.a)(d||S))],l),ref:e},T),!1!==p?o.createElement("div",{className:u.icon},p||w[S]||y[S]):null,o.createElement("div",{className:u.message},s),null!=n?o.createElement("div",{className:u.action},n):null,null==n&&x?o.createElement("div",{className:u.action},o.createElement(g.a,{size:"small","aria-label":h,title:h,color:"inherit",onClick:x},b)):null)});e.a=Object(u.a)(function(t){var e="light"===t.palette.type?s.a:s.e,n="light"===t.palette.type?s.e:s.a;return{root:Object(i.a)({},t.typography.body2,{borderRadius:t.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:e(t.palette.success.main,.6),backgroundColor:n(t.palette.success.main,.9),"& $icon":{color:t.palette.success.main}},standardInfo:{color:e(t.palette.info.main,.6),backgroundColor:n(t.palette.info.main,.9),"& $icon":{color:t.palette.info.main}},standardWarning:{color:e(t.palette.warning.main,.6),backgroundColor:n(t.palette.warning.main,.9),"& $icon":{color:t.palette.warning.main}},standardError:{color:e(t.palette.error.main,.6),backgroundColor:n(t.palette.error.main,.9),"& $icon":{color:t.palette.error.main}},outlinedSuccess:{color:e(t.palette.success.main,.6),border:"1px solid ".concat(t.palette.success.main),"& $icon":{color:t.palette.success.main}},outlinedInfo:{color:e(t.palette.info.main,.6),border:"1px solid ".concat(t.palette.info.main),"& $icon":{color:t.palette.info.main}},outlinedWarning:{color:e(t.palette.warning.main,.6),border:"1px solid ".concat(t.palette.warning.main),"& $icon":{color:t.palette.warning.main}},outlinedError:{color:e(t.palette.error.main,.6),border:"1px solid ".concat(t.palette.error.main),"& $icon":{color:t.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.success.main},filledInfo:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.info.main},filledWarning:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.warning.main},filledError:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},{name:"MuiAlert"})(w)},function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(0),a=n.n(o),s=n(4),u=n.n(s),c=n(131),l=n(42),f=n.n(l),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},d(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:h({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;f()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){i()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?a.a.Children.only(t):null},e}(a.a.Component);p.propTypes={history:u.a.object.isRequired,children:u.a.node},p.contextTypes={router:u.a.object},p.childContextTypes={router:u.a.object.isRequired};var v=p;function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=g(this,t.call.apply(t,[this].concat(o))),r.history=Object(c.a)(r.props),g(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(v,{history:this.history,children:this.props.children})},e}(a.a.Component);m.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};e.a=m},function(t,e,n){"use strict";var r=n(5),i=n(21),o=n(2),a=n(0),s=(n(4),n(6)),u=n(7),c=n(59),l=n(17),f=n(24),h=n(10),d=n(30);function p(t){return t.substring(2).toLowerCase()}var v=function(t){var e=t.children,n=t.disableReactTree,r=void 0!==n&&n,i=t.mouseEvent,o=void 0===i?"onClick":i,s=t.onClickAway,u=t.touchEvent,c=void 0===u?"onTouchEnd":u,v=a.useRef(!1),g=a.useRef(null),m=a.useRef(!1),y=a.useRef(!1);a.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var b=a.useCallback(function(t){g.current=l.findDOMNode(t)},[]),w=Object(h.a)(e.ref,b),x=Object(d.a)(function(t){var e=y.current;if(y.current=!1,m.current&&g.current&&!function(t){return document.documentElement.clientWidth<t.clientX||document.documentElement.clientHeight<t.clientY}(t))if(v.current)v.current=!1;else{(t.composedPath?t.composedPath().indexOf(g.current)>-1:!Object(f.a)(g.current).documentElement.contains(t.target)||g.current.contains(t.target))||!r&&e||s(t)}}),E=function(t){return function(n){y.current=!0;var r=e.props[t];r&&r(n)}},_={ref:w};return!1!==c&&(_[c]=E(c)),a.useEffect(function(){if(!1!==c){var t=p(c),e=Object(f.a)(g.current),n=function(){v.current=!0};return e.addEventListener(t,x),e.addEventListener("touchmove",n),function(){e.removeEventListener(t,x),e.removeEventListener("touchmove",n)}}},[x,c]),!1!==o&&(_[o]=E(o)),a.useEffect(function(){if(!1!==o){var t=p(o),e=Object(f.a)(g.current);return e.addEventListener(t,x),function(){e.removeEventListener(t,x)}}},[x,o]),a.createElement(a.Fragment,null,a.cloneElement(e,_))},g=n(9),m=n(55),y=n(421),b=n(416),w=n(49),x=a.forwardRef(function(t,e){var n=t.action,i=t.classes,u=t.className,c=t.message,l=t.role,f=void 0===l?"alert":l,h=Object(r.a)(t,["action","classes","className","message","role"]);return a.createElement(b.a,Object(o.a)({role:f,square:!0,elevation:6,className:Object(s.a)(i.root,u),ref:e},h),a.createElement("div",{className:i.message},c),n?a.createElement("div",{className:i.action},n):null)}),E=Object(u.a)(function(t){var e="light"===t.palette.type?.8:.98,n=Object(w.b)(t.palette.background.default,e);return{root:Object(o.a)({},t.typography.body2,Object(i.a)({color:t.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},{name:"MuiSnackbarContent"})(x),_=a.forwardRef(function(t,e){var n=t.action,i=t.anchorOrigin,u=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,l=i.horizontal,f=t.autoHideDuration,h=void 0===f?null:f,p=t.children,b=t.classes,w=t.className,x=t.ClickAwayListenerProps,_=t.ContentProps,k=t.disableWindowBlurListener,S=void 0!==k&&k,C=t.message,O=t.onClose,T=t.onEnter,I=t.onEntered,R=t.onEntering,A=t.onExit,P=t.onExited,N=t.onExiting,D=t.onMouseEnter,M=t.onMouseLeave,j=t.open,F=t.resumeHideDuration,L=t.TransitionComponent,B=void 0===L?y.a:L,V=t.transitionDuration,U=void 0===V?{enter:c.b.enteringScreen,exit:c.b.leavingScreen}:V,z=t.TransitionProps,W=Object(r.a)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),q=a.useRef(),H=a.useState(!0),G=H[0],K=H[1],X=Object(d.a)(function(){O&&O.apply(void 0,arguments)}),$=Object(d.a)(function(t){O&&null!=t&&(clearTimeout(q.current),q.current=setTimeout(function(){X(null,"timeout")},t))});a.useEffect(function(){return j&&$(h),function(){clearTimeout(q.current)}},[j,h,$]);var Y=function(){clearTimeout(q.current)},Q=a.useCallback(function(){null!=h&&$(null!=F?F:.5*h)},[h,F,$]);return a.useEffect(function(){if(!S&&j)return window.addEventListener("focus",Q),window.addEventListener("blur",Y),function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",Y)}},[S,Q,j]),!j&&G?null:a.createElement(v,Object(o.a)({onClickAway:function(t){O&&O(t,"clickaway")}},x),a.createElement("div",Object(o.a)({className:Object(s.a)(b.root,b["anchorOrigin".concat(Object(g.a)(u)).concat(Object(g.a)(l))],w),onMouseEnter:function(t){D&&D(t),Y()},onMouseLeave:function(t){M&&M(t),Q()},ref:e},W),a.createElement(B,Object(o.a)({appear:!0,in:j,onEnter:Object(m.a)(function(){K(!1)},T),onEntered:I,onEntering:R,onExit:A,onExited:Object(m.a)(function(){K(!0)},P),onExiting:N,timeout:U,direction:"top"===u?"down":"up"},z),p||a.createElement(E,Object(o.a)({message:C,action:n},_)))))});e.a=Object(u.a)(function(t){var e={top:8},n={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},s={top:24},u={bottom:24},c={right:24},l={left:24},f={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},e,Object(i.a)({},t.breakpoints.up("sm"),Object(o.a)({},s,f))),anchorOriginBottomCenter:Object(o.a)({},n,Object(i.a)({},t.breakpoints.up("sm"),Object(o.a)({},u,f))),anchorOriginTopRight:Object(o.a)({},e,r,Object(i.a)({},t.breakpoints.up("sm"),Object(o.a)({left:"auto"},s,c))),anchorOriginBottomRight:Object(o.a)({},n,r,Object(i.a)({},t.breakpoints.up("sm"),Object(o.a)({left:"auto"},u,c))),anchorOriginTopLeft:Object(o.a)({},e,a,Object(i.a)({},t.breakpoints.up("sm"),Object(o.a)({right:"auto"},s,l))),anchorOriginBottomLeft:Object(o.a)({},n,a,Object(i.a)({},t.breakpoints.up("sm"),Object(o.a)({right:"auto"},u,l)))}},{flip:!1,name:"MuiSnackbar"})(_)},function(t,e,n){"use strict";var r=n(5),i=n(21),o=n(2),a=n(0),s=(n(4),n(6)),u=n(7),c=n(431);var l=n(10),f=n(75),h=n(17),d="undefined"===typeof window?a.useEffect:a.useLayoutEffect,p=a.forwardRef(function(t,e){var n=t.alignItems,i=void 0===n?"center":n,u=t.autoFocus,p=void 0!==u&&u,v=t.button,g=void 0!==v&&v,m=t.children,y=t.classes,b=t.className,w=t.component,x=t.ContainerComponent,E=void 0===x?"li":x,_=t.ContainerProps,k=(_=void 0===_?{}:_).className,S=Object(r.a)(_,["className"]),C=t.dense,O=void 0!==C&&C,T=t.disabled,I=void 0!==T&&T,R=t.disableGutters,A=void 0!==R&&R,P=t.divider,N=void 0!==P&&P,D=t.focusVisibleClassName,M=t.selected,j=void 0!==M&&M,F=Object(r.a)(t,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=a.useContext(f.a),B={dense:O||L.dense||!1,alignItems:i},V=a.useRef(null);d(function(){p&&V.current&&V.current.focus()},[p]);var U,z,W=a.Children.toArray(m),q=W.length&&(U=W[W.length-1],z=["ListItemSecondaryAction"],a.isValidElement(U)&&-1!==z.indexOf(U.type.muiName)),H=a.useCallback(function(t){V.current=h.findDOMNode(t)},[]),G=Object(l.a)(H,e),K=Object(o.a)({className:Object(s.a)(y.root,b,B.dense&&y.dense,!A&&y.gutters,N&&y.divider,I&&y.disabled,g&&y.button,"center"!==i&&y.alignItemsFlexStart,q&&y.secondaryAction,j&&y.selected),disabled:I},F),X=w||"li";return g&&(K.component=w||"div",K.focusVisibleClassName=Object(s.a)(y.focusVisible,D),X=c.a),q?(X=K.component||w?X:"div","li"===E&&("li"===X?X="div":"li"===K.component&&(K.component="div")),a.createElement(f.a.Provider,{value:B},a.createElement(E,Object(o.a)({className:Object(s.a)(y.container,k),ref:G},S),a.createElement(X,K,W),W.pop()))):a.createElement(f.a.Provider,{value:B},a.createElement(X,Object(o.a)({ref:G},K),W))}),v=Object(u.a)(function(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:t.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:t.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(p),g=a.forwardRef(function(t,e){var n,i=t.classes,u=t.className,c=t.component,l=void 0===c?"li":c,f=t.disableGutters,h=void 0!==f&&f,d=t.ListItemClasses,p=t.role,g=void 0===p?"menuitem":p,m=t.selected,y=t.tabIndex,b=Object(r.a)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(n=void 0!==y?y:-1),a.createElement(v,Object(o.a)({button:!0,role:g,tabIndex:n,component:l,selected:m,disableGutters:h,classes:Object(o.a)({dense:i.dense},d),className:Object(s.a)(i.root,u,m&&i.selected,!h&&i.gutters),ref:e},b))});e.a=Object(u.a)(function(t){return{root:Object(o.a)({},t.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},t.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},t.typography.body2,{minHeight:"auto"})}},{name:"MuiMenuItem"})(g)},function(t,e,n){"use strict";var r=n(2),i=n(110),o=n(104),a=n(72),s=n(111);var u=n(37),c=n(5),l=n(0),f=(n(46),n(4),n(6)),h=n(442),d=n(7),p=n(59),v=n(60),g=n(52),m=n(10),y=l.forwardRef(function(t,e){var n=t.children,i=t.classes,o=t.className,a=t.collapsedHeight,s=void 0===a?"0px":a,d=t.component,y=void 0===d?"div":d,b=t.disableStrictModeCompat,w=void 0!==b&&b,x=t.in,E=t.onEnter,_=t.onEntered,k=t.onEntering,S=t.onExit,C=t.onExited,O=t.onExiting,T=t.style,I=t.timeout,R=void 0===I?p.b.standard:I,A=t.TransitionComponent,P=void 0===A?h.a:A,N=Object(c.a)(t,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),D=Object(g.a)(),M=l.useRef(),j=l.useRef(null),F=l.useRef(),L="number"===typeof s?"".concat(s,"px"):s;l.useEffect(function(){return function(){clearTimeout(M.current)}},[]);var B=D.unstable_strictMode&&!w,V=l.useRef(null),U=Object(m.a)(e,B?V:void 0),z=function(t){return function(e,n){if(t){var r=B?[V.current,e]:[e,n],i=Object(u.a)(r,2),o=i[0],a=i[1];void 0===a?t(o):t(o,a)}}},W=z(function(t,e){t.style.height=L,E&&E(t,e)}),q=z(function(t,e){var n=j.current?j.current.clientHeight:0,r=Object(v.a)({style:T,timeout:R},{mode:"enter"}).duration;if("auto"===R){var i=D.transitions.getAutoHeightDuration(n);t.style.transitionDuration="".concat(i,"ms"),F.current=i}else t.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");t.style.height="".concat(n,"px"),k&&k(t,e)}),H=z(function(t,e){t.style.height="auto",_&&_(t,e)}),G=z(function(t){var e=j.current?j.current.clientHeight:0;t.style.height="".concat(e,"px"),S&&S(t)}),K=z(C),X=z(function(t){var e=j.current?j.current.clientHeight:0,n=Object(v.a)({style:T,timeout:R},{mode:"exit"}).duration;if("auto"===R){var r=D.transitions.getAutoHeightDuration(e);t.style.transitionDuration="".concat(r,"ms"),F.current=r}else t.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");t.style.height=L,O&&O(t)});return l.createElement(P,Object(r.a)({in:x,onEnter:W,onEntered:H,onEntering:q,onExit:G,onExited:K,onExiting:X,addEndListener:function(t,e){var n=B?t:e;"auto"===R&&(M.current=setTimeout(n,F.current||0))},nodeRef:B?V:void 0,timeout:"auto"===R?null:R},N),function(t,e){return l.createElement(y,Object(r.a)({className:Object(f.a)(i.container,o,{entered:i.entered,exited:!x&&"0px"===L&&i.hidden}[t]),style:Object(r.a)({minHeight:L},T),ref:U},e),l.createElement("div",{className:i.wrapper,ref:j},l.createElement("div",{className:i.wrapperInner},n)))})});y.muiSupportAuto=!0;var b=Object(d.a)(function(t){return{container:{height:0,overflow:"hidden",transition:t.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},{name:"MuiCollapse"})(y),w=n(416),x=n(126),E=n(124),_=l.forwardRef(function(t,e){var n,h=t.children,d=t.classes,p=t.className,v=t.defaultExpanded,g=void 0!==v&&v,m=t.disabled,y=void 0!==m&&m,_=t.expanded,k=t.onChange,S=t.square,C=void 0!==S&&S,O=t.TransitionComponent,T=void 0===O?b:O,I=t.TransitionProps,R=Object(c.a)(t,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),A=Object(E.a)({controlled:_,default:g,name:"Accordion",state:"expanded"}),P=Object(u.a)(A,2),N=P[0],D=P[1],M=l.useCallback(function(t){D(!N),k&&k(t,!N)},[N,k,D]),j=l.Children.toArray(h),F=(n=j,Object(i.a)(n)||Object(o.a)(n)||Object(a.a)(n)||Object(s.a)()),L=F[0],B=F.slice(1),V=l.useMemo(function(){return{expanded:N,disabled:y,toggle:M}},[N,y,M]);return l.createElement(w.a,Object(r.a)({className:Object(f.a)(d.root,p,N&&d.expanded,y&&d.disabled,!C&&d.rounded),ref:e,square:C},R),l.createElement(x.a.Provider,{value:V},L),l.createElement(T,Object(r.a)({in:N,timeout:"auto"},I),l.createElement("div",{"aria-labelledby":L.props.id,id:L.props["aria-controls"],role:"region"},B)))});e.a=Object(d.a)(function(t){var e={duration:t.transitions.duration.shortest};return{root:{position:"relative",transition:t.transitions.create(["margin"],e),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:t.palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:t.shape.borderRadius,borderBottomRightRadius:t.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},{name:"MuiAccordion"})(_)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(4),a=n.n(o),s=n(194),u=n.n(s),c=n(122),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var f=function(t){var e=function(e){var n=e.wrappedComponentRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["wrappedComponentRef"]);return i.a.createElement(c.a,{children:function(e){return i.a.createElement(t,l({},r,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:a.a.func},u()(e,t)};e.a=f},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(4),a=n.n(o),s=n(32),u=n.n(s),c=n(42),l=n.n(c),f=n(123);var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){l()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){u()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,o=void 0;return i.a.Children.forEach(e,function(e){if(null==r&&i.a.isValidElement(e)){var a=e.props,s=a.path,u=a.exact,c=a.strict,l=a.sensitive,h=a.from,d=s||h;o=e,r=Object(f.a)(n.pathname,{path:d,exact:u,strict:c,sensitive:l},t.match)}}),r?i.a.cloneElement(o,{location:n,computedMatch:r}):null},e}(i.a.Component);h.contextTypes={router:a.a.shape({route:a.a.object.isRequired}).isRequired},h.propTypes={children:a.a.node,location:a.a.object};var d=h;e.a=d},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(7),u=n(113),c=Object(u.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var l=o.forwardRef(function(t,e){var n=t.alt,s=t.children,u=t.classes,l=t.className,f=t.component,h=void 0===f?"div":f,d=t.imgProps,p=t.sizes,v=t.src,g=t.srcSet,m=t.variant,y=void 0===m?"circle":m,b=Object(i.a)(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),w=null,x=function(t){var e=t.src,n=t.srcSet,r=o.useState(!1),i=r[0],a=r[1];return o.useEffect(function(){if(e||n){a(!1);var t=!0,r=new Image;return r.src=e,r.srcSet=n,r.onload=function(){t&&a("loaded")},r.onerror=function(){t&&a("error")},function(){t=!1}}},[e,n]),i}({src:v,srcSet:g}),E=v||g,_=E&&"error"!==x;return w=_?o.createElement("img",Object(r.a)({alt:n,src:v,srcSet:g,sizes:p,className:u.img},d)):null!=s?s:E&&n?n[0]:o.createElement(c,{className:u.fallback}),o.createElement(h,Object(r.a)({className:Object(a.a)(u.root,u.system,u[y],l,!_&&u.colorDefault),ref:e},b),w)});e.a=Object(s.a)(function(t){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:t.palette.background.default,backgroundColor:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[600]},circle:{},rounded:{borderRadius:t.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}},{name:"MuiAvatar"})(l)},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(109),a=n(0),s=(n(4),n(6)),u=n(35),c=n(84),l=n(7),f=n(9),h=n(10),d=n(121);function p(t,e){return parseInt(t[e],10)||0}var v="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,g={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},m=a.forwardRef(function(t,e){var n=t.onChange,o=t.rows,s=t.rowsMax,u=t.rowsMin,c=void 0===u?1:u,l=t.style,f=t.value,m=Object(r.a)(t,["onChange","rows","rowsMax","rowsMin","style","value"]),y=o||c,b=a.useRef(null!=f).current,w=a.useRef(null),x=Object(h.a)(e,w),E=a.useRef(null),_=a.useRef(0),k=a.useState({}),S=k[0],C=k[1],O=a.useCallback(function(){var e=w.current,n=window.getComputedStyle(e),r=E.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=p(n,"padding-bottom")+p(n,"padding-top"),a=p(n,"border-bottom-width")+p(n,"border-top-width"),u=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,l=u;y&&(l=Math.max(Number(y)*c,l)),s&&(l=Math.min(Number(s)*c,l));var f=(l=Math.max(l,c))+("border-box"===i?o+a:0),h=Math.abs(l-u)<=1;C(function(t){return _.current<20&&(f>0&&Math.abs((t.outerHeightStyle||0)-f)>1||t.overflow!==h)?(_.current+=1,{overflow:h,outerHeightStyle:f}):t})},[s,y,t.placeholder]);a.useEffect(function(){var t=Object(d.a)(function(){_.current=0,O()});return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}},[O]),v(function(){O()}),a.useEffect(function(){_.current=0},[f]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(i.a)({value:f,onChange:function(t){_.current=0,b||O(),n&&n(t)},ref:x,rows:y,style:Object(i.a)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},l)},m)),a.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:E,tabIndex:-1,style:Object(i.a)({},g,l)}))}),y=n(120),b="undefined"===typeof window?a.useEffect:a.useLayoutEffect,w=a.forwardRef(function(t,e){var n=t["aria-describedby"],l=t.autoComplete,d=t.autoFocus,p=t.classes,v=t.className,g=(t.color,t.defaultValue),w=t.disabled,x=t.endAdornment,E=(t.error,t.fullWidth),_=void 0!==E&&E,k=t.id,S=t.inputComponent,C=void 0===S?"input":S,O=t.inputProps,T=void 0===O?{}:O,I=t.inputRef,R=(t.margin,t.multiline),A=void 0!==R&&R,P=t.name,N=t.onBlur,D=t.onChange,M=t.onClick,j=t.onFocus,F=t.onKeyDown,L=t.onKeyUp,B=t.placeholder,V=t.readOnly,U=t.renderSuffix,z=t.rows,W=t.rowsMax,q=t.rowsMin,H=t.startAdornment,G=t.type,K=void 0===G?"text":G,X=t.value,$=Object(r.a)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),Y=null!=T.value?T.value:X,Q=a.useRef(null!=Y).current,J=a.useRef(),Z=a.useCallback(function(t){0},[]),tt=Object(h.a)(T.ref,Z),et=Object(h.a)(I,tt),nt=Object(h.a)(J,et),rt=a.useState(!1),it=rt[0],ot=rt[1],at=Object(c.b)();var st=Object(u.a)({props:t,muiFormControl:at,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});st.focused=at?at.focused:it,a.useEffect(function(){!at&&w&&it&&(ot(!1),N&&N())},[at,w,it,N]);var ut=at&&at.onFilled,ct=at&&at.onEmpty,lt=a.useCallback(function(t){Object(y.a)(t)?ut&&ut():ct&&ct()},[ut,ct]);b(function(){Q&&lt({value:Y})},[Y,lt,Q]);a.useEffect(function(){lt(J.current)},[]);var ft=C,ht=Object(i.a)({},T,{ref:nt});"string"!==typeof ft?ht=Object(i.a)({inputRef:nt,type:K},ht,{ref:null}):A?!z||W||q?(ht=Object(i.a)({rows:z,rowsMax:W},ht),ft=m):ft="textarea":ht=Object(i.a)({type:K},ht);return a.useEffect(function(){at&&at.setAdornedStart(Boolean(H))},[at,H]),a.createElement("div",Object(i.a)({className:Object(s.a)(p.root,p["color".concat(Object(f.a)(st.color||"primary"))],v,st.disabled&&p.disabled,st.error&&p.error,_&&p.fullWidth,st.focused&&p.focused,at&&p.formControl,A&&p.multiline,H&&p.adornedStart,x&&p.adornedEnd,"dense"===st.margin&&p.marginDense),onClick:function(t){J.current&&t.currentTarget===t.target&&J.current.focus(),M&&M(t)},ref:e},$),H,a.createElement(c.a.Provider,{value:null},a.createElement(ft,Object(i.a)({"aria-invalid":st.error,"aria-describedby":n,autoComplete:l,autoFocus:d,defaultValue:g,disabled:st.disabled,id:k,onAnimationStart:function(t){lt("mui-auto-fill-cancel"===t.animationName?J.current:{value:"x"})},name:P,placeholder:B,readOnly:V,required:st.required,rows:z,value:Y,onKeyDown:F,onKeyUp:L},ht,{className:Object(s.a)(p.input,T.className,st.disabled&&p.disabled,A&&p.inputMultiline,st.hiddenLabel&&p.inputHiddenLabel,H&&p.inputAdornedStart,x&&p.inputAdornedEnd,"search"===K&&p.inputTypeSearch,"dense"===st.margin&&p.inputMarginDense),onBlur:function(t){N&&N(t),T.onBlur&&T.onBlur(t),at&&at.onBlur?at.onBlur(t):ot(!1)},onChange:function(t){if(!Q){var e=t.target||J.current;if(null==e)throw new Error(Object(o.a)(1));lt({value:e.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[t].concat(r)),D&&D.apply(void 0,[t].concat(r))},onFocus:function(t){st.disabled?t.stopPropagation():(j&&j(t),T.onFocus&&T.onFocus(t),at&&at.onFocus?at.onFocus(t):ot(!0))}}))),x,U?U(Object(i.a)({},st,{startAdornment:H})):null)});e.a=Object(l.a)(function(t){var e="light"===t.palette.type,n={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:e?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(i.a)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:t.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},{name:"MuiInputBase"})(w)},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(0),a=(n(4),n(6)),s=n(35),u=n(53),c=n(7),l=n(9),f=o.forwardRef(function(t,e){var n=t.children,c=t.classes,f=t.className,h=(t.color,t.component),d=void 0===h?"label":h,p=(t.disabled,t.error,t.filled,t.focused,t.required,Object(i.a)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),v=Object(u.a)(),g=Object(s.a)({props:t,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]});return o.createElement(d,Object(r.a)({className:Object(a.a)(c.root,c["color".concat(Object(l.a)(g.color||"primary"))],f,g.disabled&&c.disabled,g.error&&c.error,g.filled&&c.filled,g.focused&&c.focused,g.required&&c.required),ref:e},p),n,g.required&&o.createElement("span",{"aria-hidden":!0,className:Object(a.a)(c.asterisk,g.error&&c.error)},"\u2009","*"))}),h=Object(c.a)(function(t){return{root:Object(r.a)({color:t.palette.text.secondary},t.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),colorSecondary:{"&$focused":{color:t.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:t.palette.error.main}}}},{name:"MuiFormLabel"})(f),d=o.forwardRef(function(t,e){var n=t.classes,c=t.className,l=t.disableAnimation,f=void 0!==l&&l,d=(t.margin,t.shrink),p=(t.variant,Object(i.a)(t,["classes","className","disableAnimation","margin","shrink","variant"])),v=Object(u.a)(),g=d;"undefined"===typeof g&&v&&(g=v.filled||v.focused||v.adornedStart);var m=Object(s.a)({props:t,muiFormControl:v,states:["margin","variant"]});return o.createElement(h,Object(r.a)({"data-shrink":g,className:Object(a.a)(n.root,c,v&&n.formControl,!f&&n.animated,g&&n.shrink,"dense"===m.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[m.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:e},p))});e.a=Object(c.a)(function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},{name:"MuiInputLabel"})(d)},function(t,e,n){"use strict";var r=n(19),i=n(27),o=(n(4),n(0)),a=n.n(o),s=n(17),u=n.n(s),c=!1,l=n(74),f="unmounted",h="exited",d="entering",p="entered",v=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=h,r.appearStatus=d):i=p:i=e.unmountOnExit||e.mountOnEnter?f:h,r.state={status:i},r.nextCallback=null,r}Object(i.a)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===f?{status:h}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(e=d):n!==d&&n!==p||(e="exiting")}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===d?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:f})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!t&&!n||c?this.safeSetState({status:p},function(){e.props.onEntered(o)}):(this.props.onEnter(o,a),this.safeSetState({status:d},function(){e.props.onEntering(o,a),e.onTransitionEnd(l,function(){e.safeSetState({status:p},function(){e.props.onEntered(o,a)})})}))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);e&&!c?(this.props.onExit(r),this.safeSetState({status:"exiting"},function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,function(){t.safeSetState({status:h},function(){t.props.onExited(r)})})})):this.safeSetState({status:h},function(){t.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===f)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,Object(r.a)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(l.a.Provider,{value:null},"function"===typeof n?n(t,i):a.a.cloneElement(a.a.Children.only(n),i))},e}(a.a.Component);function g(){}v.contextType=l.a,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},v.UNMOUNTED=f,v.EXITED=h,v.ENTERING=d,v.ENTERED=p,v.EXITING="exiting";e.a=v}]]);
//# sourceMappingURL=1.fb39b389.chunk.js.map