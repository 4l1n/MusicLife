{"version":3,"sources":["assets/neutral.png","assets/angry.png","assets/disgusted.png","assets/fearful.png","assets/happy.png","assets/sad.png","assets/surprised.png","components/HomePage/index.js","components/firebase.js","components/Login/index.js","components/Register/index.js","components/Dashboard/Stream.js","components/Dashboard/index.js","components/App/index.js","index.js"],"names":["module","exports","__webpack_require__","p","withStyles","theme","main","Object","defineProperty","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","concat","avatar","margin","backgroundColor","palette","secondary","submit","props","classes","react_default","a","createElement","className","Paper","Avatar","VerifiedUserOutlined_default","Typography","component","variant","Button","type","fullWidth","color","Link","to","config","apiKey","authDomain","databaseURL","projectId","storageBucket","measurementId","firebase","Firebase","classCallCheck","this","app","initializeApp","auth","db","firestore","email","password","signInWithEmailAndPassword","signOut","name","gender","createUserWithEmailAndPassword","then","cred","_this","collection","doc","user","uid","set","username","currentUser","updateProfile","displayName","_this2","Promise","resolve","onAuthStateChanged","get","data","videoId","title","description","thumbnail","expresion","timestamp","snapshot","docs","map","withRouter","form","input","_React$useState","React","useState","_React$useState2","slicedToArray","open","setOpen","_React$useState3","_React$useState4","message","setErrorMessage","handleClose","event","reason","LockOutlined_default","formik_esm","initialValues","validate","values","errors","test","onSubmit","_ref","setSubmitting","setTimeout","_x","_x2","_login","apply","arguments","login","finally","_ref2","touched","handleChange","handleSubmit","isSubmitting","style","Input","id","placeholder","autoComplete","value","onChange","disabled","Snackbar","autoHideDuration","onClose","Alert","severity","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","history","replace","t0","stop","_x3","_x4","_onRegister","onRegister","InputLabel","Select","labelId","MenuItem","register","moodStates","angry","src","Angry","keywords","disgusted","Disgusted","fearful","Fearful","happy","Happy","neutral","Neutral","sad","Sad","surprised","Surprised","assign","elevation","canvas","video","position","opacity","visibility","height","root","details","content","flex","cover","controls","playIcon","prop","_useState","_useState2","posts","setPosts","_useState3","_useState4","foundexp","setfoundexp","_useState5","_useState6","_useState7","_useState8","metrics","setMetrics","_useState9","_useState10","newName","setNewName","_useState11","_useState12","setGender","useEffect","onSaveSong","saveSong","snippet","thumbnails","default","url","alert","onSaveMetrics","_callee2","_context2","saveMetrics","Date","now","length","getMetrics","random","Math","floor","axios","method","params","part","maxResults","key","q","res","items","catch","error","console","log","Webcam","_ref3","_callee4","startVideo","_context4","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","oGetUserMedia","stream","srcObject","err","all","faceapi","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceExpressionNet","document","getElementById","addEventListener","displaySize","videoWidth","videoHeight","setInterval","_callee3","detections","expression","exp_inx","exp","_context3","withFaceLandmarks","withFaceExpressions","sent","expressions","indexOf","max","getOwnPropertyNames","labels","datasets","label","array","m","hoverOffset","alt","undefined","textAlign","Accordion","marginBottom","AccordionSummary","expandIcon","ExpandMore_default","aria-controls","heading","AccordionDetails","enableReinitialize","_ref5","_setNameGender","setNameGender","_ref6","index_modern","Stream_Alert","autoPlay","muted","item","Card","CardContent","IconButton","aria-label","SkipPrevious_default","href","PlayArrow_default","SkipNext_default","_callee5","_context5","maxWidth","setUser","songs","setSongs","getUser","getSongs","getCurrentUsername","Dashboard_Stream","onClick","_logout","logout","push","createMuiTheme","App","firebaseInitialized","setFirebaseInitialized","isInitialized","val","ThemeProvider","CssBaseline","BrowserRouter","Switch","Route","exact","path","HomePage","Login","Register","Dashboard","CircularProgress","ReactDOM","render"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qVCiFzBC,UA3EA,SAAAC,GAAK,MAAK,CACxBC,KAAKC,OAAAC,EAAA,EAAAD,CAAA,CACJE,MAAO,OACPC,QAAS,QACTC,WAAiC,EAArBN,EAAMO,QAAQC,KAC1BC,YAAkC,EAArBT,EAAMO,QAAQC,MAC1BR,EAAMU,YAAYC,GAAG,IAA2B,EAArBX,EAAMO,QAAQC,KAAW,GAAK,CACzDJ,MAAO,IACPE,WAAY,OACZG,YAAa,SAGfG,MAAO,CACNC,UAAgC,EAArBb,EAAMO,QAAQC,KACzBH,QAAS,OACTS,cAAe,SACfC,WAAY,SACZC,QAAO,GAAAC,OAA0B,EAArBjB,EAAMO,QAAQC,KAAnB,OAAAS,OAAsD,EAArBjB,EAAMO,QAAQC,KAA/C,OAAAS,OAAkF,EAArBjB,EAAMO,QAAQC,KAA3E,OAERU,OAAQ,CACPC,OAAQnB,EAAMO,QAAQC,KACtBY,gBAAiBpB,EAAMqB,QAAQC,UAAUrB,MAE1CsB,OAAQ,CACPV,UAAgC,EAArBb,EAAMO,QAAQC,QAmDZT,CA/Cf,SAAkByB,GAAO,IAChBC,EAAYD,EAAZC,QAER,OACCC,EAAAC,EAAAC,cAAA,QAAMC,UAAWJ,EAAQxB,MACxByB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAWJ,EAAQb,OACzBc,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQF,UAAWJ,EAAQP,QAC1BQ,EAAAC,EAAAC,cAACI,EAAAL,EAAD,OAEDD,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,gBAGAT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,YACNL,UAAWM,IACXC,GAAG,YACHZ,UAAWJ,EAAQF,QAPpB,YAUAG,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,YACNL,UAAWM,IACXC,GAAG,SACHZ,UAAWJ,EAAQF,QAPpB,SAUAG,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,YACNL,UAAWM,IACXC,GAAG,aACHZ,UAAWJ,EAAQF,QAPpB,uGC9DEmB,iBAAS,CACdC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yEACbC,UAAW,kBACXC,cAAe,8BACfC,cAAe,iBAuFDC,EAAA,eAnFd,SAAAC,IAAehD,OAAAiD,EAAA,EAAAjD,CAAAkD,KAAAF,GACdG,IAAIC,cAAcZ,GAClBU,KAAKG,KAAOF,IAAIE,OAChBH,KAAKI,GAAKH,IAAII,8DAITC,EAAOC,GACZ,OAAOP,KAAKG,KAAKK,2BAA2BF,EAAOC,oCAInD,OAAOP,KAAKG,KAAKM,mFAEHC,EAAMJ,EAAOC,EAAUI,8FAC/BX,KAAKG,KAAKS,+BAA+BN,EAAOC,GACpDM,KAAK,SAACC,GACNC,EAAKX,GAAGY,WAAW,YAAYC,IAAIH,EAAKI,KAAKC,KAAKC,IAAI,CACrDC,SAAUX,EACVJ,MAAOA,EACPK,OAAQA,sCAIJX,KAAKG,KAAKmB,YAAYC,cAAc,CAC1CC,YAAad,sJAIC,IAAAe,EAAAzB,KACf,OAAO,IAAI0B,QAAQ,SAAAC,GAClBF,EAAKtB,KAAKyB,mBAAmBD,kDAK9B,OAAO3B,KAAKG,KAAKmB,aAAetB,KAAKG,KAAKmB,YAAYE,sKAIzCxB,KAAKG,KAAKmB,6DAAetB,KAAKI,GAAGY,WAAW,YAAYC,IAAIjB,KAAKG,KAAKmB,YAAYH,KAAKU,MAAMhB,KAAK,SAAAiB,GAAI,OAAIA,EAAKA,0NAG9GC,EAASC,EAAOC,EAAaC,mFAC9BlC,KAAKG,KAAKmB,6DAAetB,KAAKI,GAAGY,WAAW,YAAYC,IAAIjB,KAAKG,KAAKmB,YAAYH,KAAKH,WAAW,SAASC,IAAIc,GAASX,IAAI,CACxIW,QAASA,EACTC,MAAOA,EACPC,YAAaA,EACbC,UAAWA,+NAIKH,EAASC,EAAOG,EAAWC,mFAC/BpC,KAAKG,KAAKmB,6DAAetB,KAAKI,GAAGY,WAAW,YAAYC,IAAIjB,KAAKG,KAAKmB,YAAYH,KAAKH,WAAW,WAAWC,IAAIc,GAASX,IAAI,CAC1IW,QAASA,EACTC,MAAOA,EACPG,UAAWA,EACXC,UAAWA,8SAKKpC,KAAKG,KAAKmB,kDAAqBtB,KAAKI,GAAGY,WAAW,YAAYC,IAAIjB,KAAKG,KAAKmB,YAAYH,KAAKH,WAAW,WAAWa,uCAA9HQ,yBAECA,EAAWA,EAASC,KAAKC,IAAI,SAAAtB,GAAG,OAAIA,EAAIa,SAAU,+PAIxC9B,KAAKG,KAAKmB,kDAAqBtB,KAAKI,GAAGY,WAAW,YAAYC,IAAIjB,KAAKG,KAAKmB,YAAYH,KAAKH,WAAW,SAASa,uCAA5HQ,yBAGCA,EAAWA,EAASC,KAAKC,IAAI,SAAAtB,GAAG,OAAIA,EAAIa,SAAU,oLAGtCpB,EAAMC,mFACZX,KAAKG,KAAKmB,6DAAetB,KAAKI,GAAGY,WAAW,YAAYC,IAAIjB,KAAKG,KAAKmB,YAAYH,KAAKC,IAAI,CACvGd,MAAON,KAAKG,KAAKmB,YAAYhB,MAC7Be,SAAUX,EACVC,OAAQA,mLCiEI6B,kBAAW7F,IAnJX,SAAAC,GAAK,MAAK,CACxBC,KAAKC,OAAAC,EAAA,EAAAD,CAAA,CACJE,MAAO,OACPC,QAAS,QACTC,WAAiC,EAArBN,EAAMO,QAAQC,KAC1BC,YAAkC,EAArBT,EAAMO,QAAQC,MAC1BR,EAAMU,YAAYC,GAAG,IAA2B,EAArBX,EAAMO,QAAQC,KAAW,GAAK,CACzDJ,MAAO,IACPE,WAAY,OACZG,YAAa,SAGfG,MAAO,CACNC,UAAgC,EAArBb,EAAMO,QAAQC,KACzBH,QAAS,OACTS,cAAe,SACfC,WAAY,SACZC,QAAO,GAAAC,OAA0B,EAArBjB,EAAMO,QAAQC,KAAnB,OAAAS,OAAsD,EAArBjB,EAAMO,QAAQC,KAA/C,OAAAS,OAAkF,EAArBjB,EAAMO,QAAQC,KAA3E,OAERU,OAAQ,CACPC,OAAQnB,EAAMO,QAAQC,KACtBY,gBAAiBpB,EAAMqB,QAAQC,UAAUrB,MAE1C4F,KAAM,CACLzF,MAAO,OACPS,UAAWb,EAAMO,QAAQC,MAE1Be,OAAQ,CACPV,UAAgC,EAArBb,EAAMO,QAAQC,MAE1BsF,MAAO,CACNjF,UAAW,GACXT,MAAO,UAmHiBL,CA/G1B,SAAgByB,GAAO,IACdC,EAAYD,EAAZC,QADcsE,EAGEC,IAAMC,UAAS,GAHjBC,EAAAhG,OAAAiG,EAAA,EAAAjG,CAAA6F,EAAA,GAGfK,EAHeF,EAAA,GAGTG,EAHSH,EAAA,GAAAI,EAIaN,IAAMC,SAAS,IAJ5BM,EAAArG,OAAAiG,EAAA,EAAAjG,CAAAoG,EAAA,GAIfE,EAJeD,EAAA,GAINE,EAJMF,EAAA,GAMhBG,EAAc,SAACC,EAAOC,GACZ,cAAXA,GAIJP,GAAQ,IAGT,OACC3E,EAAAC,EAAAC,cAAA,QAAMC,UAAWJ,EAAQxB,MACxByB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAWJ,EAAQb,OACzBc,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQF,UAAWJ,EAAQP,QAC1BQ,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,OAEDD,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,WAGAT,EAAAC,EAAAC,cAACkF,EAAA,EAAD,CACCC,cAAe,CAAErD,MAAO,GAAIC,SAAU,IACtCqD,SAAU,SAAAC,GACT,IAAMC,EAAS,GAcf,OAZKD,EAAOtD,WACXuD,EAAOvD,SAAW,wBAGdsD,EAAOvD,MAGV,2CAA2CyD,KAAKF,EAAOvD,SAExDwD,EAAOxD,MAAQ,yBAJfwD,EAAOxD,MAAQ,oBAOTwD,GAERE,SAAU,SAACH,EAADI,GAA+B,IAApBC,EAAoBD,EAApBC,cACpBC,WAAW,YA3CM,SAAAC,EAAAC,GAAA,OAAAC,EAAAC,MAAAvE,KAAAwE,YA4ChBC,CAAMZ,EAAOvD,MAAOuD,EAAOtD,UACzBmE,QAAQ,kBAAMR,GAAc,MAC5B,OAGH,SAAAS,GAAA,IACEd,EADFc,EACEd,OACAC,EAFFa,EAEEb,OACAc,EAHFD,EAGEC,QACAC,EAJFF,EAIEE,aACAC,EALFH,EAKEG,aACAC,EANFJ,EAMEI,aANF,OAQAzG,EAAAC,EAAAC,cAAA,QAAMwF,SAAUc,EAAcE,MAAO,CAAChI,MAAO,SAC5CsB,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAOC,GAAG,QAAQxE,KAAK,QAAQyE,YAAa,QAASC,aAAa,MAAMC,MAAOxB,EAAOvD,MAAOgF,SAAUT,EAAcpG,UAAWJ,EAAQqE,QACxIpE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACjB2E,EAAOxD,OAASsE,EAAQtE,OAASwD,EAAOxD,OAG1ChC,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAOC,GAAG,WAAWxE,KAAK,WAAWyE,YAAa,WAAYC,aAAa,MAAMnG,KAAM,WAAYoG,MAAOxB,EAAOtD,SAAU+E,SAAUT,EAAcpG,UAAWJ,EAAQqE,QACtKpE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACjB2E,EAAOvD,UAAYqE,EAAQrE,UAAYuD,EAAOvD,UAGhDjC,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,UACNoG,SAAUR,EACVtG,UAAWJ,EAAQF,QANpB,WASAG,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,YACNL,UAAWM,IACXC,GAAG,YACHZ,UAAWJ,EAAQF,QAPpB,eAcHG,EAAAC,EAAAC,cAACgH,EAAA,EAAD,CAAUxC,KAAMA,EAAMyC,iBAAkB,IAAMC,QAASpC,GACtDhF,EAAAC,EAAAC,cAACmH,EAAA,EAAD,CAAOD,QAASpC,EAAasC,SAAS,SACpCxC,MA7FgB,SAAAkB,IAAA,OAAAA,EAAAxH,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAoGtB,SAAAC,EAAqB1F,EAAOC,GAA5B,OAAAuF,EAAAvH,EAAA0H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEQvG,EAAS4E,MAAMnE,EAAOC,GAF9B,OAGEnC,EAAMiI,QAAQC,QAAQ,cAHxBJ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAKEjD,GAAQ,GACRI,EAAgB6C,EAAAK,GAAMnD,SANxB,yBAAA8C,EAAAM,SAAAR,EAAA,kBApGsBzB,MAAAvE,KAAAwE,0CCmJRhC,kBAAW7F,IAtLX,SAAAC,GAAK,MAAK,CACxBC,KAAKC,OAAAC,EAAA,EAAAD,CAAA,CACJE,MAAO,OACPC,QAAS,QACTC,WAAiC,EAArBN,EAAMO,QAAQC,KAC1BC,YAAkC,EAArBT,EAAMO,QAAQC,MAC1BR,EAAMU,YAAYC,GAAG,IAA2B,EAArBX,EAAMO,QAAQC,KAAW,GAAK,CACzDJ,MAAO,IACPE,WAAY,OACZG,YAAa,SAGfG,MAAO,CACNC,UAAgC,EAArBb,EAAMO,QAAQC,KACzBH,QAAS,OACTS,cAAe,SACfC,WAAY,SACZC,QAAO,GAAAC,OAA0B,EAArBjB,EAAMO,QAAQC,KAAnB,OAAAS,OAAsD,EAArBjB,EAAMO,QAAQC,KAA/C,OAAAS,OAAkF,EAArBjB,EAAMO,QAAQC,KAA3E,OAERU,OAAQ,CACPC,OAAQnB,EAAMO,QAAQC,KACtBY,gBAAiBpB,EAAMqB,QAAQC,UAAUrB,MAE1C4F,KAAM,CACLzF,MAAO,OACPS,UAAWb,EAAMO,QAAQC,MAE1Be,OAAQ,CACPV,UAAgC,EAArBb,EAAMO,QAAQC,MAE1BuD,OAAQ,CACP3D,MAAO,QAER0F,MAAO,CACN1F,MAAO,OACPS,UAAW,MAmJad,CA/I1B,SAAkByB,GAAO,IAChBC,EAAYD,EAAZC,QADgBsE,EAGAC,IAAMC,UAAS,GAHfC,EAAAhG,OAAAiG,EAAA,EAAAjG,CAAA6F,EAAA,GAGjBK,EAHiBF,EAAA,GAGXG,EAHWH,EAAA,GAAAI,EAIWN,IAAMC,SAAS,IAJ1BM,EAAArG,OAAAiG,EAAA,EAAAjG,CAAAoG,EAAA,GAIjBE,EAJiBD,EAAA,GAIRE,EAJQF,EAAA,GAMlBG,EAAc,SAACC,EAAOC,GACZ,cAAXA,GAIJP,GAAQ,IAGT,OACC3E,EAAAC,EAAAC,cAAA,QAAMC,UAAWJ,EAAQxB,MACxByB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAWJ,EAAQb,OACzBc,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQF,UAAWJ,EAAQP,QAC1BQ,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,OAEDD,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,oBAGAT,EAAAC,EAAAC,cAACkF,EAAA,EAAD,CACCC,cAAe,CAAEjD,KAAM,GAAIJ,MAAO,GAAIC,SAAU,GAAII,OAAQ,IAC5DiD,SAAU,SAAAC,GACT,IAAMC,EAAS,GAsBf,OApBKD,EAAOnD,OACXoD,EAAOpD,KAAO,oBAGVmD,EAAOtD,WACXuD,EAAOvD,SAAW,wBAGdsD,EAAOlD,SACXmD,EAAOnD,OAAS,sBAGZkD,EAAOvD,MAGV,2CAA2CyD,KAAKF,EAAOvD,SAExDwD,EAAOxD,MAAQ,yBAJfwD,EAAOxD,MAAQ,oBAOTwD,GAERE,SAAU,SAACH,EAADI,GAA+B,IAApBC,EAAoBD,EAApBC,cACpBC,WAAW,YAnDQ,SAAAC,EAAAC,EAAAoC,EAAAC,GAAA,OAAAC,EAAApC,MAAAvE,KAAAwE,YAoDlBoC,CAAW/C,EAAOnD,KAAMmD,EAAOvD,MAAOuD,EAAOtD,SAAUsD,EAAOlD,QAC5D+D,QAAQ,kBAAMR,GAAc,MAC5B,OAGH,SAAAS,GAAA,IACEd,EADFc,EACEd,OACAC,EAFFa,EAEEb,OACAc,EAHFD,EAGEC,QACAC,EAJFF,EAIEE,aACAC,EALFH,EAKEG,aACAC,EANFJ,EAMEI,aANF,OAQAzG,EAAAC,EAAAC,cAAA,QAAMwF,SAAUc,EAAcE,MAAO,CAAChI,MAAO,SAC5CsB,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAOC,GAAG,OAAOxE,KAAK,OAAOyE,YAAa,OAAQC,aAAa,MAAMC,MAAOxB,EAAOnD,KAAM4E,SAAUT,EAAcpG,UAAWJ,EAAQqE,QACpIpE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACjB2E,EAAOpD,MAAQkE,EAAQlE,MAAQoD,EAAOpD,MAGxCpC,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAOC,GAAG,QAAQxE,KAAK,QAAQyE,YAAa,QAASC,aAAa,MAAMC,MAAOxB,EAAOvD,MAAOgF,SAAUT,EAAcpG,UAAWJ,EAAQqE,QACxIpE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACjB2E,EAAOxD,OAASsE,EAAQtE,OAASwD,EAAOxD,OAG1ChC,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAOC,GAAG,WAAWxE,KAAK,WAAWyE,YAAa,WAAYC,aAAa,MAAMnG,KAAM,WAAYoG,MAAOxB,EAAOtD,SAAU+E,SAAUT,EAAcpG,UAAWJ,EAAQqE,QACtKpE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACjB2E,EAAOvD,UAAYqE,EAAQrE,UAAYuD,EAAOvD,UAGhDjC,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAY3B,GAAG,2BAA2BF,MAAO,CAACvH,UAAW,KAA7D,UACAa,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CACCC,QAAQ,2BACR7B,GAAG,qBACHxE,KAAM,SACNyE,YAAa,SACbE,MAAOxB,EAAOlD,OACdlC,UAAWJ,EAAQqE,MACnB4C,SAAUT,GAEVvG,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAU3B,MAAO,QAAjB,QACA/G,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAU3B,MAAO,UAAjB,WAGD/G,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACjB2E,EAAOnD,QAAUiE,EAAQjE,QAAUmD,EAAOnD,QAG5CrC,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,UACNoG,SAAUR,EACVtG,UAAWJ,EAAQF,QANpB,YAUAG,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,YACNL,UAAWM,IACXC,GAAG,SACHZ,UAAWJ,EAAQF,QAPpB,uBAcHG,EAAAC,EAAAC,cAACgH,EAAA,EAAD,CAAUxC,KAAMA,EAAMyC,iBAAkB,IAAMC,QAASpC,GACtDhF,EAAAC,EAAAC,cAACmH,EAAA,EAAD,CAAOD,QAASpC,EAAasC,SAAS,SACpCxC,MA7HkB,SAAAuD,IAAA,OAAAA,EAAA7J,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAoIxB,SAAAC,EAA0BtF,EAAMJ,EAAOC,EAAUI,GAAjD,OAAAmF,EAAAvH,EAAA0H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEQvG,EAASoH,SAASvG,EAAMJ,EAAOC,EAAUI,GAFjD,OAGEvC,EAAMiI,QAAQC,QAAQ,cAHxBJ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAKEjD,GAAQ,GACRI,EAAgB6C,EAAAK,GAAMnD,SANxB,yBAAA8C,EAAAM,SAAAR,EAAA,kBApIwBzB,MAAAvE,KAAAwE,8UC0BnB0C,GAAa,CACfC,MAAO,CACHzG,KAAM,QACN0G,IAAKC,IACLC,SAAU,CAAC,mBAAoB,+CAAgD,uBAAwB,iDAE3GC,UAAW,CACP7G,KAAM,YACN0G,IAAKI,IACLF,SAAU,CAAC,mBAAoB,wBAAyB,YAAa,YAEzEG,QAAS,CACL/G,KAAM,UACN0G,IAAKM,IACLJ,SAAU,CAAC,aAAc,UAAW,gBAAiB,aAEzDK,MAAO,CACHjH,KAAM,QACN0G,IAAKQ,IACLN,SAAU,CAAC,UAAW,UAAW,UAAW,wBAEhDO,QAAS,CACLnH,KAAM,UACN0G,IAAKU,IACLR,SAAU,CAAC,kBAAmB,YAAa,cAAe,aAE9DS,IAAK,CACDrH,KAAM,MACN0G,IAAKY,IACLV,SAAU,CAAC,QAAS,aAAW,gBAAiB,mCAEpDW,UAAW,CACPvH,KAAM,YACN0G,IAAKc,KACLZ,SAAU,CAAC,OAAQ,WAAY,8BAA+B,aAItE,SAAS3B,GAAMvH,GACX,OAAOE,EAAAC,EAAAC,cAACmH,EAAA,EAAD7I,OAAAqL,OAAA,CAAUC,UAAW,EAAGrJ,QAAQ,UAAaX,IAGxD,IAiVezB,eAvaA,SAAAC,GAAK,MAAK,CACrByL,OAAQ,CACJrL,MAAO,QAEXsL,MAAO,CACHC,SAAU,QACVC,QAAS,EACTC,WAAY,UAEhB3K,OAAQ,CACJd,MAAO,IACP0L,OAAQ,IACR3K,OAAQ,UAEZ4K,KAAM,CACF1L,QAAS,QAEb2L,QAAS,CACL3L,QAAS,OACTS,cAAe,UAEnBmL,QAAS,CACLC,KAAM,YAEVC,MAAO,CACH/L,MAAO,KAEXgM,SAAU,CACN/L,QAAS,OACTU,WAAY,SACZC,QAAS,IAEbqL,SAAU,CACNP,OAAQ,GACR1L,MAAO,IAEXmB,OAAQ,CACJV,UAAgC,EAArBb,EAAMO,QAAQC,MAE7BsF,MAAO,CACH1F,MAAO,UA+XAL,CAjVA,SAACuM,GAAS,IACd7K,EAAiB6K,EAAjB7K,QAAS6C,EAAQgI,EAARhI,KADKiI,EAGKtG,mBAAS,IAHduG,EAAAtM,OAAAiG,EAAA,EAAAjG,CAAAqM,EAAA,GAGdE,EAHcD,EAAA,GAGPE,EAHOF,EAAA,GAAAG,EAIW1G,mBAAS,WAJpB2G,EAAA1M,OAAAiG,EAAA,EAAAjG,CAAAyM,EAAA,GAIdE,EAJcD,EAAA,GAIJE,EAJIF,EAAA,GAAAG,EAKG9G,oBAAS,GALZ+G,EAAA9M,OAAAiG,EAAA,EAAAjG,CAAA6M,EAAA,GAKd3G,EALc4G,EAAA,GAKR3G,EALQ2G,EAAA,GAAAC,EAMShH,mBAAS,IANlBiH,EAAAhN,OAAAiG,EAAA,EAAAjG,CAAA+M,EAAA,GAMdE,EANcD,EAAA,GAMLE,EANKF,EAAA,GAAAG,EAOSpH,mBAAS3B,GAAQA,EAAKG,UAP/B6I,EAAApN,OAAAiG,EAAA,EAAAjG,CAAAmN,EAAA,GAOdE,EAPcD,EAAA,GAOLE,EAPKF,EAAA,GAAAG,EAQOxH,mBAAS3B,GAAQA,EAAKP,QAR7B2J,EAAAxN,OAAAiG,EAAA,EAAAjG,CAAAuN,EAAA,GAQd1J,EARc2J,EAAA,GAQNC,EARMD,EAAA,GAUrBE,oBAAU,WACN,IAAMC,EAAU,eAAAxG,EAAAnH,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAAG,SAAAC,IAAA,OAAAF,EAAAvH,EAAA0H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAELvG,EAAS6K,SAASrB,EAAM,GAAGnE,GAAGnD,QAASsH,EAAM,GAAGsB,QAAQ3I,MAAOqH,EAAM,GAAGsB,QAAQ1I,YAAaoH,EAAM,GAAGsB,QAAQC,WAAWC,QAAQC,KAF5H,OAAA5E,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAIX6E,MAAM7E,EAAAK,GAAMnD,SAJD,wBAAA8C,EAAAM,SAAAR,EAAA,iBAAH,yBAAA/B,EAAAM,MAAAvE,KAAAwE,YAAA,GAQVwG,EAAa,eAAArG,EAAA7H,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAAG,SAAAkF,IAAA,OAAAnF,EAAAvH,EAAA0H,KAAA,SAAAiF,GAAA,cAAAA,EAAA/E,KAAA+E,EAAA9E,MAAA,cAAA8E,EAAA/E,KAAA,EAAA+E,EAAA9E,KAAA,EAERvG,EAASsL,YAAY9B,EAAM,GAAGnE,GAAGnD,QAASsH,EAAM,GAAGsB,QAAQ3I,MAAOyH,EAAU2B,KAAKC,OAFzE,OAAAH,EAAA9E,KAAA,eAAA8E,EAAA/E,KAAA,EAAA+E,EAAA3E,GAAA2E,EAAA,SAIdH,MAAMG,EAAA3E,GAAMnD,SAJE,wBAAA8H,EAAA1E,SAAAyE,EAAA,iBAAH,yBAAAtG,EAAAJ,MAAAvE,KAAAwE,YAAA,GAQf6E,EAAMiC,OAAS,IACfb,IAAa5J,OACbmK,IAAgBnK,SAErB,CAACwI,IAEJmB,oBAAU,WACFf,GACA5J,EAAS0L,aAAa1K,KAAKmJ,IAEhC,CAACP,IAEJe,oBAAU,WACN,IAAMgB,EAASC,KAAKC,MAAMD,KAAKD,SAAWtE,GAAWuC,GAAUnC,SAASgE,QAExEK,KAAM,CACFC,OAAU,MACVd,IAAO,+CACPe,OAAS,CACLC,KAAO,UACPC,WAAa,IACbC,IAAM,0CACNC,EAAIxC,EAAWvC,GAAWuC,GAAUnC,SAASkE,GAAU,WAG1D3K,KAAK,SAACqL,GACH5C,EAAS4C,EAAIpK,KAAKqK,SAErBC,MAAM,SAACC,GACJC,QAAQC,IAAIF,MAEtB,CAAC5C,IAEHe,oBAAU,WACNgC,KACD,IAEH,IAAMA,EAAM,eAAAC,EAAA3P,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAAG,SAAA2G,IAAA,IAAApE,EAOFqE,EAPE,OAAA7G,EAAAvH,EAAA0H,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,OAOFuG,EAPE,WAQPE,UAAUC,aAAeD,UAAUC,cAAgBD,UAAUE,oBAAsBF,UAAUG,iBAAmBH,UAAUI,gBAAkBJ,UAAUK,cAClJL,UAAUC,cACVD,UAAUC,aACN,CAAExE,MAAO,IACT,SAAA6E,GAAM,OAAI7E,EAAM8E,UAAYD,GAC5B,SAAAE,GAAG,OAAIf,QAAQD,MAAMgB,MAZjC3L,QAAQ4L,IAAI,CACRC,IAAaC,iBAAiBC,YAAY,YAC1CF,IAAaG,kBAAkBD,YAAY,YAC3CF,IAAaI,kBAAkBF,YAAY,cAC5C5M,KAAK8L,IACFrE,EAAQsF,SAASC,eAAe,UAYhCC,iBAAiB,OAAQ,WAC3B,IAAMzF,EAASuF,SAASC,eAAe,UACjCE,EAAc,CAAE/Q,MAAOsL,EAAM0F,WAAYtF,OAAQJ,EAAM2F,aAC7DV,IAAwBlF,EAAQ0F,GAEhCG,YAAWpR,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAAC,SAAAoI,IAAA,IAAAC,EAAAC,EAAAxK,EAAAyK,EAAAC,EAAA,OAAAzI,EAAAvH,EAAA0H,KAAA,SAAAuI,GAAA,cAAAA,EAAArI,KAAAqI,EAAApI,MAAA,cAAAoI,EAAApI,KAAA,EACiBmH,IAAyBjF,EAAO,IAAIiF,KAAmCkB,oBAAoBC,sBAD5G,QACFN,EADEI,EAAAG,QAIEN,EAAcD,EAAWQ,YACzB/K,EAAS/G,OAAO+G,OAAOwK,GACvBC,EAAUzK,EAAOgL,QAAQpD,KAAKqD,IAAIvK,MAAMkH,KAAM5H,IAC9C0K,EAAMzR,OAAOiS,oBAAoBV,GAAYC,GACnD5E,EAAY6E,IARR,wBAAAC,EAAAhI,SAAA2H,MAWT,OAlCI,wBAAAvB,EAAApG,SAAAkG,MAAH,yBAAAD,EAAAlI,MAAAvE,KAAAwE,YAAA,GA+EZ8H,QAAQC,IAAIxC,GACZ,IAAMjI,EAAO,CACTkN,OAAQ,CAAC,QAAS,YAAa,UAAW,QAAS,UAAW,MAAO,aACrEC,SAAU,CAAC,CACPC,MAAO,mBACPpN,KA7CW,WACf,GAAIiI,EAAS,CACT,IAAMoF,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAmCjC,OAjCApF,EAAQxH,IAAI,SAAA6M,GACR,OAAQA,EAAEjN,WACN,IAAK,QACDgN,EAAM,IAAM,EACZ,MAEJ,IAAK,YACDA,EAAM,IAAM,EACZ,MAEJ,IAAK,UACDA,EAAM,IAAM,EACZ,MAEJ,IAAK,QACDA,EAAM,IAAM,EACZ,MAEJ,IAAK,UACDA,EAAM,IAAM,EACZ,MAEJ,IAAK,MACDA,EAAM,IAAM,EACZ,MAEJ,IAAK,YACDA,EAAM,IAAM,KAMjBA,GAQD5D,GACNvN,gBAAiB,CACb,oBACA,oBACA,oBACA,kBACA,mBACA,gBACA,kBAEJqR,YAAa,KAIf/L,EAAc,SAACC,EAAOC,GACT,cAAXA,GAIJP,GAAQ,IAGZ,OACI3E,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAAChI,MAAO,SAChBsB,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAAC/H,QAAS,SAClBqB,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQ2Q,IAAI,YAAYlI,SAA8BmI,IAAzBrI,GAAWuC,GAA0BvC,GAAWuC,GAAUrC,IAAMU,IAASrJ,UAAWJ,EAAQP,UAE7HQ,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAAChI,MAAO,SAChBsB,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAACwK,UAAW,WACpBlR,EAAAC,EAAAC,cAAA,eAA8B+Q,IAAzBrI,GAAWuC,GAA0BvC,GAAWuC,GAAU/I,KAAO,gBAEtEpC,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,SACYoL,EAAU,KAAOxJ,IAIjCrC,EAAAC,EAAAC,cAACiR,GAAA,EAAD,CAAWzK,MAAO,CAACvH,UAAW,GAAIiS,aAAc,GAAI1S,MAAO,SACvDsB,EAAAC,EAAAC,cAACmR,GAAA,EAAD,CACIC,WAAYtR,EAAAC,EAAAC,cAACqR,GAAAtR,EAAD,MACZuR,gBAAc,mBACd5K,GAAG,mBAEH5G,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYJ,UAAWJ,EAAQ0R,SAA/B,qBAEJzR,EAAAC,EAAAC,cAACwR,GAAA,EAAD,KAEI1R,EAAAC,EAAAC,cAACkF,EAAA,EAAD,CACIC,cAAe,CAAEjD,KAAMQ,GAAQA,EAAKG,SAAUV,OAAQO,GAAQA,EAAKP,QACnEsP,oBAAoB,EACpBrM,SAAU,SAAAC,GACN,IAAMC,EAAS,GAUf,OARKD,EAAOnD,OACRoD,EAAOpD,KAAO,oBAGbmD,EAAOlD,SACRmD,EAAOnD,OAAS,sBAGbmD,GAEXE,SAAU,SAACH,EAADqM,GAA+B,IAApBhM,EAAoBgM,EAApBhM,cACjBC,WAAW,YAnNlB,SAAAC,EAAAC,GAAA,OAAA8L,EAAA5L,MAAAvE,KAAAwE,YAoNW4L,CAAcvM,EAAOnD,KAAMmD,EAAOlD,QAC7BE,KAAK,WACFuJ,EAAWvG,EAAOnD,MAClB6J,EAAU1G,EAAOlD,UAEpB+D,QAAQ,kBAAMR,GAAc,MAClC,OAGN,SAAAmM,GAAA,IACKxM,EADLwM,EACKxM,OACAC,EAFLuM,EAEKvM,OACAc,EAHLyL,EAGKzL,QACAC,EAJLwL,EAIKxL,aACAC,EALLuL,EAKKvL,aACAC,EANLsL,EAMKtL,aANL,OAQGzG,EAAAC,EAAAC,cAAA,QAAMwF,SAAUc,EAAcE,MAAO,CAAChI,MAAO,SACzCsB,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAOvE,KAAK,OAAOyE,YAAa,OAAQC,aAAa,MAAMnG,KAAM,OAAQoG,MAAOxB,EAAOnD,KAAM4E,SAAUT,EAAcpG,UAAWJ,EAAQqE,QACxIpE,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACd2E,EAAOpD,MAAQkE,EAAQlE,MAAQoD,EAAOpD,MAG3CpC,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAY3B,GAAG,2BAA2BF,MAAO,CAACvH,UAAW,KAA7D,UACAa,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CACIC,QAAQ,2BACR7B,GAAG,qBACHxE,KAAM,SACNyE,YAAa,SACbE,MAAOxB,EAAOlD,OACdlC,UAAWJ,EAAQqE,MACnB4C,SAAUT,GAEVvG,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAU3B,MAAO,QAAjB,QACA/G,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAU3B,MAAO,UAAjB,WAGJ/G,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYM,MAAO,SACd2E,EAAOnD,QAAUiE,EAAQjE,QAAUmD,EAAOnD,QAG/CrC,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACIC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,UACNoG,SAAUR,EACVtG,UAAWJ,EAAQF,QANvB,mBAaZG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC8R,GAAA,EAAD,CAAUxO,KAAMA,EAAM9E,MAAO,IAAK0L,OAAQ,OAG9CpK,EAAAC,EAAAC,cAACgH,EAAA,EAAD,CAAUxC,KAAMA,EAAMyC,iBAAkB,IAAMC,QAASpC,GACnDhF,EAAAC,EAAAC,cAAC+R,GAAD,CAAO7K,QAASpC,EAAasC,SAAS,WAAtC,qBAQZtH,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAACwK,UAAW,WACpBlR,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,uBAMRT,EAAAC,EAAAC,cAAA,UAAQ0G,GAAG,SAASzG,UAAWJ,EAAQiK,QACvChK,EAAAC,EAAAC,cAAA,SAAO0G,GAAG,QAAQlI,MAAM,OAAO0L,OAAO,OAAO8H,UAAQ,EAACC,OAAK,EAAChS,UAAWJ,EAAQiK,QAE9Ee,EAAMiC,OAAS,GACZjC,EAAM9G,IAAI,SAAAmO,GACN,OACIpS,EAAAC,EAAAC,cAACmS,GAAA,EAAD,CAAMlS,UAAWJ,EAAQsK,KAAMqD,IAAK0E,EAAKxL,IACrC5G,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQuK,SACpBtK,EAAAC,EAAAC,cAACoS,GAAA,EAAD,CAAanS,UAAWJ,EAAQwK,SAC5BvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAC9B2R,EAAK/F,QAAQ3I,OAElB1D,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYE,QAAQ,YAAYI,MAAM,iBACjCuR,EAAK/F,QAAQ1I,cAGtB3D,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQ2K,UACpB1K,EAAAC,EAAAC,cAACqS,GAAA,EAAD,CAAYC,aAAW,YACSxS,EAAAC,EAAAC,cAACuS,GAAAxS,EAAD,OAEhCD,EAAAC,EAAAC,cAACqS,GAAA,EAAD,CAAYC,aAAW,cACnBxS,EAAAC,EAAAC,cAAA,KAAGwS,KAAM,mCAAqCN,EAAKxL,GAAGnD,SAClDzD,EAAAC,EAAAC,cAACyS,GAAA1S,EAAD,CAAeE,UAAWJ,EAAQ4K,aAG1C3K,EAAAC,EAAAC,cAACqS,GAAA,EAAD,CAAYC,aAAW,QACaxS,EAAAC,EAAAC,cAAC0S,GAAA3S,EAAD,SAI5CD,EAAAC,EAAAC,cAAA,OACIC,UAAWJ,EAAQ0K,MACnB3B,IAAKsJ,EAAK/F,QAAQC,WAAWC,QAAQC,IACrC9I,MAAM,oCA/Tb,SAAAmO,IAAA,OAAAA,EAAArT,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAwUrB,SAAAoL,EAA6BzQ,EAAMC,GAAnC,OAAAmF,EAAAvH,EAAA0H,KAAA,SAAAmL,GAAA,cAAAA,EAAAjL,KAAAiL,EAAAhL,MAAA,cAAAgL,EAAAjL,KAAA,EAAAiL,EAAAhL,KAAA,EAEcvG,EAASuQ,cAAc1P,EAAMC,GAAQE,KAAK,kBAAMoC,GAAQ,KAFtE,OAAAmO,EAAAhL,KAAA,eAAAgL,EAAAjL,KAAA,EAAAiL,EAAA7K,GAAA6K,EAAA,SAIQrG,MAAMqG,EAAA7K,GAAMnD,SAJpB,wBAAAgO,EAAA5K,SAAA2K,EAAA,kBAxUqB5M,MAAAvE,KAAAwE,cC0CVhC,mBAAW7F,IAlJX,SAAAC,GAAK,MAAK,CACxBC,KAAKC,OAAAC,EAAA,EAAAD,CAAA,CACJE,MAAO,OACPC,QAAS,QACTC,WAAiC,EAArBN,EAAMO,QAAQC,KAC1BC,YAAkC,EAArBT,EAAMO,QAAQC,MAC1BR,EAAMU,YAAYC,GAAG,IAA2B,EAArBX,EAAMO,QAAQC,KAAW,GAAK,CACzDJ,MAAO,IACPE,WAAY,OACZG,YAAa,SAGfG,MAAO,CACNC,UAAgC,EAArBb,EAAMO,QAAQC,KACzBH,QAAS,OACTS,cAAe,SACfC,WAAY,SACZC,QAAO,GAAAC,OAA0B,EAArBjB,EAAMO,QAAQC,KAAnB,OAAAS,OAAsD,EAArBjB,EAAMO,QAAQC,KAA/C,OAAAS,OAAkF,EAArBjB,EAAMO,QAAQC,KAA3E,OAERU,OAAQ,CACPC,OAAQnB,EAAMO,QAAQC,KACtBY,gBAAiBpB,EAAMqB,QAAQC,UAAUrB,MAE1CsB,OAAQ,CACPV,UAAgC,EAArBb,EAAMO,QAAQC,MAE1BuL,KAAM,CACL1L,QAAS,OACTyS,aAAc,GACd2B,SAAU,IACV5T,UAAW,GACXT,MAAO,QAER4L,QAAS,CACR3L,QAAS,OACTS,cAAe,UAEhBmL,QAAS,CACRC,KAAM,YAEPC,MAAO,CACN/L,MAAO,KAERgM,SAAU,CACT/L,QAAS,OACTU,WAAY,SACZC,QAAS,IAEVqL,SAAU,CACTP,OAAQ,GACR1L,MAAO,MAgGiBL,CA5F1B,SAAmByB,GAAO,IACjBC,EAAYD,EAAZC,QADiB8K,EAEDtG,mBAAS,MAFRuG,EAAAtM,OAAAiG,EAAA,EAAAjG,CAAAqM,EAAA,GAElBjI,EAFkBkI,EAAA,GAEZkI,EAFYlI,EAAA,GAAAG,EAGC1G,mBAAS,IAHV2G,EAAA1M,OAAAiG,EAAA,EAAAjG,CAAAyM,EAAA,GAGlBgI,EAHkB/H,EAAA,GAGXgI,EAHWhI,EAAA,GAUzB,OALAgB,oBAAU,WACT3K,EAAS4R,UAAU5Q,KAAKyQ,GACxBzR,EAAS6R,WAAW7Q,KAAK2Q,IACvB,IAEC3R,EAAS8R,qBAMZrT,EAAAC,EAAAC,cAAA,QAAMC,UAAWJ,EAAQxB,MACxByB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAWJ,EAAQb,OACzBc,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQF,UAAWJ,EAAQP,QAC1BQ,EAAAC,EAAAC,cAACI,EAAAL,EAAD,OAGA2C,GACA5C,EAAAC,EAAAC,cAACoT,GAAD,CAAQ1Q,KAAMA,IAGdqQ,GAASA,EAAMjG,OAAS,GACxBhN,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAACvH,UAAW,GAAIiS,aAAc,KACzCpR,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKiG,MAAO,CAAC7F,MAAO,YAAvD,wBAMDoS,EAAMjG,OAAS,GACfiG,EAAMhP,IAAI,SAAAmO,GACT,OACCpS,EAAAC,EAAAC,cAACmS,GAAA,EAAD,CAAMlS,UAAWJ,EAAQsK,KAAMqD,IAAK0E,EAAKxL,IACxC5G,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQuK,SACvBtK,EAAAC,EAAAC,cAACoS,GAAA,EAAD,CAAanS,UAAWJ,EAAQwK,SAC/BvK,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MACjC2R,EAAK1O,OAEP1D,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAYE,QAAQ,YAAYI,MAAM,iBACpCuR,EAAKzO,cAGR3D,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQ2K,UACvB1K,EAAAC,EAAAC,cAACqS,GAAA,EAAD,CAAYC,aAAW,YACMxS,EAAAC,EAAAC,cAACuS,GAAAxS,EAAD,OAE7BD,EAAAC,EAAAC,cAACqS,GAAA,EAAD,CAAYC,aAAW,cACtBxS,EAAAC,EAAAC,cAAA,KAAGwS,KAAM,mCAAqCN,EAAK3O,SAClDzD,EAAAC,EAAAC,cAACyS,GAAA1S,EAAD,CAAeE,UAAWJ,EAAQ4K,aAGpC3K,EAAAC,EAAAC,cAACqS,GAAA,EAAD,CAAYC,aAAW,QACUxS,EAAAC,EAAAC,cAAC0S,GAAA3S,EAAD,SAInCD,EAAAC,EAAAC,cAAA,OACCC,UAAWJ,EAAQ0K,MACnB3B,IAAKsJ,EAAKxO,UACVlF,MAAO,OACP0L,OAAQ,OACR1G,MAAM,mCAOX1D,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACCC,KAAK,SACLC,WAAS,EACTH,QAAQ,YACRI,MAAM,YACN0S,QA9EqB,kBAAAC,EAAAvN,MAAAvE,KAAAwE,YA+ErB/F,UAAWJ,EAAQF,QANpB,aA9DFC,EAAMiI,QAAQC,QAAQ,UACf,MAZiB,SAAAwL,IAAA,OAAAA,EAAAhV,OAAA+I,EAAA,EAAA/I,CAAAgJ,EAAAvH,EAAAwH,KAsFzB,SAAAC,IAAA,OAAAF,EAAAvH,EAAA0H,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACOvG,EAASkS,SADhB,OAEC3T,EAAMiI,QAAQ2L,KAAK,KAFpB,wBAAA9L,EAAAM,SAAAR,OAtFyBzB,MAAAvE,KAAAwE,qFCzDpB5H,GAAQqV,eAEC,SAASC,KAAM,IAAA/I,EAEyBtG,oBAAS,GAFlCuG,EAAAtM,OAAAiG,EAAA,EAAAjG,CAAAqM,EAAA,GAEtBgJ,EAFsB/I,EAAA,GAEDgJ,EAFChJ,EAAA,GAW7B,OAPAoB,oBAAU,WACT3K,EAASwS,gBAAgBxR,KAAK,SAAAyR,GAC7BF,EAAuBE,QAKM,IAAxBH,EACN7T,EAAAC,EAAAC,cAAC+T,GAAA,EAAD,CAAkB3V,MAAOA,IACxB0B,EAAAC,EAAAC,cAACgU,GAAA,EAAD,MACAlU,EAAAC,EAAAC,cAACiU,GAAA,EAAD,KACCnU,EAAAC,EAAAC,cAACkU,GAAA,EAAD,KACCpU,EAAAC,EAAAC,cAACmU,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAI/T,UAAWgU,IACjCxU,EAAAC,EAAAC,cAACmU,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,SAAS/T,UAAWiU,IACtCzU,EAAAC,EAAAC,cAACmU,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,YAAY/T,UAAWkU,IACzC1U,EAAAC,EAAAC,cAACmU,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,aAAa/T,UAAWmU,QAI1C3U,EAAAC,EAAAC,cAAA,OAAK0G,GAAG,UAAS5G,EAAAC,EAAAC,cAAC0U,GAAA,EAAD,OChCtBC,IAASC,OAAO9U,EAAAC,EAAAC,cAAC0T,GAAD,MAAStE,SAASC,eAAe","file":"static/js/main.9f6d92e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/neutral.9fb28d9a.png\";","module.exports = __webpack_public_path__ + \"static/media/angry.e5c2193c.png\";","module.exports = __webpack_public_path__ + \"static/media/disgusted.247bc5f4.png\";","module.exports = __webpack_public_path__ + \"static/media/fearful.0298f67b.png\";","module.exports = __webpack_public_path__ + \"static/media/happy.ef7f6f04.png\";","module.exports = __webpack_public_path__ + \"static/media/sad.dda3926e.png\";","module.exports = __webpack_public_path__ + \"static/media/surprised.790e88cd.png\";","import React from 'react'\nimport { Typography, Paper, Avatar, Button } from '@material-ui/core'\nimport VerifiedUserOutlined from '@material-ui/icons/VerifiedUserOutlined'\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link } from 'react-router-dom'\n\nconst styles = theme => ({\n\tmain: {\n\t\twidth: 'auto',\n\t\tdisplay: 'block', // Fix IE 11 issue.\n\t\tmarginLeft: theme.spacing.unit * 3,\n\t\tmarginRight: theme.spacing.unit * 3,\n\t\t[theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n\t\t\twidth: 400,\n\t\t\tmarginLeft: 'auto',\n\t\t\tmarginRight: 'auto',\n\t\t},\n\t},\n\tpaper: {\n\t\tmarginTop: theme.spacing.unit * 8,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t\tpadding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing.unit,\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tsubmit: {\n\t\tmarginTop: theme.spacing.unit * 3,\n\t},\n})\n\nfunction HomePage(props) {\n\tconst { classes } = props\n\n\treturn (\n\t\t<main className={classes.main}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<VerifiedUserOutlined />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tHello Guest!\n\t\t\t\t</Typography>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tcomponent={Link}\n\t\t\t\t\tto=\"/register\"\n\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\tRegister\n          \t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tcomponent={Link}\n\t\t\t\t\tto=\"/login\"\n\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\tLogin\n          \t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tcomponent={Link}\n\t\t\t\t\tto=\"/dashboard\"\n\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\tDashboard\n          \t\t</Button>\n\t\t\t</Paper>\n\t\t</main>\n\t)\n}\n\nexport default withStyles(styles)(HomePage)","import app from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firebase-firestore'\n\nconst config = {\n\tapiKey: \"AIzaSyBQUbSmCbR4jJKA9HD2UttIZL542EK6fAE\",\n\tauthDomain: \"musiclife-56317.firebaseapp.com\",\n\tdatabaseURL: \"https://musiclife-56317-default-rtdb.europe-west1.firebasedatabase.app\",\n\tprojectId: \"musiclife-56317\",\n\tstorageBucket: \"musiclife-56317.appspot.com\",\n\tmeasurementId: \"G-BYNKLEYZ48\"\n}\n\nclass Firebase {\n\tconstructor() {\n\t\tapp.initializeApp(config)\n\t\tthis.auth = app.auth()\n\t\tthis.db = app.firestore()\n\n\t}\n\n\tlogin(email, password) {\n\t\treturn this.auth.signInWithEmailAndPassword(email, password)\n\t}\n\n\tlogout() {\n\t\treturn this.auth.signOut()\n\t}\n\tasync register(name, email, password, gender) {\n\t\tawait this.auth.createUserWithEmailAndPassword(email, password)\n\t\t\t.then((cred) => {\n\t\t\t\tthis.db.collection('usuarios').doc(cred.user.uid).set({\n\t\t\t\t\tusername: name,\n\t\t\t\t\temail: email,\n\t\t\t\t\tgender: gender,\n\t\t\t\t})\n\t\t\t});\n\n\t\treturn this.auth.currentUser.updateProfile({\n\t\t\tdisplayName: name\n\t\t})\n\t}\n\n\tisInitialized() {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.auth.onAuthStateChanged(resolve)\n\t\t})\n\t}\n\n\tgetCurrentUsername() {\n\t\treturn this.auth.currentUser && this.auth.currentUser.displayName\n\t}\n\n\tasync getUser() {\n\t\treturn await this.auth.currentUser && this.db.collection('usuarios').doc(this.auth.currentUser.uid).get().then(data => data.data())\n\t}\n\n\tasync saveSong(videoId, title, description, thumbnail) {\n\t\treturn await this.auth.currentUser && this.db.collection('usuarios').doc(this.auth.currentUser.uid).collection('songs').doc(videoId).set({\n\t\t\tvideoId: videoId,\n\t\t\ttitle: title,\n\t\t\tdescription: description,\n\t\t\tthumbnail: thumbnail\n\t\t})\n\t}\n\n\tasync saveMetrics(videoId, title, expresion, timestamp) {\n\t\treturn await this.auth.currentUser && this.db.collection('usuarios').doc(this.auth.currentUser.uid).collection('metrics').doc(videoId).set({\n\t\t\tvideoId: videoId,\n\t\t\ttitle: title,\n\t\t\texpresion: expresion,\n\t\t\ttimestamp: timestamp\n\t\t})\n\t}\n\n\tasync getMetrics() {\n\t\tconst snapshot = this.auth.currentUser && await this.db.collection('usuarios').doc(this.auth.currentUser.uid).collection('metrics').get();\n\n\t\treturn snapshot ? snapshot.docs.map(doc => doc.data()) : [];\n\t}\n\n\tasync getSongs() {\n\t\tconst snapshot = this.auth.currentUser && await this.db.collection('usuarios').doc(this.auth.currentUser.uid).collection('songs').get();\n\n\n\t\treturn snapshot ? snapshot.docs.map(doc => doc.data()) : [];\n\t}\n\n\tasync setNameGender(name, gender) {\n\t\treturn await this.auth.currentUser && this.db.collection('usuarios').doc(this.auth.currentUser.uid).set({\n\t\t\temail: this.auth.currentUser.email,\n\t\t\tusername: name,\n\t\t\tgender: gender\n\t\t})\n\t}\n}\n\nexport default new Firebase()","import React from 'react'\nimport { Typography, Paper, Avatar, Button, Input } from '@material-ui/core'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link, withRouter } from 'react-router-dom'\nimport firebase from '../firebase'\nimport {Formik} from \"formik\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nconst styles = theme => ({\n\tmain: {\n\t\twidth: 'auto',\n\t\tdisplay: 'block', // Fix IE 11 issue.\n\t\tmarginLeft: theme.spacing.unit * 3,\n\t\tmarginRight: theme.spacing.unit * 3,\n\t\t[theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n\t\t\twidth: 400,\n\t\t\tmarginLeft: 'auto',\n\t\t\tmarginRight: 'auto',\n\t\t},\n\t},\n\tpaper: {\n\t\tmarginTop: theme.spacing.unit * 8,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t\tpadding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing.unit,\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing.unit,\n\t},\n\tsubmit: {\n\t\tmarginTop: theme.spacing.unit * 3,\n\t},\n\tinput: {\n\t\tmarginTop: 10,\n\t\twidth: '100%'\n\t}\n});\n\nfunction SignIn(props) {\n\tconst { classes } = props\n\n\tconst [open, setOpen] = React.useState(false);\n\tconst [message, setErrorMessage] = React.useState('');\n\n\tconst handleClose = (event, reason) => {\n\t\tif (reason === 'clickaway') {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<main className={classes.main}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign in\n       \t\t\t</Typography>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{ email: '', password: ''}}\n\t\t\t\t\tvalidate={values => {\n\t\t\t\t\t\tconst errors = {};\n\n\t\t\t\t\t\tif (!values.password) {\n\t\t\t\t\t\t\terrors.password = 'Password is required'\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!values.email) {\n\t\t\t\t\t\t\terrors.email = 'Email is required';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\terrors.email = 'Invalid email address';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn errors;\n\t\t\t\t\t}}\n\t\t\t\t\tonSubmit={(values, { setSubmitting }) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tlogin(values.email, values.password)\n\t\t\t\t\t\t\t\t.finally(() => setSubmitting(false));\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({\n\t\t\t\t\t\t  values,\n\t\t\t\t\t\t  errors,\n\t\t\t\t\t\t  touched,\n\t\t\t\t\t\t  handleChange,\n\t\t\t\t\t\t  handleSubmit,\n\t\t\t\t\t\t  isSubmitting,\n\t\t\t\t\t  }) => (\n\t\t\t\t\t\t<form onSubmit={handleSubmit} style={{width: '100%'}}>\n\t\t\t\t\t\t\t<Input id=\"email\" name=\"email\" placeholder={'Email'} autoComplete=\"off\" value={values.email} onChange={handleChange} className={classes.input} />\n\t\t\t\t\t\t\t<Typography color={'error'}>\n\t\t\t\t\t\t\t\t{errors.email && touched.email && errors.email}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Input id=\"password\" name=\"password\" placeholder={'Password'} autoComplete=\"off\" type={'password'} value={values.password} onChange={handleChange} className={classes.input} />\n\t\t\t\t\t\t\t<Typography color={'error'}>\n\t\t\t\t\t\t\t\t{errors.password && touched.password && errors.password}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto=\"/register\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\n\t\t\t\t<Snackbar open={open} autoHideDuration={5000} onClose={handleClose}>\n\t\t\t\t\t<Alert onClose={handleClose} severity=\"error\">\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Snackbar>\n\t\t\t</Paper>\n\t\t</main>\n\t)\n\n\tasync function login(email, password) {\n\t\ttry {\n\t\t\tawait firebase.login(email, password);\n\t\t\tprops.history.replace('/dashboard')\n\t\t} catch(error) {\n\t\t\tsetOpen(true);\n\t\t\tsetErrorMessage(error.message);\n\t\t}\n\t}\n}\n\nexport default withRouter(withStyles(styles)(SignIn))","import React, { useState } from 'react'\nimport { Typography, Paper, Avatar, Button, FormControl, Input, InputLabel } from '@material-ui/core'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link, withRouter } from 'react-router-dom'\nimport firebase from '../firebase'\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {Formik} from \"formik\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nconst styles = theme => ({\n\tmain: {\n\t\twidth: 'auto',\n\t\tdisplay: 'block', // Fix IE 11 issue.\n\t\tmarginLeft: theme.spacing.unit * 3,\n\t\tmarginRight: theme.spacing.unit * 3,\n\t\t[theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n\t\t\twidth: 400,\n\t\t\tmarginLeft: 'auto',\n\t\t\tmarginRight: 'auto',\n\t\t},\n\t},\n\tpaper: {\n\t\tmarginTop: theme.spacing.unit * 8,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t\tpadding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing.unit,\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing.unit,\n\t},\n\tsubmit: {\n\t\tmarginTop: theme.spacing.unit * 3,\n\t},\n\tgender: {\n\t\twidth: '100%'\n\t},\n\tinput: {\n\t\twidth: '100%',\n\t\tmarginTop: 10\n\t}\n})\n\nfunction Register(props) {\n\tconst { classes } = props\n\n\tconst [open, setOpen] = React.useState(false);\n\tconst [message, setErrorMessage] = React.useState('');\n\n\tconst handleClose = (event, reason) => {\n\t\tif (reason === 'clickaway') {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<main className={classes.main}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tRegister Account\n       \t\t\t</Typography>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{ name: '', email: '', password: '', gender: '' }}\n\t\t\t\t\tvalidate={values => {\n\t\t\t\t\t\tconst errors = {};\n\n\t\t\t\t\t\tif (!values.name) {\n\t\t\t\t\t\t\terrors.name = 'Name is required'\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!values.password) {\n\t\t\t\t\t\t\terrors.password = 'Password is required'\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!values.gender) {\n\t\t\t\t\t\t\terrors.gender = 'Gender is required'\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!values.email) {\n\t\t\t\t\t\t\terrors.email = 'Email is required';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\terrors.email = 'Invalid email address';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn errors;\n\t\t\t\t\t}}\n\t\t\t\t\tonSubmit={(values, { setSubmitting }) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tonRegister(values.name, values.email, values.password, values.gender)\n\t\t\t\t\t\t\t\t.finally(() => setSubmitting(false));\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({\n\t\t\t\t\t\t  values,\n\t\t\t\t\t\t  errors,\n\t\t\t\t\t\t  touched,\n\t\t\t\t\t\t  handleChange,\n\t\t\t\t\t\t  handleSubmit,\n\t\t\t\t\t\t  isSubmitting,\n\t\t\t\t\t  }) => (\n\t\t\t\t\t\t<form onSubmit={handleSubmit} style={{width: '100%'}}>\n\t\t\t\t\t\t\t<Input id=\"name\" name=\"name\" placeholder={'Name'} autoComplete=\"off\" value={values.name} onChange={handleChange} className={classes.input}  />\n\t\t\t\t\t\t\t<Typography color={'error'}>\n\t\t\t\t\t\t\t\t{errors.name && touched.name && errors.name}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Input id=\"email\" name=\"email\" placeholder={'Email'} autoComplete=\"off\" value={values.email} onChange={handleChange} className={classes.input} />\n\t\t\t\t\t\t\t<Typography color={'error'}>\n\t\t\t\t\t\t\t\t{errors.email && touched.email && errors.email}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Input id=\"password\" name=\"password\" placeholder={'Password'} autoComplete=\"off\" type={'password'} value={values.password} onChange={handleChange} className={classes.input} />\n\t\t\t\t\t\t\t<Typography color={'error'}>\n\t\t\t\t\t\t\t\t{errors.password && touched.password && errors.password}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\" style={{marginTop: 16}}>Gender</InputLabel>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\n\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\n\t\t\t\t\t\t\t\tname={'gender'}\n\t\t\t\t\t\t\t\tplaceholder={'Gender'}\n\t\t\t\t\t\t\t\tvalue={values.gender}\n\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value={'male'}>Male</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value={'female'}>Female</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\n\t\t\t\t\t\t\t<Typography color={'error'}>\n\t\t\t\t\t\t\t\t{errors.gender && touched.gender && errors.gender}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\t\tGo back to Login\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\n\t\t\t\t<Snackbar open={open} autoHideDuration={5000} onClose={handleClose}>\n\t\t\t\t\t<Alert onClose={handleClose} severity=\"error\">\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Snackbar>\n\t\t\t</Paper>\n\t\t</main>\n\t)\n\n\tasync function onRegister(name, email, password, gender) {\n\t\ttry {\n\t\t\tawait firebase.register(name, email, password, gender);\n\t\t\tprops.history.replace('/dashboard');\n\t\t} catch(error) {\n\t\t\tsetOpen(true);\n\t\t\tsetErrorMessage(error.message);\n\t\t}\n\t}\n}\n\nexport default withRouter(withStyles(styles)(Register))","import React, { useEffect, useState } from \"react\"\nimport * as faceapi from 'face-api.js';\nimport withStyles from \"@material-ui/core/es/styles/withStyles\";\nimport Angry from '../../assets/angry.png';\nimport Disgusted from '../../assets/disgusted.png';\nimport Fearful from '../../assets/fearful.png';\nimport Happy from '../../assets/happy.png';\nimport Neutral from '../../assets/neutral.png';\nimport Sad from '../../assets/sad.png';\nimport Surprised from '../../assets/surprised.png';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport axios from 'axios'\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport firebase from \"../firebase\";\nimport {Button, Input, InputLabel} from \"@material-ui/core\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Formik} from \"formik\";\nimport { Doughnut } from 'react-chartjs-2';\n\nconst styles = theme => ({\n    canvas: {\n        width: '100%'\n    },\n    video: {\n        position: 'fixed',\n        opacity: 0,\n        visibility: 'hidden'\n    },\n    avatar: {\n        width: 100,\n        height: 100,\n        margin: '0 auto'\n    },\n    root: {\n        display: 'flex',\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    content: {\n        flex: '1 0 auto',\n    },\n    cover: {\n        width: 151,\n    },\n    controls: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: 16\n    },\n    playIcon: {\n        height: 38,\n        width: 38,\n    },\n    submit: {\n        marginTop: theme.spacing.unit * 3,\n    },\n    input: {\n        width: '100%'\n    }\n});\n\nconst moodStates = {\n    angry: {\n        name: 'Angry',\n        src: Angry,\n        keywords: ['Duality Slipknot', 'I Hate Everything About You Three Days Grace', 'Bodies Drowning Pool', 'Killing In The Name Rage Against The Machine']\n    },\n    disgusted: {\n        name: 'Disgusted',\n        src: Disgusted,\n        keywords: ['Knock tha Hustle', 'Demons n distractions', 'freaky 45', 'nothing']\n    },\n    fearful: {\n        name: 'Fearful',\n        src: Fearful,\n        keywords: ['not afraid', 'control', 'enter sandman', 'paranoid']\n    },\n    happy: {\n        name: 'Happy',\n        src: Happy,\n        keywords: ['frontin', 'maroon5', 'freedom', 'come and get id bae']\n    },\n    neutral: {\n        name: 'Neutral',\n        src: Neutral,\n        keywords: ['imagine dragons', 'undertale', 'linkin park', 'lil peep']\n    },\n    sad: {\n        name: 'Sad',\n        src: Sad,\n        keywords: ['beret', 'llegar√†', 'pablo alboran', 'dos hombres y un mismo destino']\n    },\n    surprised: {\n        name: 'Surprised',\n        src: Surprised,\n        keywords: ['lamo', 'lalalala', 'bajo el agua manuel medrano', 'diamons']\n    }\n}\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst Stream = (prop) => {\n    const {classes, user} = prop;\n\n    const [posts, setPosts] = useState([])\n    const [foundexp, setfoundexp] = useState('neutral');\n    const [open, setOpen] = useState(false);\n    const [metrics, setMetrics] = useState([]);\n    const [newName, setNewName] = useState(user && user.username);\n    const [gender, setGender] = useState(user && user.gender);\n\n    useEffect(() => {\n        const onSaveSong = async() => {\n            try {\n                await firebase.saveSong(posts[0].id.videoId, posts[0].snippet.title, posts[0].snippet.description, posts[0].snippet.thumbnails.default.url)\n            } catch(error) {\n                alert(error.message)\n            }\n        }\n\n        const onSaveMetrics = async() => {\n            try {\n                await firebase.saveMetrics(posts[0].id.videoId, posts[0].snippet.title, foundexp, Date.now());\n            } catch (error) {\n                alert(error.message)\n            }\n        }\n\n        if (posts.length > 0) {\n            onSaveSong().then();\n            onSaveMetrics().then();\n        }\n    }, [posts]);\n\n    useEffect(() => {\n        if (foundexp) {\n            firebase.getMetrics().then(setMetrics);\n        }\n    }, [foundexp]);\n\n    useEffect(() => {\n        const random = Math.floor(Math.random() * moodStates[foundexp].keywords.length)\n\n        axios({\n            \"method\": \"GET\",\n            \"url\": 'https://www.googleapis.com/youtube/v3/search',\n            \"params\":{\n                'part':'snippet',\n                'maxResults':'1',\n                'key':'AIzaSyB2G1P8UDUUgC4-c6czDMMpEyavuM-O9Fs',\n                'q':foundexp + moodStates[foundexp].keywords[random] + ' song'\n            }\n        })\n            .then((res) => {\n                setPosts(res.data.items)\n            })\n            .catch((error) => {\n                console.log(error)\n            })\n    },[foundexp]);\n\n    useEffect(() => {\n        Webcam();\n    }, []);\n\n    const Webcam = async() => {\n        Promise.all([\n            faceapi.nets.tinyFaceDetector.loadFromUri('./models'),\n            faceapi.nets.faceLandmark68Net.loadFromUri('./models'),\n            faceapi.nets.faceExpressionNet.loadFromUri('./models'),\n        ]).then(startVideo)\n        const video = document.getElementById('video')\n        function startVideo() {\n            navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;\n            if (navigator.getUserMedia) {\n                navigator.getUserMedia(\n                    { video: {} },\n                    stream => video.srcObject = stream,\n                    err => console.error(err)\n                )\n            }\n        }\n\n        video.addEventListener('play', () => {\n            const canvas = document.getElementById('canvas')\n            const displaySize = { width: video.videoWidth, height: video.videoHeight }\n            faceapi.matchDimensions(canvas, displaySize)\n\n            setInterval(async () => {\n                const detections = await faceapi.detectSingleFace(video, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions()\n                if (detections) {\n\n                    const expression = (detections.expressions)\n                    const values = Object.values(expression)\n                    const exp_inx = values.indexOf(Math.max.apply(Math, values))\n                    const exp = Object.getOwnPropertyNames(expression)[exp_inx]\n                    setfoundexp(exp)\n                }\n\n            }, 10000);\n        })\n    }\n\n\n    const getMetrics = () => {\n        if (metrics) {\n            const array = [0, 0, 0, 0, 0, 0, 0];\n\n            metrics.map(m => {\n                switch (m.expresion) {\n                    case 'angry':\n                        array[0] += 1;\n                        break;\n\n                    case 'disgusted':\n                        array[1] += 1;\n                        break;\n\n                    case 'fearful':\n                        array[2] += 1;\n                        break;\n\n                    case 'happy':\n                        array[3] += 1;\n                        break;\n\n                    case 'neutral':\n                        array[4] += 1;\n                        break;\n\n                    case 'sad':\n                        array[5] += 1;\n                        break;\n\n                    case 'surprised':\n                        array[6] += 1;\n                        break;\n                }\n            })\n\n\n            return array;\n        }\n    }\n    console.log(metrics);\n    const data = {\n        labels: ['Angry', 'Disgusted', 'Fearful', 'Happy', 'Neutral', 'Sad', 'Surprised'],\n        datasets: [{\n            label: 'My First Dataset',\n            data: getMetrics(),\n            backgroundColor: [\n                'rgb(255, 99, 132)',\n                'rgb(54, 162, 235)',\n                'rgb(255, 205, 86)',\n                'rgb(156,255,86)',\n                'rgb(122,121,118)',\n                'rgb(29,29,29)',\n                'rgb(248,53,92)',\n            ],\n            hoverOffset: 4\n        }]\n    };\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n\n        setOpen(false);\n    };\n\n    return (\n        <div style={{width: '100%'}}>\n            <div style={{display: 'flex'}}>\n                <Avatar alt=\"MoodState\" src={moodStates[foundexp] !== undefined ? moodStates[foundexp].src : Neutral} className={classes.avatar} />\n            </div>\n            <div style={{width: '100%'}}>\n                <div style={{textAlign: 'center'}}>\n                    <h1>{moodStates[foundexp] !== undefined ? moodStates[foundexp].name : 'Detecting...'}</h1>\n\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Hello { newName + ', ' + gender }\n                    </Typography>\n                </div>\n\n                <Accordion style={{marginTop: 16, marginBottom: 16, width: '100%'}}>\n                    <AccordionSummary\n                        expandIcon={<ExpandMoreIcon />}\n                        aria-controls=\"panel1bh-content\"\n                        id=\"panel1bh-header\"\n                    >\n                        <Typography className={classes.heading}>Account settings</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n\n                        <Formik\n                            initialValues={{ name: user && user.username, gender: user && user.gender}}\n                            enableReinitialize={true}\n                            validate={values => {\n                                const errors = {};\n\n                                if (!values.name) {\n                                    errors.name = 'Name is required'\n                                }\n\n                                if (!values.gender) {\n                                    errors.gender = 'Gender is required';\n                                }\n\n                                return errors;\n                            }}\n                            onSubmit={(values, { setSubmitting }) => {\n                                setTimeout(() => {\n                                    setNameGender(values.name, values.gender)\n                                        .then(() => {\n                                            setNewName(values.name);\n                                            setGender(values.gender);\n                                        })\n                                        .finally(() => setSubmitting(false));\n                                }, 400);\n                            }}\n                        >\n                            {({\n                                  values,\n                                  errors,\n                                  touched,\n                                  handleChange,\n                                  handleSubmit,\n                                  isSubmitting,\n                              }) => (\n                                <form onSubmit={handleSubmit} style={{width: '100%'}}>\n                                    <Input name=\"name\" placeholder={'name'} autoComplete=\"off\" type={'text'} value={values.name} onChange={handleChange} className={classes.input} />\n                                    <Typography color={'error'}>\n                                        {errors.name && touched.name && errors.name}\n                                    </Typography>\n\n                                    <InputLabel id=\"demo-simple-select-label\" style={{marginTop: 16}}>Gender</InputLabel>\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        name={'gender'}\n                                        placeholder={'Gender'}\n                                        value={values.gender}\n                                        className={classes.input}\n                                        onChange={handleChange}\n                                    >\n                                        <MenuItem value={'male'}>Male</MenuItem>\n                                        <MenuItem value={'female'}>Female</MenuItem>\n                                    </Select>\n\n                                    <Typography color={'error'}>\n                                        {errors.gender && touched.gender && errors.gender}\n                                    </Typography>\n\n                                    <Button\n                                        type=\"submit\"\n                                        fullWidth\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        className={classes.submit}>\n                                        Save changes\n                                    </Button>\n                                </form>\n                            )}\n                        </Formik>\n\n                        <div>\n                            <Doughnut data={data} width={300} height={300} />\n                        </div>\n\n                        <Snackbar open={open} autoHideDuration={5000} onClose={handleClose}>\n                            <Alert onClose={handleClose} severity=\"success\">\n                                Changes saved!\n                            </Alert>\n                        </Snackbar>\n                    </AccordionDetails>\n                </Accordion>\n\n\n                <div style={{textAlign: 'center'}}>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Song recommended:\n                    </Typography>\n                </div>\n            </div>\n\n            <canvas id=\"canvas\" className={classes.video} />\n            <video id=\"video\" width=\"100%\" height=\"auto\" autoPlay muted className={classes.video} />\n\n            {posts.length > 0 && (\n                posts.map(item => {\n                    return (\n                        <Card className={classes.root} key={item.id}>\n                            <div className={classes.details}>\n                                <CardContent className={classes.content}>\n                                    <Typography component=\"h5\" variant=\"h5\">\n                                        {item.snippet.title}\n                                    </Typography>\n                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                        {item.snippet.description}\n                                    </Typography>\n                                </CardContent>\n                                <div className={classes.controls}>\n                                    <IconButton aria-label=\"previous\">\n                                        {false ? <SkipNextIcon /> : <SkipPreviousIcon />}\n                                    </IconButton>\n                                    <IconButton aria-label=\"play/pause\">\n                                        <a href={'https://www.youtube.com/watch?v=' + item.id.videoId}>\n                                            <PlayArrowIcon className={classes.playIcon} />\n                                        </a>\n                                    </IconButton>\n                                    <IconButton aria-label=\"next\">\n                                        {false ? <SkipPreviousIcon /> : <SkipNextIcon />}\n                                    </IconButton>\n                                </div>\n                            </div>\n                            <img\n                                className={classes.cover}\n                                src={item.snippet.thumbnails.default.url}\n                                title=\"Live from space album cover\"\n                            />\n                        </Card>\n                    )\n                })\n            )}\n        </div>\n    )\n\n    async function setNameGender(name, gender) {\n        try {\n            await firebase.setNameGender(name, gender).then(() => setOpen(true));\n        } catch(error) {\n            alert(error.message)\n        }\n    }\n}\n\nexport default withStyles(styles)(Stream);","import React, { useEffect, useState } from 'react'\nimport { Typography, Paper, Avatar, CircularProgress, Button } from '@material-ui/core'\nimport VerifiedUserOutlined from '@material-ui/icons/VerifiedUserOutlined'\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport firebase from '../firebase'\nimport { withRouter } from 'react-router-dom'\nimport Stream from \"./Stream\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\n\nconst styles = theme => ({\n\tmain: {\n\t\twidth: 'auto',\n\t\tdisplay: 'block', // Fix IE 11 issue.\n\t\tmarginLeft: theme.spacing.unit * 3,\n\t\tmarginRight: theme.spacing.unit * 3,\n\t\t[theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n\t\t\twidth: 1000,\n\t\t\tmarginLeft: 'auto',\n\t\t\tmarginRight: 'auto',\n\t\t},\n\t},\n\tpaper: {\n\t\tmarginTop: theme.spacing.unit * 8,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t\tpadding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing.unit,\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tsubmit: {\n\t\tmarginTop: theme.spacing.unit * 3,\n\t},\n\troot: {\n\t\tdisplay: 'flex',\n\t\tmarginBottom: 16,\n\t\tmaxWidth: 555,\n\t\tmarginTop: 16,\n\t\twidth: '100%'\n\t},\n\tdetails: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t},\n\tcontent: {\n\t\tflex: '1 0 auto',\n\t},\n\tcover: {\n\t\twidth: 151,\n\t},\n\tcontrols: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tpadding: 16\n\t},\n\tplayIcon: {\n\t\theight: 38,\n\t\twidth: 38,\n\t},\n})\n\nfunction Dashboard(props) {\n\tconst { classes } = props;\n\tconst [user, setUser] = useState(null);\n\tconst [songs, setSongs] = useState([]);\n\n\tuseEffect(() => {\n\t\tfirebase.getUser().then(setUser);\n\t\tfirebase.getSongs().then(setSongs);\n\t}, []);\n\n\tif(!firebase.getCurrentUsername()) {\n\t\tprops.history.replace('/login');\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<main className={classes.main}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<VerifiedUserOutlined />\n\t\t\t\t</Avatar>\n\n\t\t\t\t{user && (\n\t\t\t\t\t<Stream user={user} />\n\t\t\t\t)}\n\n\t\t\t\t{songs && songs.length > 0 && (\n\t\t\t\t\t<div style={{marginTop: 16, marginBottom: 16}}>\n\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\" style={{color: '#ff3a89'}}>\n\t\t\t\t\t\t\tAlready recommended\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{songs.length > 0 && (\n\t\t\t\t\tsongs.map(item => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Card className={classes.root} key={item.id}>\n\t\t\t\t\t\t\t\t<div className={classes.details}>\n\t\t\t\t\t\t\t\t\t<CardContent className={classes.content}>\n\t\t\t\t\t\t\t\t\t\t<Typography component=\"h5\" variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"previous\">\n\t\t\t\t\t\t\t\t\t\t\t{false ? <SkipNextIcon /> : <SkipPreviousIcon />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"play/pause\">\n\t\t\t\t\t\t\t\t\t\t\t<a href={'https://www.youtube.com/watch?v=' + item.videoId}>\n\t\t\t\t\t\t\t\t\t\t\t\t<PlayArrowIcon className={classes.playIcon} />\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"next\">\n\t\t\t\t\t\t\t\t\t\t\t{false ? <SkipPreviousIcon /> : <SkipNextIcon />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName={classes.cover}\n\t\t\t\t\t\t\t\t\tsrc={item.thumbnail}\n\t\t\t\t\t\t\t\t\twidth={'100%'}\n\t\t\t\t\t\t\t\t\theight={'100%'}\n\t\t\t\t\t\t\t\t\ttitle=\"Live from space album cover\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t)}\n\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tonClick={logout}\n\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\tLogout\n          \t\t</Button>\n\t\t\t</Paper>\n\t\t</main>\n\t)\n\n\tasync function logout() {\n\t\tawait firebase.logout()\n\t\tprops.history.push('/')\n\t}\n}\n\nexport default withRouter(withStyles(styles)(Dashboard))","import React, { useState, useEffect } from 'react'\nimport './styles.css'\nimport HomePage from '../HomePage'\nimport Login from '../Login'\nimport Register from '../Register'\nimport Dashboard from '../Dashboard'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport { CssBaseline, CircularProgress } from '@material-ui/core'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport firebase from '../firebase'\n\nconst theme = createMuiTheme()\n\nexport default function App() {\n\n\tconst [firebaseInitialized, setFirebaseInitialized] = useState(false)\n\n\tuseEffect(() => {\n\t\tfirebase.isInitialized().then(val => {\n\t\t\tsetFirebaseInitialized(val)\n\t\t})\n\t})\n\n\n\treturn firebaseInitialized !== false ? (\n\t\t<MuiThemeProvider theme={theme}>\n\t\t\t<CssBaseline />\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t<Route exact path=\"/register\" component={Register} />\n\t\t\t\t\t<Route exact path=\"/dashboard\" component={Dashboard} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</MuiThemeProvider>\n\t) : <div id=\"loader\"><CircularProgress /></div>\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}