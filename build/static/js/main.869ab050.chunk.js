(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,a,t){e.exports=t(426)},253:function(e,a,t){},426:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(23),c=t.n(i),s=t(22),o=(t(253),t(29)),u=t(3),l=t(67),m=t.n(l),p=t(7),g=t.n(p),d=t(427);var h=g()(function(e){return{main:Object(o.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},submit:{marginTop:3*e.spacing.unit}}})(function(e){var a=e.classes;return r.a.createElement("main",{className:a.main},r.a.createElement(u.h,{className:a.paper},r.a.createElement(u.a,{className:a.avatar},r.a.createElement(m.a,null)),r.a.createElement(u.i,{component:"h1",variant:"h5"},"Hello Guest!"),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:d.a,to:"/register",className:a.submit},"Register"),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:d.a,to:"/login",className:a.submit},"Login"),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:d.a,to:"/dashboard",className:a.submit},"Dashboard")))}),f=t(18),b=t.n(f),E=t(27),v=t(68),y=t.n(v),w=t(430),x=t(164),j=t(165),O=t(72),k=t.n(O),N=(t(396),t(398),{apiKey:"AIzaSyBQUbSmCbR4jJKA9HD2UttIZL542EK6fAE",authDomain:"musiclife-56317.firebaseapp.com",databaseURL:"https://musiclife-56317-default-rtdb.europe-west1.firebasedatabase.app",projectId:"musiclife-56317",storageBucket:"musiclife-56317.appspot.com",measurementId:"G-BYNKLEYZ48"}),C=new(function(){function e(){Object(x.a)(this,e),k.a.initializeApp(N),this.auth=k.a.auth(),this.db=k.a.firestore()}return Object(j.a)(e,[{key:"login",value:function(e,a){return this.auth.signInWithEmailAndPassword(e,a)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"register",value:function(){var e=Object(E.a)(b.a.mark(function e(a,t,n,r){var i=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(t,n).then(function(e){i.db.collection("usuarios").doc(e.user.uid).set({username:a,email:t,gender:r})});case 2:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:a}));case 3:case"end":return e.stop()}},e,this)}));return function(a,t,n,r){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){var e=this;return new Promise(function(a){e.auth.onAuthStateChanged(a)})}},{key:"getCurrentUsername",value:function(){return this.auth.currentUser&&this.auth.currentUser.displayName}},{key:"getUser",value:function(){var e=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.currentUser;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=this.db.collection("usuarios").doc(this.auth.currentUser.uid).get().then(function(e){return e.data()});case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}());var S=Object(w.a)(g()(function(e){return{main:Object(o.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var a=e.classes,t=Object(n.useState)(""),i=Object(s.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(""),m=Object(s.a)(l,2),p=m[0],g=m[1];return r.a.createElement("main",{className:a.main},r.a.createElement(u.h,{className:a.paper},r.a.createElement(u.a,{className:a.avatar},r.a.createElement(y.a,null)),r.a.createElement(u.i,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(u.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(u.g,{htmlFor:"email"},"Email Address"),r.a.createElement(u.f,{id:"email",name:"email",autoComplete:"off",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(u.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(u.g,{htmlFor:"password"},"Password"),r.a.createElement(u.f,{name:"password",type:"password",id:"password",autoComplete:"off",value:p,onChange:function(e){return g(e.target.value)}})),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return h.apply(this,arguments)},className:a.submit},"Sign in"),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:d.a,to:"/register",className:a.submit},"Register"))));function h(){return(h=Object(E.a)(b.a.mark(function a(){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.login(c,p);case 3:e.history.replace("/dashboard"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),alert(a.t0.message);case 9:case"end":return a.stop()}},a,this,[[0,6]])}))).apply(this,arguments)}})),W=t(66),L=t.n(W),R=t(50),I=t.n(R);var U=Object(w.a)(g()(function(e){return{main:Object(o.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},gender:{width:"100%"}}})(function(e){var a=e.classes,t=Object(n.useState)(""),i=Object(s.a)(t,2),c=i[0],o=i[1],l=Object(n.useState)(""),m=Object(s.a)(l,2),p=m[0],g=m[1],h=Object(n.useState)(""),f=Object(s.a)(h,2),v=f[0],w=f[1],x=Object(n.useState)(""),j=Object(s.a)(x,2),O=j[0],k=j[1];return r.a.createElement("main",{className:a.main},r.a.createElement(u.h,{className:a.paper},r.a.createElement(u.a,{className:a.avatar},r.a.createElement(y.a,null)),r.a.createElement(u.i,{component:"h1",variant:"h5"},"Register Account"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(u.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(u.g,{htmlFor:"name"},"Name"),r.a.createElement(u.f,{id:"name",name:"name",autoComplete:"off",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(u.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(u.g,{htmlFor:"email"},"Email Address"),r.a.createElement(u.f,{id:"email",name:"email",autoComplete:"off",value:p,onChange:function(e){return g(e.target.value)}})),r.a.createElement(u.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(u.g,{htmlFor:"password"},"Password"),r.a.createElement(u.f,{name:"password",type:"password",id:"password",autoComplete:"off",value:v,onChange:function(e){return w(e.target.value)}})),r.a.createElement(u.e,{className:a.gender},r.a.createElement(u.g,{id:"demo-simple-select-label"},"Gender"),r.a.createElement(L.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,onChange:function(e){k(e.target.value)}},r.a.createElement(I.a,{value:"male"},"Male"),r.a.createElement(I.a,{value:"female"},"Female"))),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return N.apply(this,arguments)},className:a.submit},"Register"),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:d.a,to:"/login",className:a.submit},"Go back to Login"))));function N(){return(N=Object(E.a)(b.a.mark(function a(){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.register(c,p,v,O);case 3:e.history.replace("/dashboard"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),alert(a.t0.message);case 9:case"end":return a.stop()}},a,this,[[0,6]])}))).apply(this,arguments)}}));var T=Object(w.a)(g()(function(e){return{main:Object(o.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},submit:{marginTop:3*e.spacing.unit}}})(function(e){var a=e.classes,t=Object(n.useState)(null),i=Object(s.a)(t,2),c=i[0],o=i[1];return Object(n.useEffect)(function(){C.getUser().then(o)},[]),C.getCurrentUsername()?r.a.createElement("main",{className:a.main},r.a.createElement(u.h,{className:a.paper},r.a.createElement(u.a,{className:a.avatar},r.a.createElement(m.a,null)),r.a.createElement(u.i,{component:"h1",variant:"h5"},"Hello ",c&&c.username),r.a.createElement(u.i,{component:"h1",variant:"h5"},"Your Gender: ",c?'"'.concat(c.gender,'"'):r.a.createElement(u.c,{size:20})),r.a.createElement(u.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return l.apply(this,arguments)},className:a.submit},"Logout"))):(alert("Please login first"),e.history.replace("/login"),null);function l(){return(l=Object(E.a)(b.a.mark(function a(){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.logout();case 2:e.history.push("/");case 3:case"end":return a.stop()}},a,this)}))).apply(this,arguments)}})),A=t(21),D=t(429),F=t(431),P=t(428),q=Object(A.createMuiTheme)();c.a.render(r.a.createElement(function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],i=a[1];return Object(n.useEffect)(function(){C.isInitialized().then(function(e){i(e)})}),!1!==t?r.a.createElement(A.MuiThemeProvider,{theme:q},r.a.createElement(u.d,null),r.a.createElement(D.a,null,r.a.createElement(F.a,null,r.a.createElement(P.a,{exact:!0,path:"/",component:h}),r.a.createElement(P.a,{exact:!0,path:"/login",component:S}),r.a.createElement(P.a,{exact:!0,path:"/register",component:U}),r.a.createElement(P.a,{exact:!0,path:"/dashboard",component:T})))):r.a.createElement("div",{id:"loader"},r.a.createElement(u.c,null))},null),document.getElementById("root"))}},[[248,2,1]]]);
//# sourceMappingURL=main.869ab050.chunk.js.map